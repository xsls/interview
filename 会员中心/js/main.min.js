function passwordStrength(){$("#password").bind("keyup",function(){var e=getPasswordStrength(this.value),t=this.percents,n=Math.floor(e/t);alert(n)})}function getPasswordStrength(e){var t=e.length;if(0==t)return 0;t>6&&(t=6);var n=0,i=e.replace(/[0-9]/g,""),s=e.length-i.length;s>3&&(s=3);var r=e.replace(/[A-Za-z]/g,""),a=e.length-r.length;a>3&&(a=3);var o=e.replace(/\W/g,""),l=e.length-o.length;return l>3&&(l=3),6==t&&(n=1,a>0&&(n=1),(s>0&&l>0||s>0&&a>0||l>0&&a>0)&&(n=2),s>0&&l>0&&a>0&&(n=3)),n}function hex_md5(e){return binl2hex(core_md5(str2binl(e),e.length*chrsz))}function b64_md5(e){return binl2b64(core_md5(str2binl(e),e.length*chrsz))}function str_md5(e){return binl2str(core_md5(str2binl(e),e.length*chrsz))}function hex_hmac_md5(e,t){return binl2hex(core_hmac_md5(e,t))}function b64_hmac_md5(e,t){return binl2b64(core_hmac_md5(e,t))}function str_hmac_md5(e,t){return binl2str(core_hmac_md5(e,t))}function md5_vm_test(){return"900150983cd24fb0d6963f7d28e17f72"==hex_md5("abc")}function core_md5(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var n=1732584193,i=-271733879,s=-1732584194,r=271733878,a=0;a<e.length;a+=16){var o=n,l=i,c=s,u=r;n=md5_ff(n,i,s,r,e[a+0],7,-680876936),r=md5_ff(r,n,i,s,e[a+1],12,-389564586),s=md5_ff(s,r,n,i,e[a+2],17,606105819),i=md5_ff(i,s,r,n,e[a+3],22,-1044525330),n=md5_ff(n,i,s,r,e[a+4],7,-176418897),r=md5_ff(r,n,i,s,e[a+5],12,1200080426),s=md5_ff(s,r,n,i,e[a+6],17,-1473231341),i=md5_ff(i,s,r,n,e[a+7],22,-45705983),n=md5_ff(n,i,s,r,e[a+8],7,1770035416),r=md5_ff(r,n,i,s,e[a+9],12,-1958414417),s=md5_ff(s,r,n,i,e[a+10],17,-42063),i=md5_ff(i,s,r,n,e[a+11],22,-1990404162),n=md5_ff(n,i,s,r,e[a+12],7,1804603682),r=md5_ff(r,n,i,s,e[a+13],12,-40341101),s=md5_ff(s,r,n,i,e[a+14],17,-1502002290),i=md5_ff(i,s,r,n,e[a+15],22,1236535329),n=md5_gg(n,i,s,r,e[a+1],5,-165796510),r=md5_gg(r,n,i,s,e[a+6],9,-1069501632),s=md5_gg(s,r,n,i,e[a+11],14,643717713),i=md5_gg(i,s,r,n,e[a+0],20,-373897302),n=md5_gg(n,i,s,r,e[a+5],5,-701558691),r=md5_gg(r,n,i,s,e[a+10],9,38016083),s=md5_gg(s,r,n,i,e[a+15],14,-660478335),i=md5_gg(i,s,r,n,e[a+4],20,-405537848),n=md5_gg(n,i,s,r,e[a+9],5,568446438),r=md5_gg(r,n,i,s,e[a+14],9,-1019803690),s=md5_gg(s,r,n,i,e[a+3],14,-187363961),i=md5_gg(i,s,r,n,e[a+8],20,1163531501),n=md5_gg(n,i,s,r,e[a+13],5,-1444681467),r=md5_gg(r,n,i,s,e[a+2],9,-51403784),s=md5_gg(s,r,n,i,e[a+7],14,1735328473),i=md5_gg(i,s,r,n,e[a+12],20,-1926607734),n=md5_hh(n,i,s,r,e[a+5],4,-378558),r=md5_hh(r,n,i,s,e[a+8],11,-2022574463),s=md5_hh(s,r,n,i,e[a+11],16,1839030562),i=md5_hh(i,s,r,n,e[a+14],23,-35309556),n=md5_hh(n,i,s,r,e[a+1],4,-1530992060),r=md5_hh(r,n,i,s,e[a+4],11,1272893353),s=md5_hh(s,r,n,i,e[a+7],16,-155497632),i=md5_hh(i,s,r,n,e[a+10],23,-1094730640),n=md5_hh(n,i,s,r,e[a+13],4,681279174),r=md5_hh(r,n,i,s,e[a+0],11,-358537222),s=md5_hh(s,r,n,i,e[a+3],16,-722521979),i=md5_hh(i,s,r,n,e[a+6],23,76029189),n=md5_hh(n,i,s,r,e[a+9],4,-640364487),r=md5_hh(r,n,i,s,e[a+12],11,-421815835),s=md5_hh(s,r,n,i,e[a+15],16,530742520),i=md5_hh(i,s,r,n,e[a+2],23,-995338651),n=md5_ii(n,i,s,r,e[a+0],6,-198630844),r=md5_ii(r,n,i,s,e[a+7],10,1126891415),s=md5_ii(s,r,n,i,e[a+14],15,-1416354905),i=md5_ii(i,s,r,n,e[a+5],21,-57434055),n=md5_ii(n,i,s,r,e[a+12],6,1700485571),r=md5_ii(r,n,i,s,e[a+3],10,-1894986606),s=md5_ii(s,r,n,i,e[a+10],15,-1051523),i=md5_ii(i,s,r,n,e[a+1],21,-2054922799),n=md5_ii(n,i,s,r,e[a+8],6,1873313359),r=md5_ii(r,n,i,s,e[a+15],10,-30611744),s=md5_ii(s,r,n,i,e[a+6],15,-1560198380),i=md5_ii(i,s,r,n,e[a+13],21,1309151649),n=md5_ii(n,i,s,r,e[a+4],6,-145523070),r=md5_ii(r,n,i,s,e[a+11],10,-1120210379),s=md5_ii(s,r,n,i,e[a+2],15,718787259),i=md5_ii(i,s,r,n,e[a+9],21,-343485551),n=safe_add(n,o),i=safe_add(i,l),s=safe_add(s,c),r=safe_add(r,u)}return Array(n,i,s,r)}function md5_cmn(e,t,n,i,s,r){return safe_add(bit_rol(safe_add(safe_add(t,e),safe_add(i,r)),s),n)}function md5_ff(e,t,n,i,s,r,a){return md5_cmn(t&n|~t&i,e,t,s,r,a)}function md5_gg(e,t,n,i,s,r,a){return md5_cmn(t&i|n&~i,e,t,s,r,a)}function md5_hh(e,t,n,i,s,r,a){return md5_cmn(t^n^i,e,t,s,r,a)}function md5_ii(e,t,n,i,s,r,a){return md5_cmn(n^(t|~i),e,t,s,r,a)}function core_hmac_md5(e,t){var n=str2binl(e);n.length>16&&(n=core_md5(n,e.length*chrsz));for(var i=Array(16),s=Array(16),r=0;16>r;r++)i[r]=909522486^n[r],s[r]=1549556828^n[r];var a=core_md5(i.concat(str2binl(t)),512+t.length*chrsz);return core_md5(s.concat(a),640)}function safe_add(e,t){var n=(65535&e)+(65535&t),i=(e>>16)+(t>>16)+(n>>16);return i<<16|65535&n}function bit_rol(e,t){return e<<t|e>>>32-t}function str2binl(e){for(var t=Array(),n=(1<<chrsz)-1,i=0;i<e.length*chrsz;i+=chrsz)t[i>>5]|=(e.charCodeAt(i/chrsz)&n)<<i%32;return t}function binl2str(e){for(var t="",n=(1<<chrsz)-1,i=0;i<32*e.length;i+=chrsz)t+=String.fromCharCode(e[i>>5]>>>i%32&n);return t}function binl2hex(e){for(var t=hexcase?"0123456789ABCDEF":"0123456789abcdef",n="",i=0;i<4*e.length;i++)n+=t.charAt(e[i>>2]>>i%4*8+4&15)+t.charAt(e[i>>2]>>i%4*8&15);return n}function binl2b64(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="",i=0;i<4*e.length;i+=3)for(var s=(e[i>>2]>>8*(i%4)&255)<<16|(e[i+1>>2]>>8*((i+1)%4)&255)<<8|e[i+2>>2]>>8*((i+2)%4)&255,r=0;4>r;r++)n+=8*i+6*r>32*e.length?b64pad:t.charAt(s>>6*(3-r)&63);return n}!function(e,t){function n(e){var t=e.length,n=lt.type(e);return lt.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function i(e){var t=kt[e]={};return lt.each(e.match(ut)||[],function(e,n){t[n]=!0}),t}function s(e,n,i,s){if(lt.acceptData(e)){var r,a,o=lt.expando,l="string"==typeof n,c=e.nodeType,u=c?lt.cache:e,d=c?e[o]:e[o]&&o;if(d&&u[d]&&(s||u[d].data)||!l||i!==t)return d||(c?e[o]=d=Z.pop()||lt.guid++:d=o),u[d]||(u[d]={},c||(u[d].toJSON=lt.noop)),("object"==typeof n||"function"==typeof n)&&(s?u[d]=lt.extend(u[d],n):u[d].data=lt.extend(u[d].data,n)),r=u[d],s||(r.data||(r.data={}),r=r.data),i!==t&&(r[lt.camelCase(n)]=i),l?(a=r[n],null==a&&(a=r[lt.camelCase(n)])):a=r,a}}function r(e,t,n){if(lt.acceptData(e)){var i,s,r,a=e.nodeType,l=a?lt.cache:e,c=a?e[lt.expando]:lt.expando;if(l[c]){if(t&&(r=n?l[c]:l[c].data)){lt.isArray(t)?t=t.concat(lt.map(t,lt.camelCase)):t in r?t=[t]:(t=lt.camelCase(t),t=t in r?[t]:t.split(" "));for(i=0,s=t.length;s>i;i++)delete r[t[i]];if(!(n?o:lt.isEmptyObject)(r))return}(n||(delete l[c].data,o(l[c])))&&(a?lt.cleanData([e],!0):lt.support.deleteExpando||l!=l.window?delete l[c]:l[c]=null)}}}function a(e,n,i){if(i===t&&1===e.nodeType){var s="data-"+n.replace(Ct,"-$1").toLowerCase();if(i=e.getAttribute(s),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:St.test(i)?lt.parseJSON(i):i}catch(r){}lt.data(e,n,i)}else i=t}return i}function o(e){var t;for(t in e)if(("data"!==t||!lt.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function c(){return!1}function u(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function d(e,t,n){if(t=t||0,lt.isFunction(t))return lt.grep(e,function(e,i){var s=!!t.call(e,i,e);return s===n});if(t.nodeType)return lt.grep(e,function(e){return e===t===n});if("string"==typeof t){var i=lt.grep(e,function(e){return 1===e.nodeType});if($t.test(t))return lt.filter(t,i,!n);t=lt.filter(t,i)}return lt.grep(e,function(e){return lt.inArray(e,t)>=0===n})}function h(e){var t=Vt.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function p(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function f(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function m(e){var t=rn.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function g(e,t){for(var n,i=0;null!=(n=e[i]);i++)lt._data(n,"globalEval",!t||lt._data(t[i],"globalEval"))}function v(e,t){if(1===t.nodeType&&lt.hasData(e)){var n,i,s,r=lt._data(e),a=lt._data(t,r),o=r.events;if(o){delete a.handle,a.events={};for(n in o)for(i=0,s=o[n].length;s>i;i++)lt.event.add(t,n,o[n][i])}a.data&&(a.data=lt.extend({},a.data))}}function _(e,t){var n,i,s;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!lt.support.noCloneEvent&&t[lt.expando]){s=lt._data(t);for(i in s.events)lt.removeEvent(t,i,s.handle);t.removeAttribute(lt.expando)}"script"===n&&t.text!==e.text?(f(t).text=e.text,m(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),lt.support.html5Clone&&e.innerHTML&&!lt.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&tn.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function y(e,n){var i,s,r=0,a=typeof e.getElementsByTagName!==Q?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==Q?e.querySelectorAll(n||"*"):t;if(!a)for(a=[],i=e.childNodes||e;null!=(s=i[r]);r++)!n||lt.nodeName(s,n)?a.push(s):lt.merge(a,y(s,n));return n===t||n&&lt.nodeName(e,n)?lt.merge([e],a):a}function b(e){tn.test(e.type)&&(e.defaultChecked=e.checked)}function w(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,s=Cn.length;s--;)if(t=Cn[s]+n,t in e)return t;return i}function x(e,t){return e=t||e,"none"===lt.css(e,"display")||!lt.contains(e.ownerDocument,e)}function k(e,t){for(var n,i,s,r=[],a=0,o=e.length;o>a;a++)i=e[a],i.style&&(r[a]=lt._data(i,"olddisplay"),n=i.style.display,t?(r[a]||"none"!==n||(i.style.display=""),""===i.style.display&&x(i)&&(r[a]=lt._data(i,"olddisplay",D(i.nodeName)))):r[a]||(s=x(i),(n&&"none"!==n||!s)&&lt._data(i,"olddisplay",s?n:lt.css(i,"display"))));for(a=0;o>a;a++)i=e[a],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[a]||"":"none"));return e}function S(e,t,n){var i=_n.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function C(e,t,n,i,s){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,a=0;4>r;r+=2)"margin"===n&&(a+=lt.css(e,n+Sn[r],!0,s)),i?("content"===n&&(a-=lt.css(e,"padding"+Sn[r],!0,s)),"margin"!==n&&(a-=lt.css(e,"border"+Sn[r]+"Width",!0,s))):(a+=lt.css(e,"padding"+Sn[r],!0,s),"padding"!==n&&(a+=lt.css(e,"border"+Sn[r]+"Width",!0,s)));return a}function T(e,t,n){var i=!0,s="width"===t?e.offsetWidth:e.offsetHeight,r=dn(e),a=lt.support.boxSizing&&"border-box"===lt.css(e,"boxSizing",!1,r);if(0>=s||null==s){if(s=hn(e,t,r),(0>s||null==s)&&(s=e.style[t]),yn.test(s))return s;i=a&&(lt.support.boxSizingReliable||s===e.style[t]),s=parseFloat(s)||0}return s+C(e,t,n||(a?"border":"content"),i,r)+"px"}function D(e){var t=J,n=wn[e];return n||(n=E(e,t),"none"!==n&&n||(un=(un||lt("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(un[0].contentWindow||un[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=E(e,t),un.detach()),wn[e]=n),n}function E(e,t){var n=lt(t.createElement(e)).appendTo(t.body),i=lt.css(n[0],"display");return n.remove(),i}function F(e,t,n,i){var s;if(lt.isArray(t))lt.each(t,function(t,s){n||Dn.test(e)?i(e,s):F(e+"["+("object"==typeof s?t:"")+"]",s,n,i)});else if(n||"object"!==lt.type(t))i(e,t);else for(s in t)F(e+"["+s+"]",t[s],n,i)}function I(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,s=0,r=t.toLowerCase().match(ut)||[];if(lt.isFunction(n))for(;i=r[s++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function N(e,t,n,i){function s(o){var l;return r[o]=!0,lt.each(e[o]||[],function(e,o){var c=o(t,n,i);return"string"!=typeof c||a||r[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)}),l}var r={},a=e===zn;return s(t.dataTypes[0])||!r["*"]&&s("*")}function A(e,n){var i,s,r=lt.ajaxSettings.flatOptions||{};for(s in n)n[s]!==t&&((r[s]?e:i||(i={}))[s]=n[s]);return i&&lt.extend(!0,e,i),e}function L(e,n,i){var s,r,a,o,l=e.contents,c=e.dataTypes,u=e.responseFields;for(o in u)o in i&&(n[u[o]]=i[o]);for(;"*"===c[0];)c.shift(),r===t&&(r=e.mimeType||n.getResponseHeader("Content-Type"));if(r)for(o in l)if(l[o]&&l[o].test(r)){c.unshift(o);break}if(c[0]in i)a=c[0];else{for(o in i){if(!c[0]||e.converters[o+" "+c[0]]){a=o;break}s||(s=o)}a=a||s}return a?(a!==c[0]&&c.unshift(a),i[a]):void 0}function U(e,t){var n,i,s,r,a={},o=0,l=e.dataTypes.slice(),c=l[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l[1])for(s in e.converters)a[s.toLowerCase()]=e.converters[s];for(;i=l[++o];)if("*"!==i){if("*"!==c&&c!==i){if(s=a[c+" "+i]||a["* "+i],!s)for(n in a)if(r=n.split(" "),r[1]===i&&(s=a[c+" "+r[0]]||a["* "+r[0]])){s===!0?s=a[n]:a[n]!==!0&&(i=r[0],l.splice(o--,0,i));break}if(s!==!0)if(s&&e["throws"])t=s(t);else try{t=s(t)}catch(u){return{state:"parsererror",error:s?u:"No conversion from "+c+" to "+i}}}c=i}return{state:"success",data:t}}function O(){try{return new e.XMLHttpRequest}catch(t){}}function M(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function j(){return setTimeout(function(){Zn=t}),Zn=lt.now()}function R(e,t){lt.each(t,function(t,n){for(var i=(ri[t]||[]).concat(ri["*"]),s=0,r=i.length;r>s;s++)if(i[s].call(e,t,n))return})}function P(e,t,n){var i,s,r=0,a=si.length,o=lt.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var t=Zn||j(),n=Math.max(0,c.startTime+c.duration-t),i=n/c.duration||0,r=1-i,a=0,l=c.tweens.length;l>a;a++)c.tweens[a].run(r);return o.notifyWith(e,[c,r,n]),1>r&&l?n:(o.resolveWith(e,[c]),!1)},c=o.promise({elem:e,props:lt.extend({},t),opts:lt.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Zn||j(),duration:n.duration,tweens:[],createTween:function(t,n){var i=lt.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(s)return this;for(s=!0;i>n;n++)c.tweens[n].run(1);return t?o.resolveWith(e,[c,t]):o.rejectWith(e,[c,t]),this}}),u=c.props;for(q(u,c.opts.specialEasing);a>r;r++)if(i=si[r].call(c,e,u,c.opts))return i;return R(c,u),lt.isFunction(c.opts.start)&&c.opts.start.call(e,c),lt.fx.timer(lt.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function q(e,t){var n,i,s,r,a;for(s in e)if(i=lt.camelCase(s),r=t[i],n=e[s],lt.isArray(n)&&(r=n[1],n=e[s]=n[0]),s!==i&&(e[i]=n,delete e[s]),a=lt.cssHooks[i],a&&"expand"in a){n=a.expand(n),delete e[i];for(s in n)s in e||(e[s]=n[s],t[s]=r)}else t[i]=r}function B(e,t,n){var i,s,r,a,o,l,c,u,d,h=this,p=e.style,f={},m=[],g=e.nodeType&&x(e);n.queue||(u=lt._queueHooks(e,"fx"),null==u.unqueued&&(u.unqueued=0,d=u.empty.fire,u.empty.fire=function(){u.unqueued||d()}),u.unqueued++,h.always(function(){h.always(function(){u.unqueued--,lt.queue(e,"fx").length||u.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===lt.css(e,"display")&&"none"===lt.css(e,"float")&&(lt.support.inlineBlockNeedsLayout&&"inline"!==D(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",lt.support.shrinkWrapBlocks||h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(s in t)if(a=t[s],ti.exec(a)){if(delete t[s],l=l||"toggle"===a,a===(g?"hide":"show"))continue;m.push(s)}if(r=m.length){o=lt._data(e,"fxshow")||lt._data(e,"fxshow",{}),"hidden"in o&&(g=o.hidden),l&&(o.hidden=!g),g?lt(e).show():h.done(function(){lt(e).hide()}),h.done(function(){var t;lt._removeData(e,"fxshow");for(t in f)lt.style(e,t,f[t])});for(s=0;r>s;s++)i=m[s],c=h.createTween(i,g?o[i]:0),f[i]=o[i]||lt.style(e,i),i in o||(o[i]=c.start,g&&(c.end=c.start,c.start="width"===i||"height"===i?1:0))}}function H(e,t,n,i,s){return new H.prototype.init(e,t,n,i,s)}function $(e,t){var n,i={height:e},s=0;for(t=t?1:0;4>s;s+=2-t)n=Sn[s],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function z(e){return lt.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var W,V,Q=typeof t,J=e.document,Y=e.location,X=e.jQuery,G=e.$,K={},Z=[],et="1.9.1",tt=Z.concat,nt=Z.push,it=Z.slice,st=Z.indexOf,rt=K.toString,at=K.hasOwnProperty,ot=et.trim,lt=function(e,t){return new lt.fn.init(e,t,V)},ct=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ut=/\S+/g,dt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ht=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,pt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ft=/^[\],:{}\s]*$/,mt=/(?:^|:|,)(?:\s*\[)+/g,gt=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,vt=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,_t=/^-ms-/,yt=/-([\da-z])/gi,bt=function(e,t){return t.toUpperCase()},wt=function(e){(J.addEventListener||"load"===e.type||"complete"===J.readyState)&&(xt(),lt.ready())},xt=function(){J.addEventListener?(J.removeEventListener("DOMContentLoaded",wt,!1),e.removeEventListener("load",wt,!1)):(J.detachEvent("onreadystatechange",wt),e.detachEvent("onload",wt))};lt.fn=lt.prototype={jquery:et,constructor:lt,init:function(e,n,i){var s,r;if(!e)return this;if("string"==typeof e){if(s="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:ht.exec(e),!s||!s[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(s[1]){if(n=n instanceof lt?n[0]:n,lt.merge(this,lt.parseHTML(s[1],n&&n.nodeType?n.ownerDocument||n:J,!0)),pt.test(s[1])&&lt.isPlainObject(n))for(s in n)lt.isFunction(this[s])?this[s](n[s]):this.attr(s,n[s]);return this}if(r=J.getElementById(s[2]),r&&r.parentNode){if(r.id!==s[2])return i.find(e);this.length=1,this[0]=r}return this.context=J,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):lt.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),lt.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return it.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=lt.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return lt.each(this,e,t)},ready:function(e){return lt.ready.promise().done(e),this},slice:function(){return this.pushStack(it.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(lt.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:nt,sort:[].sort,splice:[].splice},lt.fn.init.prototype=lt.fn,lt.extend=lt.fn.extend=function(){var e,n,i,s,r,a,o=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[1]||{},l=2),"object"==typeof o||lt.isFunction(o)||(o={}),c===l&&(o=this,--l);c>l;l++)if(null!=(r=arguments[l]))for(s in r)e=o[s],i=r[s],o!==i&&(u&&i&&(lt.isPlainObject(i)||(n=lt.isArray(i)))?(n?(n=!1,a=e&&lt.isArray(e)?e:[]):a=e&&lt.isPlainObject(e)?e:{},o[s]=lt.extend(u,a,i)):i!==t&&(o[s]=i));return o},lt.extend({noConflict:function(t){return e.$===lt&&(e.$=G),t&&e.jQuery===lt&&(e.jQuery=X),lt},isReady:!1,readyWait:1,holdReady:function(e){e?lt.readyWait++:lt.ready(!0)},ready:function(e){if(e===!0?!--lt.readyWait:!lt.isReady){if(!J.body)return setTimeout(lt.ready);lt.isReady=!0,e!==!0&&--lt.readyWait>0||(W.resolveWith(J,[lt]),lt.fn.trigger&&lt(J).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===lt.type(e)},isArray:Array.isArray||function(e){return"array"===lt.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?K[rt.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==lt.type(e)||e.nodeType||lt.isWindow(e))return!1;try{if(e.constructor&&!at.call(e,"constructor")&&!at.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var i;for(i in e);return i===t||at.call(e,i)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||J;var i=pt.exec(e),s=!n&&[];return i?[t.createElement(i[1])]:(i=lt.buildFragment([e],t,s),s&&lt(s).remove(),lt.merge([],i.childNodes))},parseJSON:function(t){return e.JSON&&e.JSON.parse?e.JSON.parse(t):null===t?t:"string"==typeof t&&(t=lt.trim(t),t&&ft.test(t.replace(gt,"@").replace(vt,"]").replace(mt,"")))?new Function("return "+t)():void lt.error("Invalid JSON: "+t)},parseXML:function(n){var i,s;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(s=new DOMParser,i=s.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(r){i=t}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||lt.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&lt.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(_t,"ms-").replace(yt,bt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var s,r=0,a=e.length,o=n(e);if(i){if(o)for(;a>r&&(s=t.apply(e[r],i),s!==!1);r++);else for(r in e)if(s=t.apply(e[r],i),s===!1)break}else if(o)for(;a>r&&(s=t.call(e[r],r,e[r]),s!==!1);r++);else for(r in e)if(s=t.call(e[r],r,e[r]),s===!1)break;return e},trim:ot&&!ot.call("﻿ ")?function(e){return null==e?"":ot.call(e)}:function(e){return null==e?"":(e+"").replace(dt,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?lt.merge(i,"string"==typeof e?[e]:e):nt.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(st)return st.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=n.length,s=e.length,r=0;if("number"==typeof i)for(;i>r;r++)e[s++]=n[r];else for(;n[r]!==t;)e[s++]=n[r++];return e.length=s,e},grep:function(e,t,n){var i,s=[],r=0,a=e.length;for(n=!!n;a>r;r++)i=!!t(e[r],r),n!==i&&s.push(e[r]);return s},map:function(e,t,i){var s,r=0,a=e.length,o=n(e),l=[];if(o)for(;a>r;r++)s=t(e[r],r,i),null!=s&&(l[l.length]=s);else for(r in e)s=t(e[r],r,i),null!=s&&(l[l.length]=s);return tt.apply([],l)},guid:1,proxy:function(e,n){var i,s,r;return"string"==typeof n&&(r=e[n],n=e,e=r),lt.isFunction(e)?(i=it.call(arguments,2),s=function(){return e.apply(n||this,i.concat(it.call(arguments)))},s.guid=e.guid=e.guid||lt.guid++,s):t},access:function(e,n,i,s,r,a,o){var l=0,c=e.length,u=null==i;if("object"===lt.type(i)){r=!0;for(l in i)lt.access(e,n,l,i[l],!0,a,o)}else if(s!==t&&(r=!0,lt.isFunction(s)||(o=!0),u&&(o?(n.call(e,s),n=null):(u=n,n=function(e,t,n){return u.call(lt(e),n)})),n))for(;c>l;l++)n(e[l],i,o?s:s.call(e[l],l,n(e[l],i)));return r?e:u?n.call(e):c?n(e[0],i):a},now:function(){return(new Date).getTime()}}),lt.ready.promise=function(t){if(!W)if(W=lt.Deferred(),"complete"===J.readyState)setTimeout(lt.ready);else if(J.addEventListener)J.addEventListener("DOMContentLoaded",wt,!1),e.addEventListener("load",wt,!1);else{J.attachEvent("onreadystatechange",wt),e.attachEvent("onload",wt);var n=!1;try{n=null==e.frameElement&&J.documentElement}catch(i){}n&&n.doScroll&&function s(){if(!lt.isReady){try{n.doScroll("left")}catch(e){return setTimeout(s,50)}xt(),lt.ready()}}()}return W.promise(t)},lt.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){K["[object "+t+"]"]=t.toLowerCase()}),V=lt(J);var kt={};lt.Callbacks=function(e){e="string"==typeof e?kt[e]||i(e):lt.extend({},e);var n,s,r,a,o,l,c=[],u=!e.once&&[],d=function(t){for(s=e.memory&&t,r=!0,o=l||0,l=0,a=c.length,n=!0;c&&a>o;o++)if(c[o].apply(t[0],t[1])===!1&&e.stopOnFalse){s=!1;break}n=!1,c&&(u?u.length&&d(u.shift()):s?c=[]:h.disable())},h={add:function(){if(c){var t=c.length;!function i(t){lt.each(t,function(t,n){var s=lt.type(n);"function"===s?e.unique&&h.has(n)||c.push(n):n&&n.length&&"string"!==s&&i(n)})}(arguments),n?a=c.length:s&&(l=t,d(s))}return this},remove:function(){return c&&lt.each(arguments,function(e,t){for(var i;(i=lt.inArray(t,c,i))>-1;)c.splice(i,1),n&&(a>=i&&a--,o>=i&&o--)}),this},has:function(e){return e?lt.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],this},disable:function(){return c=u=s=t,this},disabled:function(){return!c},lock:function(){return u=t,s||h.disable(),this},locked:function(){return!u},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!c||r&&!u||(n?u.push(t):d(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!r}};return h},lt.extend({Deferred:function(e){var t=[["resolve","done",lt.Callbacks("once memory"),"resolved"],["reject","fail",lt.Callbacks("once memory"),"rejected"],["notify","progress",lt.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var e=arguments;return lt.Deferred(function(n){lt.each(t,function(t,r){var a=r[0],o=lt.isFunction(e[t])&&e[t];s[r[1]](function(){var e=o&&o.apply(this,arguments);e&&lt.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===i?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?lt.extend(e,i):i}},s={};return i.pipe=i.then,lt.each(t,function(e,r){var a=r[2],o=r[3];i[r[1]]=a.add,o&&a.add(function(){n=o},t[1^e][2].disable,t[2][2].lock),s[r[0]]=function(){return s[r[0]+"With"](this===s?i:this,arguments),this},s[r[0]+"With"]=a.fireWith}),i.promise(s),e&&e.call(s,s),s},when:function(e){var t,n,i,s=0,r=it.call(arguments),a=r.length,o=1!==a||e&&lt.isFunction(e.promise)?a:0,l=1===o?e:lt.Deferred(),c=function(e,n,i){return function(s){n[e]=this,i[e]=arguments.length>1?it.call(arguments):s,i===t?l.notifyWith(n,i):--o||l.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);a>s;s++)r[s]&&lt.isFunction(r[s].promise)?r[s].promise().done(c(s,i,r)).fail(l.reject).progress(c(s,n,t)):--o;return o||l.resolveWith(i,r),l.promise()}}),lt.support=function(){var t,n,i,s,r,a,o,l,c,u,d=J.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*"),i=d.getElementsByTagName("a")[0],!n||!i||!n.length)return{};r=J.createElement("select"),o=r.appendChild(J.createElement("option")),s=d.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:"t"!==d.className,leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.5/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:!!s.value,optSelected:o.selected,enctype:!!J.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==J.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===J.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},s.checked=!0,t.noCloneChecked=s.cloneNode(!0).checked,r.disabled=!0,t.optDisabled=!o.disabled;try{delete d.test}catch(h){t.deleteExpando=!1}s=J.createElement("input"),s.setAttribute("value",""),t.input=""===s.getAttribute("value"),s.value="t",s.setAttribute("type","radio"),t.radioValue="t"===s.value,s.setAttribute("checked","t"),s.setAttribute("name","t"),a=J.createDocumentFragment(),a.appendChild(s),t.appendChecked=s.checked,t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(u in{submit:!0,change:!0,focusin:!0})d.setAttribute(l="on"+u,"t"),t[u+"Bubbles"]=l in e||d.attributes[l].expando===!1;return d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip,lt(function(){var n,i,s,r="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",a=J.getElementsByTagName("body")[0];a&&(n=J.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",a.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",s=d.getElementsByTagName("td"),s[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===s[0].offsetHeight,s[0].style.display="",s[1].style.display="none",t.reliableHiddenOffsets=c&&0===s[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===d.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==a.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,i=d.appendChild(J.createElement("div")),i.style.cssText=d.style.cssText=r,i.style.marginRight=i.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(i,null)||{}).marginRight)),typeof d.style.zoom!==Q&&(d.innerHTML="",d.style.cssText=r+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(a.style.zoom=1)),a.removeChild(n),n=d=s=i=null)}),n=r=a=o=i=s=null,t}();var St=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Ct=/([A-Z])/g;lt.extend({cache:{},expando:"jQuery"+(et+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?lt.cache[e[lt.expando]]:e[lt.expando],!!e&&!o(e)},data:function(e,t,n){return s(e,t,n)},removeData:function(e,t){return r(e,t)},_data:function(e,t,n){return s(e,t,n,!0)},_removeData:function(e,t){return r(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&lt.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),lt.fn.extend({data:function(e,n){var i,s,r=this[0],o=0,l=null;if(e===t){if(this.length&&(l=lt.data(r),1===r.nodeType&&!lt._data(r,"parsedAttrs"))){for(i=r.attributes;o<i.length;o++)s=i[o].name,s.indexOf("data-")||(s=lt.camelCase(s.slice(5)),a(r,s,l[s]));lt._data(r,"parsedAttrs",!0)}return l}return"object"==typeof e?this.each(function(){lt.data(this,e)}):lt.access(this,function(n){return n===t?r?a(r,e,lt.data(r,e)):null:void this.each(function(){lt.data(this,e,n)})},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){lt.removeData(this,e)})}}),lt.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=lt._data(e,t),n&&(!i||lt.isArray(n)?i=lt._data(e,t,lt.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=lt.queue(e,t),i=n.length,s=n.shift(),r=lt._queueHooks(e,t),a=function(){lt.dequeue(e,t)};"inprogress"===s&&(s=n.shift(),i--),r.cur=s,s&&("fx"===t&&n.unshift("inprogress"),delete r.stop,s.call(e,a,r)),!i&&r&&r.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return lt._data(e,n)||lt._data(e,n,{empty:lt.Callbacks("once memory").add(function(){lt._removeData(e,t+"queue"),lt._removeData(e,n)})})}}),lt.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),arguments.length<i?lt.queue(this[0],e):n===t?this:this.each(function(){var t=lt.queue(this,e,n);lt._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&lt.dequeue(this,e)})},dequeue:function(e){return this.each(function(){lt.dequeue(this,e)})},delay:function(e,t){return e=lt.fx?lt.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,s=1,r=lt.Deferred(),a=this,o=this.length,l=function(){--s||r.resolveWith(a,[a])
};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";o--;)i=lt._data(a[o],e+"queueHooks"),i&&i.empty&&(s++,i.empty.add(l));return l(),r.promise(n)}});var Tt,Dt,Et=/[\t\r\n]/g,Ft=/\r/g,It=/^(?:input|select|textarea|button|object)$/i,Nt=/^(?:a|area)$/i,At=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Lt=/^(?:checked|selected)$/i,Ut=lt.support.getSetAttribute,Ot=lt.support.input;lt.fn.extend({attr:function(e,t){return lt.access(this,lt.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){lt.removeAttr(this,e)})},prop:function(e,t){return lt.access(this,lt.prop,e,t,arguments.length>1)},removeProp:function(e){return e=lt.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,s,r,a=0,o=this.length,l="string"==typeof e&&e;if(lt.isFunction(e))return this.each(function(t){lt(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ut)||[];o>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Et," "):" ")){for(r=0;s=t[r++];)i.indexOf(" "+s+" ")<0&&(i+=s+" ");n.className=lt.trim(i)}return this},removeClass:function(e){var t,n,i,s,r,a=0,o=this.length,l=0===arguments.length||"string"==typeof e&&e;if(lt.isFunction(e))return this.each(function(t){lt(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(ut)||[];o>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Et," "):"")){for(r=0;s=t[r++];)for(;i.indexOf(" "+s+" ")>=0;)i=i.replace(" "+s+" "," ");n.className=e?lt.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return this.each(lt.isFunction(e)?function(n){lt(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var s,r=0,a=lt(this),o=t,l=e.match(ut)||[];s=l[r++];)o=i?o:!a.hasClass(s),a[o?"addClass":"removeClass"](s);else(n===Q||"boolean"===n)&&(this.className&&lt._data(this,"__className__",this.className),this.className=this.className||e===!1?"":lt._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Et," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,s,r=this[0];return arguments.length?(s=lt.isFunction(e),this.each(function(n){var r,a=lt(this);1===this.nodeType&&(r=s?e.call(this,n,a.val()):e,null==r?r="":"number"==typeof r?r+="":lt.isArray(r)&&(r=lt.map(r,function(e){return null==e?"":e+""})),i=lt.valHooks[this.type]||lt.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,r,"value")!==t||(this.value=r))})):r?(i=lt.valHooks[r.type]||lt.valHooks[r.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(r,"value"))!==t?n:(n=r.value,"string"==typeof n?n.replace(Ft,""):null==n?"":n)):void 0}}),lt.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,i=e.options,s=e.selectedIndex,r="select-one"===e.type||0>s,a=r?null:[],o=r?s+1:i.length,l=0>s?o:r?s:0;o>l;l++)if(n=i[l],!(!n.selected&&l!==s||(lt.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&lt.nodeName(n.parentNode,"optgroup"))){if(t=lt(n).val(),r)return t;a.push(t)}return a},set:function(e,t){var n=lt.makeArray(t);return lt(e).find("option").each(function(){this.selected=lt.inArray(lt(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,n,i){var s,r,a,o=e.nodeType;return e&&3!==o&&8!==o&&2!==o?typeof e.getAttribute===Q?lt.prop(e,n,i):(r=1!==o||!lt.isXMLDoc(e),r&&(n=n.toLowerCase(),s=lt.attrHooks[n]||(At.test(n)?Dt:Tt)),i===t?s&&r&&"get"in s&&null!==(a=s.get(e,n))?a:(typeof e.getAttribute!==Q&&(a=e.getAttribute(n)),null==a?t:a):null!==i?s&&r&&"set"in s&&(a=s.set(e,i,n))!==t?a:(e.setAttribute(n,i+""),i):void lt.removeAttr(e,n)):void 0},removeAttr:function(e,t){var n,i,s=0,r=t&&t.match(ut);if(r&&1===e.nodeType)for(;n=r[s++];)i=lt.propFix[n]||n,At.test(n)?!Ut&&Lt.test(n)?e[lt.camelCase("default-"+n)]=e[i]=!1:e[i]=!1:lt.attr(e,n,""),e.removeAttribute(Ut?n:i)},attrHooks:{type:{set:function(e,t){if(!lt.support.radioValue&&"radio"===t&&lt.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,i){var s,r,a,o=e.nodeType;return e&&3!==o&&8!==o&&2!==o?(a=1!==o||!lt.isXMLDoc(e),a&&(n=lt.propFix[n]||n,r=lt.propHooks[n]),i!==t?r&&"set"in r&&(s=r.set(e,i,n))!==t?s:e[n]=i:r&&"get"in r&&null!==(s=r.get(e,n))?s:e[n]):void 0},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):It.test(e.nodeName)||Nt.test(e.nodeName)&&e.href?0:t}}}}),Dt={get:function(e,n){var i=lt.prop(e,n),s="boolean"==typeof i&&e.getAttribute(n),r="boolean"==typeof i?Ot&&Ut?null!=s:Lt.test(n)?e[lt.camelCase("default-"+n)]:!!s:e.getAttributeNode(n);return r&&r.value!==!1?n.toLowerCase():t},set:function(e,t,n){return t===!1?lt.removeAttr(e,n):Ot&&Ut||!Lt.test(n)?e.setAttribute(!Ut&&lt.propFix[n]||n,n):e[lt.camelCase("default-"+n)]=e[n]=!0,n}},Ot&&Ut||(lt.attrHooks.value={get:function(e,n){var i=e.getAttributeNode(n);return lt.nodeName(e,"input")?e.defaultValue:i&&i.specified?i.value:t},set:function(e,t,n){return lt.nodeName(e,"input")?void(e.defaultValue=t):Tt&&Tt.set(e,t,n)}}),Ut||(Tt=lt.valHooks.button={get:function(e,n){var i=e.getAttributeNode(n);return i&&("id"===n||"name"===n||"coords"===n?""!==i.value:i.specified)?i.value:t},set:function(e,n,i){var s=e.getAttributeNode(i);return s||e.setAttributeNode(s=e.ownerDocument.createAttribute(i)),s.value=n+="","value"===i||n===e.getAttribute(i)?n:t}},lt.attrHooks.contenteditable={get:Tt.get,set:function(e,t,n){Tt.set(e,""===t?!1:t,n)}},lt.each(["width","height"],function(e,t){lt.attrHooks[t]=lt.extend(lt.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})})),lt.support.hrefNormalized||(lt.each(["href","src","width","height"],function(e,n){lt.attrHooks[n]=lt.extend(lt.attrHooks[n],{get:function(e){var i=e.getAttribute(n,2);return null==i?t:i}})}),lt.each(["href","src"],function(e,t){lt.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),lt.support.style||(lt.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),lt.support.optSelected||(lt.propHooks.selected=lt.extend(lt.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),lt.support.enctype||(lt.propFix.enctype="encoding"),lt.support.checkOn||lt.each(["radio","checkbox"],function(){lt.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),lt.each(["radio","checkbox"],function(){lt.valHooks[this]=lt.extend(lt.valHooks[this],{set:function(e,t){return lt.isArray(t)?e.checked=lt.inArray(lt(e).val(),t)>=0:void 0}})});var Mt=/^(?:input|select|textarea)$/i,jt=/^key/,Rt=/^(?:mouse|contextmenu)|click/,Pt=/^(?:focusinfocus|focusoutblur)$/,qt=/^([^.]*)(?:\.(.+)|)$/;lt.event={global:{},add:function(e,n,i,s,r){var a,o,l,c,u,d,h,p,f,m,g,v=lt._data(e);if(v){for(i.handler&&(c=i,i=c.handler,r=c.selector),i.guid||(i.guid=lt.guid++),(o=v.events)||(o=v.events={}),(d=v.handle)||(d=v.handle=function(e){return typeof lt===Q||e&&lt.event.triggered===e.type?t:lt.event.dispatch.apply(d.elem,arguments)},d.elem=e),n=(n||"").match(ut)||[""],l=n.length;l--;)a=qt.exec(n[l])||[],f=g=a[1],m=(a[2]||"").split(".").sort(),u=lt.event.special[f]||{},f=(r?u.delegateType:u.bindType)||f,u=lt.event.special[f]||{},h=lt.extend({type:f,origType:g,data:s,handler:i,guid:i.guid,selector:r,needsContext:r&&lt.expr.match.needsContext.test(r),namespace:m.join(".")},c),(p=o[f])||(p=o[f]=[],p.delegateCount=0,u.setup&&u.setup.call(e,s,m,d)!==!1||(e.addEventListener?e.addEventListener(f,d,!1):e.attachEvent&&e.attachEvent("on"+f,d))),u.add&&(u.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),r?p.splice(p.delegateCount++,0,h):p.push(h),lt.event.global[f]=!0;e=null}},remove:function(e,t,n,i,s){var r,a,o,l,c,u,d,h,p,f,m,g=lt.hasData(e)&&lt._data(e);if(g&&(u=g.events)){for(t=(t||"").match(ut)||[""],c=t.length;c--;)if(o=qt.exec(t[c])||[],p=m=o[1],f=(o[2]||"").split(".").sort(),p){for(d=lt.event.special[p]||{},p=(i?d.delegateType:d.bindType)||p,h=u[p]||[],o=o[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=r=h.length;r--;)a=h[r],!s&&m!==a.origType||n&&n.guid!==a.guid||o&&!o.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(h.splice(r,1),a.selector&&h.delegateCount--,d.remove&&d.remove.call(e,a));l&&!h.length&&(d.teardown&&d.teardown.call(e,f,g.handle)!==!1||lt.removeEvent(e,p,g.handle),delete u[p])}else for(p in u)lt.event.remove(e,p+t[c],n,i,!0);lt.isEmptyObject(u)&&(delete g.handle,lt._removeData(e,"events"))}},trigger:function(n,i,s,r){var a,o,l,c,u,d,h,p=[s||J],f=at.call(n,"type")?n.type:n,m=at.call(n,"namespace")?n.namespace.split("."):[];if(l=d=s=s||J,3!==s.nodeType&&8!==s.nodeType&&!Pt.test(f+lt.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),o=f.indexOf(":")<0&&"on"+f,n=n[lt.expando]?n:new lt.Event(f,"object"==typeof n&&n),n.isTrigger=!0,n.namespace=m.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=s),i=null==i?[n]:lt.makeArray(i,[n]),u=lt.event.special[f]||{},r||!u.trigger||u.trigger.apply(s,i)!==!1)){if(!r&&!u.noBubble&&!lt.isWindow(s)){for(c=u.delegateType||f,Pt.test(c+f)||(l=l.parentNode);l;l=l.parentNode)p.push(l),d=l;d===(s.ownerDocument||J)&&p.push(d.defaultView||d.parentWindow||e)}for(h=0;(l=p[h++])&&!n.isPropagationStopped();)n.type=h>1?c:u.bindType||f,a=(lt._data(l,"events")||{})[n.type]&&lt._data(l,"handle"),a&&a.apply(l,i),a=o&&l[o],a&&lt.acceptData(l)&&a.apply&&a.apply(l,i)===!1&&n.preventDefault();if(n.type=f,!(r||n.isDefaultPrevented()||u._default&&u._default.apply(s.ownerDocument,i)!==!1||"click"===f&&lt.nodeName(s,"a")||!lt.acceptData(s)||!o||!s[f]||lt.isWindow(s))){d=s[o],d&&(s[o]=null),lt.event.triggered=f;try{s[f]()}catch(g){}lt.event.triggered=t,d&&(s[o]=d)}return n.result}},dispatch:function(e){e=lt.event.fix(e);var n,i,s,r,a,o=[],l=it.call(arguments),c=(lt._data(this,"events")||{})[e.type]||[],u=lt.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(o=lt.event.handlers.call(this,e,c),n=0;(r=o[n++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,a=0;(s=r.handlers[a++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(s.namespace))&&(e.handleObj=s,e.data=s.data,i=((lt.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,l),i!==t&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,n){var i,s,r,a,o=[],l=n.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==e.type)){for(r=[],a=0;l>a;a++)s=n[a],i=s.selector+" ",r[i]===t&&(r[i]=s.needsContext?lt(i,this).index(c)>=0:lt.find(i,this,null,[c]).length),r[i]&&r.push(s);r.length&&o.push({elem:c,handlers:r})}return l<n.length&&o.push({elem:this,handlers:n.slice(l)}),o},fix:function(e){if(e[lt.expando])return e;var t,n,i,s=e.type,r=e,a=this.fixHooks[s];for(a||(this.fixHooks[s]=a=Rt.test(s)?this.mouseHooks:jt.test(s)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new lt.Event(r),t=i.length;t--;)n=i[t],e[n]=r[n];return e.target||(e.target=r.srcElement||J),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,r):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,s,r,a=n.button,o=n.fromElement;return null==e.pageX&&null!=n.clientX&&(s=e.target.ownerDocument||J,r=s.documentElement,i=s.body,e.pageX=n.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=n.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&o&&(e.relatedTarget=o===e.target?n.toElement:o),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){return lt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0}},focus:{trigger:function(){if(this!==J.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===J.activeElement&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var s=lt.extend(new lt.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?lt.event.trigger(s,null,t):lt.event.dispatch.call(t,s),s.isDefaultPrevented()&&n.preventDefault()}},lt.removeEvent=J.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&(typeof e[i]===Q&&(e[i]=null),e.detachEvent(i,n))},lt.Event=function(e,t){return this instanceof lt.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:c):this.type=e,t&&lt.extend(this,t),this.timeStamp=e&&e.timeStamp||lt.now(),void(this[lt.expando]=!0)):new lt.Event(e,t)},lt.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},lt.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){lt.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,s=e.relatedTarget,r=e.handleObj;return(!s||s!==i&&!lt.contains(i,s))&&(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),lt.support.submitBubbles||(lt.event.special.submit={setup:function(){return lt.nodeName(this,"form")?!1:void lt.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=lt.nodeName(n,"input")||lt.nodeName(n,"button")?n.form:t;i&&!lt._data(i,"submitBubbles")&&(lt.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),lt._data(i,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&lt.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return lt.nodeName(this,"form")?!1:void lt.event.remove(this,"._submit")}}),lt.support.changeBubbles||(lt.event.special.change={setup:function(){return Mt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(lt.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),lt.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),lt.event.simulate("change",this,e,!0)})),!1):void lt.event.add(this,"beforeactivate._change",function(e){var t=e.target;Mt.test(t.nodeName)&&!lt._data(t,"changeBubbles")&&(lt.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||lt.event.simulate("change",this.parentNode,e,!0)}),lt._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return lt.event.remove(this,"._change"),!Mt.test(this.nodeName)}}),lt.support.focusinBubbles||lt.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){lt.event.simulate(t,e.target,lt.event.fix(e),!0)};lt.event.special[t]={setup:function(){0===n++&&J.addEventListener(e,i,!0)},teardown:function(){0===--n&&J.removeEventListener(e,i,!0)}}}),lt.fn.extend({on:function(e,n,i,s,r){var a,o;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(a in e)this.on(a,n,i,e[a],r);return this}if(null==i&&null==s?(s=n,i=n=t):null==s&&("string"==typeof n?(s=i,i=t):(s=i,i=n,n=t)),s===!1)s=c;else if(!s)return this;return 1===r&&(o=s,s=function(e){return lt().off(e),o.apply(this,arguments)},s.guid=o.guid||(o.guid=lt.guid++)),this.each(function(){lt.event.add(this,e,s,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var s,r;if(e&&e.preventDefault&&e.handleObj)return s=e.handleObj,lt(e.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this;if("object"==typeof e){for(r in e)this.off(r,n,e[r]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=c),this.each(function(){lt.event.remove(this,e,i,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){lt.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?lt.event.trigger(e,t,n,!0):void 0}}),function(e,t){function n(e){return ft.test(e+"")}function i(){var e,t=[];return e=function(n,i){return t.push(n+=" ")>S.cacheLength&&delete e[t.shift()],e[n]=i}}function s(e){return e[P]=!0,e}function r(e){var t=N.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}}function a(e,t,n,i){var s,r,a,o,l,c,u,p,f,m;if((t?t.ownerDocument||t:q)!==N&&I(t),t=t||N,n=n||[],!e||"string"!=typeof e)return n;if(1!==(o=t.nodeType)&&9!==o)return[];if(!L&&!i){if(s=mt.exec(e))if(a=s[1]){if(9===o){if(r=t.getElementById(a),!r||!r.parentNode)return n;if(r.id===a)return n.push(r),n}else if(t.ownerDocument&&(r=t.ownerDocument.getElementById(a))&&j(t,r)&&r.id===a)return n.push(r),n}else{if(s[2])return G.apply(n,K.call(t.getElementsByTagName(e),0)),n;if((a=s[3])&&B.getByClassName&&t.getElementsByClassName)return G.apply(n,K.call(t.getElementsByClassName(a),0)),n}if(B.qsa&&!U.test(e)){if(u=!0,p=P,f=t,m=9===o&&e,1===o&&"object"!==t.nodeName.toLowerCase()){for(c=d(e),(u=t.getAttribute("id"))?p=u.replace(_t,"\\$&"):t.setAttribute("id",p),p="[id='"+p+"'] ",l=c.length;l--;)c[l]=p+h(c[l]);f=pt.test(e)&&t.parentNode||t,m=c.join(",")}if(m)try{return G.apply(n,K.call(f.querySelectorAll(m),0)),n}catch(g){}finally{u||t.removeAttribute("id")}}}return b(e.replace(at,"$1"),t,n,i)}function o(e,t){var n=t&&e,i=n&&(~t.sourceIndex||J)-(~e.sourceIndex||J);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function c(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return s(function(t){return t=+t,s(function(n,i){for(var s,r=e([],n.length,t),a=r.length;a--;)n[s=r[a]]&&(n[s]=!(i[s]=n[s]))})})}function d(e,t){var n,i,s,r,o,l,c,u=W[e+" "];if(u)return t?0:u.slice(0);for(o=e,l=[],c=S.preFilter;o;){(!n||(i=ot.exec(o)))&&(i&&(o=o.slice(i[0].length)||o),l.push(s=[])),n=!1,(i=ct.exec(o))&&(n=i.shift(),s.push({value:n,type:i[0].replace(at," ")}),o=o.slice(n.length));for(r in S.filter)!(i=ht[r].exec(o))||c[r]&&!(i=c[r](i))||(n=i.shift(),s.push({value:n,type:r,matches:i}),o=o.slice(n.length));if(!n)break}return t?o.length:o?a.error(e):W(e,l).slice(0)}function h(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function p(e,t,n){var i=t.dir,s=n&&"parentNode"===i,r=$++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||s)return e(t,n,r)}:function(t,n,a){var o,l,c,u=H+" "+r;if(a){for(;t=t[i];)if((1===t.nodeType||s)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||s)if(c=t[P]||(t[P]={}),(l=c[i])&&l[0]===u){if((o=l[1])===!0||o===k)return o===!0}else if(l=c[i]=[u],l[1]=e(t,n,a)||k,l[1]===!0)return!0}}function f(e){return e.length>1?function(t,n,i){for(var s=e.length;s--;)if(!e[s](t,n,i))return!1;return!0}:e[0]}function m(e,t,n,i,s){for(var r,a=[],o=0,l=e.length,c=null!=t;l>o;o++)(r=e[o])&&(!n||n(r,i,s))&&(a.push(r),c&&t.push(o));return a}function g(e,t,n,i,r,a){return i&&!i[P]&&(i=g(i)),r&&!r[P]&&(r=g(r,a)),s(function(s,a,o,l){var c,u,d,h=[],p=[],f=a.length,g=s||y(t||"*",o.nodeType?[o]:o,[]),v=!e||!s&&t?g:m(g,h,e,o,l),_=n?r||(s?e:f||i)?[]:a:v;if(n&&n(v,_,o,l),i)for(c=m(_,p),i(c,[],o,l),u=c.length;u--;)(d=c[u])&&(_[p[u]]=!(v[p[u]]=d));if(s){if(r||e){if(r){for(c=[],u=_.length;u--;)(d=_[u])&&c.push(v[u]=d);r(null,_=[],c,l)}for(u=_.length;u--;)(d=_[u])&&(c=r?Z.call(s,d):h[u])>-1&&(s[c]=!(a[c]=d))}}else _=m(_===a?_.splice(f,_.length):_),r?r(null,a,_,l):G.apply(a,_)})}function v(e){for(var t,n,i,s=e.length,r=S.relative[e[0].type],a=r||S.relative[" "],o=r?1:0,l=p(function(e){return e===t},a,!0),c=p(function(e){return Z.call(t,e)>-1},a,!0),u=[function(e,n,i){return!r&&(i||n!==F)||((t=n).nodeType?l(e,n,i):c(e,n,i))}];s>o;o++)if(n=S.relative[e[o].type])u=[p(f(u),n)];else{if(n=S.filter[e[o].type].apply(null,e[o].matches),n[P]){for(i=++o;s>i&&!S.relative[e[i].type];i++);return g(o>1&&f(u),o>1&&h(e.slice(0,o-1)).replace(at,"$1"),n,i>o&&v(e.slice(o,i)),s>i&&v(e=e.slice(i)),s>i&&h(e))}u.push(n)}return f(u)}function _(e,t){var n=0,i=t.length>0,r=e.length>0,o=function(s,o,l,c,u){var d,h,p,f=[],g=0,v="0",_=s&&[],y=null!=u,b=F,w=s||r&&S.find.TAG("*",u&&o.parentNode||o),x=H+=null==b?1:Math.random()||.1;for(y&&(F=o!==N&&o,k=n);null!=(d=w[v]);v++){if(r&&d){for(h=0;p=e[h++];)if(p(d,o,l)){c.push(d);break}y&&(H=x,k=++n)}i&&((d=!p&&d)&&g--,s&&_.push(d))}if(g+=v,i&&v!==g){for(h=0;p=t[h++];)p(_,f,o,l);if(s){if(g>0)for(;v--;)_[v]||f[v]||(f[v]=X.call(c));f=m(f)}G.apply(c,f),y&&!s&&f.length>0&&g+t.length>1&&a.uniqueSort(c)}return y&&(H=x,F=b),_};return i?s(o):o}function y(e,t,n){for(var i=0,s=t.length;s>i;i++)a(e,t[i],n);return n}function b(e,t,n,i){var s,r,a,o,l,c=d(e);if(!i&&1===c.length){if(r=c[0]=c[0].slice(0),r.length>2&&"ID"===(a=r[0]).type&&9===t.nodeType&&!L&&S.relative[r[1].type]){if(t=S.find.ID(a.matches[0].replace(bt,wt),t)[0],!t)return n;e=e.slice(r.shift().value.length)}for(s=ht.needsContext.test(e)?0:r.length;s--&&(a=r[s],!S.relative[o=a.type]);)if((l=S.find[o])&&(i=l(a.matches[0].replace(bt,wt),pt.test(r[0].type)&&t.parentNode||t))){if(r.splice(s,1),e=i.length&&h(r),!e)return G.apply(n,K.call(i,0)),n;break}}return D(e,c)(i,t,L,n,pt.test(e)),n}function w(){}var x,k,S,C,T,D,E,F,I,N,A,L,U,O,M,j,R,P="sizzle"+-new Date,q=e.document,B={},H=0,$=0,z=i(),W=i(),V=i(),Q=typeof t,J=1<<31,Y=[],X=Y.pop,G=Y.push,K=Y.slice,Z=Y.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},et="[\\x20\\t\\r\\n\\f]",tt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",nt=tt.replace("w","w#"),it="([*^$|!~]?=)",st="\\["+et+"*("+tt+")"+et+"*(?:"+it+et+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+nt+")|)|)"+et+"*\\]",rt=":("+tt+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+st.replace(3,8)+")*)|.*)\\)|)",at=new RegExp("^"+et+"+|((?:^|[^\\\\])(?:\\\\.)*)"+et+"+$","g"),ot=new RegExp("^"+et+"*,"+et+"*"),ct=new RegExp("^"+et+"*([\\x20\\t\\r\\n\\f>+~])"+et+"*"),ut=new RegExp(rt),dt=new RegExp("^"+nt+"$"),ht={ID:new RegExp("^#("+tt+")"),CLASS:new RegExp("^\\.("+tt+")"),NAME:new RegExp("^\\[name=['\"]?("+tt+")['\"]?\\]"),TAG:new RegExp("^("+tt.replace("w","w*")+")"),ATTR:new RegExp("^"+st),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+et+"*(even|odd|(([+-]|)(\\d*)n|)"+et+"*(?:([+-]|)"+et+"*(\\d+)|))"+et+"*\\)|)","i"),needsContext:new RegExp("^"+et+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+et+"*((?:-\\d)?\\d*)"+et+"*\\)|)(?=[^-]|$)","i")},pt=/[\x20\t\r\n\f]*[+~]/,ft=/^[^{]+\{\s*\[native code/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,gt=/^(?:input|select|textarea|button)$/i,vt=/^h\d$/i,_t=/'|\\/g,yt=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,bt=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,wt=function(e,t){var n="0x"+t-65536;return n!==n?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{K.call(q.documentElement.childNodes,0)[0].nodeType}catch(xt){K=function(e){for(var t,n=[];t=this[e++];)n.push(t);return n}}T=a.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},I=a.setDocument=function(e){var i=e?e.ownerDocument||e:q;return i!==N&&9===i.nodeType&&i.documentElement?(N=i,A=i.documentElement,L=T(i),B.tagNameNoComments=r(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),B.attributes=r(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),B.getByClassName=r(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),B.getByName=r(function(e){e.id=P+0,e.innerHTML="<a name='"+P+"'></a><div name='"+P+"'></div>",A.insertBefore(e,A.firstChild);var t=i.getElementsByName&&i.getElementsByName(P).length===2+i.getElementsByName(P+0).length;return B.getIdNotName=!i.getElementById(P),A.removeChild(e),t}),S.attrHandle=r(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==Q&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},B.getIdNotName?(S.find.ID=function(e,t){if(typeof t.getElementById!==Q&&!L){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},S.filter.ID=function(e){var t=e.replace(bt,wt);return function(e){return e.getAttribute("id")===t}}):(S.find.ID=function(e,n){if(typeof n.getElementById!==Q&&!L){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==Q&&i.getAttributeNode("id").value===e?[i]:t:[]}},S.filter.ID=function(e){var t=e.replace(bt,wt);return function(e){var n=typeof e.getAttributeNode!==Q&&e.getAttributeNode("id");return n&&n.value===t}}),S.find.TAG=B.tagNameNoComments?function(e,t){return typeof t.getElementsByTagName!==Q?t.getElementsByTagName(e):void 0}:function(e,t){var n,i=[],s=0,r=t.getElementsByTagName(e);if("*"===e){for(;n=r[s++];)1===n.nodeType&&i.push(n);return i}return r},S.find.NAME=B.getByName&&function(e,t){return typeof t.getElementsByName!==Q?t.getElementsByName(name):void 0},S.find.CLASS=B.getByClassName&&function(e,t){return typeof t.getElementsByClassName===Q||L?void 0:t.getElementsByClassName(e)},O=[],U=[":focus"],(B.qsa=n(i.querySelectorAll))&&(r(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||U.push("\\["+et+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||U.push(":checked")}),r(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&U.push("[*^$]="+et+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||U.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),U.push(",.*:")})),(B.matchesSelector=n(M=A.matchesSelector||A.mozMatchesSelector||A.webkitMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&r(function(e){B.disconnectedMatch=M.call(e,"div"),M.call(e,"[s!='']:x"),O.push("!=",rt)}),U=new RegExp(U.join("|")),O=new RegExp(O.join("|")),j=n(A.contains)||A.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},R=A.compareDocumentPosition?function(e,t){var n;return e===t?(E=!0,0):(n=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))?1&n||e.parentNode&&11===e.parentNode.nodeType?e===i||j(q,e)?-1:t===i||j(q,t)?1:0:4&n?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var n,s=0,r=e.parentNode,a=t.parentNode,l=[e],c=[t];if(e===t)return E=!0,0;if(!r||!a)return e===i?-1:t===i?1:r?-1:a?1:0;if(r===a)return o(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[s]===c[s];)s++;return s?o(l[s],c[s]):l[s]===q?-1:c[s]===q?1:0},E=!1,[0,0].sort(R),B.detectDuplicates=E,N):N},a.matches=function(e,t){return a(e,null,null,t)},a.matchesSelector=function(e,t){if((e.ownerDocument||e)!==N&&I(e),t=t.replace(yt,"='$1']"),!(!B.matchesSelector||L||O&&O.test(t)||U.test(t)))try{var n=M.call(e,t);if(n||B.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(i){}return a(t,N,null,[e]).length>0},a.contains=function(e,t){return(e.ownerDocument||e)!==N&&I(e),j(e,t)},a.attr=function(e,t){var n;return(e.ownerDocument||e)!==N&&I(e),L||(t=t.toLowerCase()),(n=S.attrHandle[t])?n(e):L||B.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},a.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},a.uniqueSort=function(e){var t,n=[],i=1,s=0;if(E=!B.detectDuplicates,e.sort(R),E){for(;t=e[i];i++)t===e[i-1]&&(s=n.push(i));for(;s--;)e.splice(n[s],1)}return e},C=a.getText=function(e){var t,n="",i=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=C(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[i];i++)n+=C(t);return n},S=a.selectors={cacheLength:50,createPseudo:s,match:ht,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(bt,wt),e[3]=(e[4]||e[5]||"").replace(bt,wt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||a.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&a.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return ht.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&ut.test(n)&&(t=d(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(bt,wt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+et+")"+e+"("+et+"|$)"))&&z(e,function(e){return t.test(e.className||typeof e.getAttribute!==Q&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var s=a.attr(i,e);return null==s?"!="===t:t?(s+="","="===t?s===n:"!="===t?s!==n:"^="===t?n&&0===s.indexOf(n):"*="===t?n&&s.indexOf(n)>-1:"$="===t?n&&s.slice(-n.length)===n:"~="===t?(" "+s+" ").indexOf(n)>-1:"|="===t?s===n||s.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,i,s){var r="nth"!==e.slice(0,3),a="last"!==e.slice(-4),o="of-type"===t;return 1===i&&0===s?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,p,f,m=r!==a?"nextSibling":"previousSibling",g=t.parentNode,v=o&&t.nodeName.toLowerCase(),_=!l&&!o;if(g){if(r){for(;m;){for(d=t;d=d[m];)if(o?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"
}return!0}if(f=[a?g.firstChild:g.lastChild],a&&_){for(u=g[P]||(g[P]={}),c=u[e]||[],p=c[0]===H&&c[1],h=c[0]===H&&c[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(h=p=0)||f.pop();)if(1===d.nodeType&&++h&&d===t){u[e]=[H,p,h];break}}else if(_&&(c=(t[P]||(t[P]={}))[e])&&c[0]===H)h=c[1];else for(;(d=++p&&d&&d[m]||(h=p=0)||f.pop())&&((o?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(_&&((d[P]||(d[P]={}))[e]=[H,h]),d!==t)););return h-=s,h===i||0===h%i&&h/i>=0}}},PSEUDO:function(e,t){var n,i=S.pseudos[e]||S.setFilters[e.toLowerCase()]||a.error("unsupported pseudo: "+e);return i[P]?i(t):i.length>1?(n=[e,e,"",t],S.setFilters.hasOwnProperty(e.toLowerCase())?s(function(e,n){for(var s,r=i(e,t),a=r.length;a--;)s=Z.call(e,r[a]),e[s]=!(n[s]=r[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:s(function(e){var t=[],n=[],i=D(e.replace(at,"$1"));return i[P]?s(function(e,t,n,s){for(var r,a=i(e,null,s,[]),o=e.length;o--;)(r=a[o])&&(e[o]=!(t[o]=r))}):function(e,s,r){return t[0]=e,i(t,null,r,n),!n.pop()}}),has:s(function(e){return function(t){return a(e,t).length>0}}),contains:s(function(e){return function(t){return(t.textContent||t.innerText||C(t)).indexOf(e)>-1}}),lang:s(function(e){return dt.test(e||"")||a.error("unsupported lang: "+e),e=e.replace(bt,wt).toLowerCase(),function(t){var n;do if(n=L?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===A},focus:function(e){return e===N.activeElement&&(!N.hasFocus||N.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!S.pseudos.empty(e)},header:function(e){return vt.test(e.nodeName)},input:function(e){return gt.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}};for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})S.pseudos[x]=l(x);for(x in{submit:!0,reset:!0})S.pseudos[x]=c(x);D=a.compile=function(e,t){var n,i=[],s=[],r=V[e+" "];if(!r){for(t||(t=d(e)),n=t.length;n--;)r=v(t[n]),r[P]?i.push(r):s.push(r);r=V(e,_(s,i))}return r},S.pseudos.nth=S.pseudos.eq,S.filters=w.prototype=S.pseudos,S.setFilters=new w,I(),a.attr=lt.attr,lt.find=a,lt.expr=a.selectors,lt.expr[":"]=lt.expr.pseudos,lt.unique=a.uniqueSort,lt.text=a.getText,lt.isXMLDoc=a.isXML,lt.contains=a.contains}(e);var Bt=/Until$/,Ht=/^(?:parents|prev(?:Until|All))/,$t=/^.[^:#\[\.,]*$/,zt=lt.expr.match.needsContext,Wt={children:!0,contents:!0,next:!0,prev:!0};lt.fn.extend({find:function(e){var t,n,i,s=this.length;if("string"!=typeof e)return i=this,this.pushStack(lt(e).filter(function(){for(t=0;s>t;t++)if(lt.contains(i[t],this))return!0}));for(n=[],t=0;s>t;t++)lt.find(e,this[t],n);return n=this.pushStack(s>1?lt.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=lt(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(lt.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(d(this,e,!1))},filter:function(e){return this.pushStack(d(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?zt.test(e)?lt(e,this.context).index(this[0])>=0:lt.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,i=0,s=this.length,r=[],a=zt.test(e)||"string"!=typeof e?lt(e,t||this.context):0;s>i;i++)for(n=this[i];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(a?a.index(n)>-1:lt.find.matchesSelector(n,e)){r.push(n);break}n=n.parentNode}return this.pushStack(r.length>1?lt.unique(r):r)},index:function(e){return e?"string"==typeof e?lt.inArray(this[0],lt(e)):lt.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?lt(e,t):lt.makeArray(e&&e.nodeType?[e]:e),i=lt.merge(this.get(),n);return this.pushStack(lt.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),lt.fn.andSelf=lt.fn.addBack,lt.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return lt.dir(e,"parentNode")},parentsUntil:function(e,t,n){return lt.dir(e,"parentNode",n)},next:function(e){return u(e,"nextSibling")},prev:function(e){return u(e,"previousSibling")},nextAll:function(e){return lt.dir(e,"nextSibling")},prevAll:function(e){return lt.dir(e,"previousSibling")},nextUntil:function(e,t,n){return lt.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return lt.dir(e,"previousSibling",n)},siblings:function(e){return lt.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return lt.sibling(e.firstChild)},contents:function(e){return lt.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:lt.merge([],e.childNodes)}},function(e,t){lt.fn[e]=function(n,i){var s=lt.map(this,t,n);return Bt.test(e)||(i=n),i&&"string"==typeof i&&(s=lt.filter(i,s)),s=this.length>1&&!Wt[e]?lt.unique(s):s,this.length>1&&Ht.test(e)&&(s=s.reverse()),this.pushStack(s)}}),lt.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?lt.find.matchesSelector(t[0],e)?[t[0]]:[]:lt.find.matches(e,t)},dir:function(e,n,i){for(var s=[],r=e[n];r&&9!==r.nodeType&&(i===t||1!==r.nodeType||!lt(r).is(i));)1===r.nodeType&&s.push(r),r=r[n];return s},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var Vt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Qt=/ jQuery\d+="(?:null|\d+)"/g,Jt=new RegExp("<(?:"+Vt+")[\\s/>]","i"),Yt=/^\s+/,Xt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Gt=/<([\w:]+)/,Kt=/<tbody/i,Zt=/<|&#?\w+;/,en=/<(?:script|style|link)/i,tn=/^(?:checkbox|radio)$/i,nn=/checked\s*(?:[^=]|=\s*.checked.)/i,sn=/^$|\/(?:java|ecma)script/i,rn=/^true\/(.*)/,an=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,on={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:lt.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ln=h(J),cn=ln.appendChild(J.createElement("div"));on.optgroup=on.option,on.tbody=on.tfoot=on.colgroup=on.caption=on.thead,on.th=on.td,lt.fn.extend({text:function(e){return lt.access(this,function(e){return e===t?lt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||J).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(lt.isFunction(e))return this.each(function(t){lt(this).wrapAll(e.call(this,t))});if(this[0]){var t=lt(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(lt.isFunction(e)?function(t){lt(this).wrapInner(e.call(this,t))}:function(){var t=lt(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=lt.isFunction(e);return this.each(function(n){lt(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){lt.nodeName(this,"body")||lt(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=0;null!=(n=this[i]);i++)(!e||lt.filter(e,[n]).length>0)&&(t||1!==n.nodeType||lt.cleanData(y(n)),n.parentNode&&(t&&lt.contains(n.ownerDocument,n)&&g(y(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&lt.cleanData(y(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&lt.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return lt.clone(this,e,t)})},html:function(e){return lt.access(this,function(e){var n=this[0]||{},i=0,s=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Qt,""):t;if(!("string"!=typeof e||en.test(e)||!lt.support.htmlSerialize&&Jt.test(e)||!lt.support.leadingWhitespace&&Yt.test(e)||on[(Gt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Xt,"<$1></$2>");try{for(;s>i;i++)n=this[i]||{},1===n.nodeType&&(lt.cleanData(y(n,!1)),n.innerHTML=e);n=0}catch(r){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=lt.isFunction(e);return t||"string"==typeof e||(e=lt(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;n&&(lt(this).remove(),n.insertBefore(e,t))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,i){e=tt.apply([],e);var s,r,a,o,l,c,u=0,d=this.length,h=this,g=d-1,v=e[0],_=lt.isFunction(v);if(_||!(1>=d||"string"!=typeof v||lt.support.checkClone)&&nn.test(v))return this.each(function(s){var r=h.eq(s);_&&(e[0]=v.call(this,s,n?r.html():t)),r.domManip(e,n,i)});if(d&&(c=lt.buildFragment(e,this[0].ownerDocument,!1,this),s=c.firstChild,1===c.childNodes.length&&(c=s),s)){for(n=n&&lt.nodeName(s,"tr"),o=lt.map(y(c,"script"),f),a=o.length;d>u;u++)r=c,u!==g&&(r=lt.clone(r,!0,!0),a&&lt.merge(o,y(r,"script"))),i.call(n&&lt.nodeName(this[u],"table")?p(this[u],"tbody"):this[u],r,u);if(a)for(l=o[o.length-1].ownerDocument,lt.map(o,m),u=0;a>u;u++)r=o[u],sn.test(r.type||"")&&!lt._data(r,"globalEval")&&lt.contains(l,r)&&(r.src?lt.ajax({url:r.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):lt.globalEval((r.text||r.textContent||r.innerHTML||"").replace(an,"")));c=s=null}return this}}),lt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){lt.fn[e]=function(e){for(var n,i=0,s=[],r=lt(e),a=r.length-1;a>=i;i++)n=i===a?this:this.clone(!0),lt(r[i])[t](n),nt.apply(s,n.get());return this.pushStack(s)}}),lt.extend({clone:function(e,t,n){var i,s,r,a,o,l=lt.contains(e.ownerDocument,e);if(lt.support.html5Clone||lt.isXMLDoc(e)||!Jt.test("<"+e.nodeName+">")?r=e.cloneNode(!0):(cn.innerHTML=e.outerHTML,cn.removeChild(r=cn.firstChild)),!(lt.support.noCloneEvent&&lt.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||lt.isXMLDoc(e)))for(i=y(r),o=y(e),a=0;null!=(s=o[a]);++a)i[a]&&_(s,i[a]);if(t)if(n)for(o=o||y(e),i=i||y(r),a=0;null!=(s=o[a]);a++)v(s,i[a]);else v(e,r);return i=y(r,"script"),i.length>0&&g(i,!l&&y(e,"script")),i=o=s=null,r},buildFragment:function(e,t,n,i){for(var s,r,a,o,l,c,u,d=e.length,p=h(t),f=[],m=0;d>m;m++)if(r=e[m],r||0===r)if("object"===lt.type(r))lt.merge(f,r.nodeType?[r]:r);else if(Zt.test(r)){for(o=o||p.appendChild(t.createElement("div")),l=(Gt.exec(r)||["",""])[1].toLowerCase(),u=on[l]||on._default,o.innerHTML=u[1]+r.replace(Xt,"<$1></$2>")+u[2],s=u[0];s--;)o=o.lastChild;if(!lt.support.leadingWhitespace&&Yt.test(r)&&f.push(t.createTextNode(Yt.exec(r)[0])),!lt.support.tbody)for(r="table"!==l||Kt.test(r)?"<table>"!==u[1]||Kt.test(r)?0:o:o.firstChild,s=r&&r.childNodes.length;s--;)lt.nodeName(c=r.childNodes[s],"tbody")&&!c.childNodes.length&&r.removeChild(c);for(lt.merge(f,o.childNodes),o.textContent="";o.firstChild;)o.removeChild(o.firstChild);o=p.lastChild}else f.push(t.createTextNode(r));for(o&&p.removeChild(o),lt.support.appendChecked||lt.grep(y(f,"input"),b),m=0;r=f[m++];)if((!i||-1===lt.inArray(r,i))&&(a=lt.contains(r.ownerDocument,r),o=y(p.appendChild(r),"script"),a&&g(o),n))for(s=0;r=o[s++];)sn.test(r.type||"")&&n.push(r);return o=null,p},cleanData:function(e,t){for(var n,i,s,r,a=0,o=lt.expando,l=lt.cache,c=lt.support.deleteExpando,u=lt.event.special;null!=(n=e[a]);a++)if((t||lt.acceptData(n))&&(s=n[o],r=s&&l[s])){if(r.events)for(i in r.events)u[i]?lt.event.remove(n,i):lt.removeEvent(n,i,r.handle);l[s]&&(delete l[s],c?delete n[o]:typeof n.removeAttribute!==Q?n.removeAttribute(o):n[o]=null,Z.push(s))}}});var un,dn,hn,pn=/alpha\([^)]*\)/i,fn=/opacity\s*=\s*([^)]*)/,mn=/^(top|right|bottom|left)$/,gn=/^(none|table(?!-c[ea]).+)/,vn=/^margin/,_n=new RegExp("^("+ct+")(.*)$","i"),yn=new RegExp("^("+ct+")(?!px)[a-z%]+$","i"),bn=new RegExp("^([+-])=("+ct+")","i"),wn={BODY:"block"},xn={position:"absolute",visibility:"hidden",display:"block"},kn={letterSpacing:0,fontWeight:400},Sn=["Top","Right","Bottom","Left"],Cn=["Webkit","O","Moz","ms"];lt.fn.extend({css:function(e,n){return lt.access(this,function(e,n,i){var s,r,a={},o=0;if(lt.isArray(n)){for(r=dn(e),s=n.length;s>o;o++)a[n[o]]=lt.css(e,n[o],!1,r);return a}return i!==t?lt.style(e,n,i):lt.css(e,n)},e,n,arguments.length>1)},show:function(){return k(this,!0)},hide:function(){return k(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:x(this))?lt(this).show():lt(this).hide()})}}),lt.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=hn(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":lt.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,s){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,a,o,l=lt.camelCase(n),c=e.style;if(n=lt.cssProps[l]||(lt.cssProps[l]=w(c,l)),o=lt.cssHooks[n]||lt.cssHooks[l],i===t)return o&&"get"in o&&(r=o.get(e,!1,s))!==t?r:c[n];if(a=typeof i,"string"===a&&(r=bn.exec(i))&&(i=(r[1]+1)*r[2]+parseFloat(lt.css(e,n)),a="number"),!(null==i||"number"===a&&isNaN(i)||("number"!==a||lt.cssNumber[l]||(i+="px"),lt.support.clearCloneStyle||""!==i||0!==n.indexOf("background")||(c[n]="inherit"),o&&"set"in o&&(i=o.set(e,i,s))===t)))try{c[n]=i}catch(u){}}},css:function(e,n,i,s){var r,a,o,l=lt.camelCase(n);return n=lt.cssProps[l]||(lt.cssProps[l]=w(e.style,l)),o=lt.cssHooks[n]||lt.cssHooks[l],o&&"get"in o&&(a=o.get(e,!0,i)),a===t&&(a=hn(e,n,s)),"normal"===a&&n in kn&&(a=kn[n]),""===i||i?(r=parseFloat(a),i===!0||lt.isNumeric(r)?r||0:a):a},swap:function(e,t,n,i){var s,r,a={};for(r in t)a[r]=e.style[r],e.style[r]=t[r];s=n.apply(e,i||[]);for(r in t)e.style[r]=a[r];return s}}),e.getComputedStyle?(dn=function(t){return e.getComputedStyle(t,null)},hn=function(e,n,i){var s,r,a,o=i||dn(e),l=o?o.getPropertyValue(n)||o[n]:t,c=e.style;return o&&(""!==l||lt.contains(e.ownerDocument,e)||(l=lt.style(e,n)),yn.test(l)&&vn.test(n)&&(s=c.width,r=c.minWidth,a=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=o.width,c.width=s,c.minWidth=r,c.maxWidth=a)),l}):J.documentElement.currentStyle&&(dn=function(e){return e.currentStyle},hn=function(e,n,i){var s,r,a,o=i||dn(e),l=o?o[n]:t,c=e.style;return null==l&&c&&c[n]&&(l=c[n]),yn.test(l)&&!mn.test(n)&&(s=c.left,r=e.runtimeStyle,a=r&&r.left,a&&(r.left=e.currentStyle.left),c.left="fontSize"===n?"1em":l,l=c.pixelLeft+"px",c.left=s,a&&(r.left=a)),""===l?"auto":l}),lt.each(["height","width"],function(e,t){lt.cssHooks[t]={get:function(e,n,i){return n?0===e.offsetWidth&&gn.test(lt.css(e,"display"))?lt.swap(e,xn,function(){return T(e,t,i)}):T(e,t,i):void 0},set:function(e,n,i){var s=i&&dn(e);return S(e,n,i?C(e,t,i,lt.support.boxSizing&&"border-box"===lt.css(e,"boxSizing",!1,s),s):0)}}}),lt.support.opacity||(lt.cssHooks.opacity={get:function(e,t){return fn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,s=lt.isNumeric(t)?"alpha(opacity="+100*t+")":"",r=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===lt.trim(r.replace(pn,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=pn.test(r)?r.replace(pn,s):r+" "+s)}}),lt(function(){lt.support.reliableMarginRight||(lt.cssHooks.marginRight={get:function(e,t){return t?lt.swap(e,{display:"inline-block"},hn,[e,"marginRight"]):void 0}}),!lt.support.pixelPosition&&lt.fn.position&&lt.each(["top","left"],function(e,t){lt.cssHooks[t]={get:function(e,n){return n?(n=hn(e,t),yn.test(n)?lt(e).position()[t]+"px":n):void 0}}})}),lt.expr&&lt.expr.filters&&(lt.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!lt.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||lt.css(e,"display"))},lt.expr.filters.visible=function(e){return!lt.expr.filters.hidden(e)}),lt.each({margin:"",padding:"",border:"Width"},function(e,t){lt.cssHooks[e+t]={expand:function(n){for(var i=0,s={},r="string"==typeof n?n.split(" "):[n];4>i;i++)s[e+Sn[i]+t]=r[i]||r[i-2]||r[0];return s}},vn.test(e)||(lt.cssHooks[e+t].set=S)});var Tn=/%20/g,Dn=/\[\]$/,En=/\r?\n/g,Fn=/^(?:submit|button|image|reset|file)$/i,In=/^(?:input|select|textarea|keygen)/i;lt.fn.extend({serialize:function(){return lt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=lt.prop(this,"elements");return e?lt.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!lt(this).is(":disabled")&&In.test(this.nodeName)&&!Fn.test(e)&&(this.checked||!tn.test(e))}).map(function(e,t){var n=lt(this).val();return null==n?null:lt.isArray(n)?lt.map(n,function(e){return{name:t.name,value:e.replace(En,"\r\n")}}):{name:t.name,value:n.replace(En,"\r\n")}}).get()}}),lt.param=function(e,n){var i,s=[],r=function(e,t){t=lt.isFunction(t)?t():null==t?"":t,s[s.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=lt.ajaxSettings&&lt.ajaxSettings.traditional),lt.isArray(e)||e.jquery&&!lt.isPlainObject(e))lt.each(e,function(){r(this.name,this.value)});else for(i in e)F(i,e[i],n,r);return s.join("&").replace(Tn,"+")},lt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){lt.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),lt.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var Nn,An,Ln=lt.now(),Un=/\?/,On=/#.*$/,Mn=/([?&])_=[^&]*/,jn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Rn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Pn=/^(?:GET|HEAD)$/,qn=/^\/\//,Bn=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Hn=lt.fn.load,$n={},zn={},Wn="*/".concat("*");try{An=Y.href}catch(Vn){An=J.createElement("a"),An.href="",An=An.href}Nn=Bn.exec(An.toLowerCase())||[],lt.fn.load=function(e,n,i){if("string"!=typeof e&&Hn)return Hn.apply(this,arguments);var s,r,a,o=this,l=e.indexOf(" ");return l>=0&&(s=e.slice(l,e.length),e=e.slice(0,l)),lt.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(a="POST"),o.length>0&&lt.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){r=arguments,o.html(s?lt("<div>").append(lt.parseHTML(e)).find(s):e)}).complete(i&&function(e,t){o.each(i,r||[e.responseText,t,e])}),this},lt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){lt.fn[t]=function(e){return this.on(t,e)}}),lt.each(["get","post"],function(e,n){lt[n]=function(e,i,s,r){return lt.isFunction(i)&&(r=r||s,s=i,i=t),lt.ajax({url:e,type:n,dataType:r,data:i,success:s})}}),lt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:An,type:"GET",isLocal:Rn.test(Nn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":lt.parseJSON,"text xml":lt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?A(A(e,lt.ajaxSettings),t):A(lt.ajaxSettings,e)},ajaxPrefilter:I($n),ajaxTransport:I(zn),ajax:function(e,n){function i(e,n,i,s){var r,d,_,y,w,k=n;2!==b&&(b=2,l&&clearTimeout(l),u=t,o=s||"",x.readyState=e>0?4:0,i&&(y=L(h,x,i)),e>=200&&300>e||304===e?(h.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(lt.lastModified[a]=w),w=x.getResponseHeader("etag"),w&&(lt.etag[a]=w)),204===e?(r=!0,k="nocontent"):304===e?(r=!0,k="notmodified"):(r=U(h,y),k=r.state,d=r.data,_=r.error,r=!_)):(_=k,(e||!k)&&(k="error",0>e&&(e=0))),x.status=e,x.statusText=(n||k)+"",r?m.resolveWith(p,[d,k,x]):m.rejectWith(p,[x,k,_]),x.statusCode(v),v=t,c&&f.trigger(r?"ajaxSuccess":"ajaxError",[x,h,r?d:_]),g.fireWith(p,[x,k]),c&&(f.trigger("ajaxComplete",[x,h]),--lt.active||lt.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var s,r,a,o,l,c,u,d,h=lt.ajaxSetup({},n),p=h.context||h,f=h.context&&(p.nodeType||p.jquery)?lt(p):lt.event,m=lt.Deferred(),g=lt.Callbacks("once memory"),v=h.statusCode||{},_={},y={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!d)for(d={};t=jn.exec(o);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,_[e]=t),this},overrideMimeType:function(e){return b||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>b)for(t in e)v[t]=[v[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return u&&u.abort(t),i(0,t),this}};if(m.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,h.url=((e||h.url||An)+"").replace(On,"").replace(qn,Nn[1]+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=lt.trim(h.dataType||"*").toLowerCase().match(ut)||[""],null==h.crossDomain&&(s=Bn.exec(h.url.toLowerCase()),h.crossDomain=!(!s||s[1]===Nn[1]&&s[2]===Nn[2]&&(s[3]||("http:"===s[1]?80:443))==(Nn[3]||("http:"===Nn[1]?80:443)))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=lt.param(h.data,h.traditional)),N($n,h,n,x),2===b)return x;c=h.global,c&&0===lt.active++&&lt.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Pn.test(h.type),a=h.url,h.hasContent||(h.data&&(a=h.url+=(Un.test(a)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=Mn.test(a)?a.replace(Mn,"$1_="+Ln++):a+(Un.test(a)?"&":"?")+"_="+Ln++)),h.ifModified&&(lt.lastModified[a]&&x.setRequestHeader("If-Modified-Since",lt.lastModified[a]),lt.etag[a]&&x.setRequestHeader("If-None-Match",lt.etag[a])),(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Wn+"; q=0.01":""):h.accepts["*"]);for(r in h.headers)x.setRequestHeader(r,h.headers[r]);if(h.beforeSend&&(h.beforeSend.call(p,x,h)===!1||2===b))return x.abort();w="abort";for(r in{success:1,error:1,complete:1})x[r](h[r]);if(u=N(zn,h,n,x)){x.readyState=1,c&&f.trigger("ajaxSend",[x,h]),h.async&&h.timeout>0&&(l=setTimeout(function(){x.abort("timeout")},h.timeout));try{b=1,u.send(_,i)}catch(k){if(!(2>b))throw k;i(-1,k)}}else i(-1,"No Transport");return x},getScript:function(e,n){return lt.get(e,t,n,"script")},getJSON:function(e,t,n){return lt.get(e,t,n,"json")}}),lt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return lt.globalEval(e),e}}}),lt.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),lt.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=J.head||lt("head")[0]||J.documentElement;return{send:function(t,s){n=J.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||s(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var Qn=[],Jn=/(=)\?(?=&|$)|\?\?/;lt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Qn.pop()||lt.expando+"_"+Ln++;return this[e]=!0,e}}),lt.ajaxPrefilter("json jsonp",function(n,i,s){var r,a,o,l=n.jsonp!==!1&&(Jn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Jn.test(n.data)&&"data");return l||"jsonp"===n.dataTypes[0]?(r=n.jsonpCallback=lt.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Jn,"$1"+r):n.jsonp!==!1&&(n.url+=(Un.test(n.url)?"&":"?")+n.jsonp+"="+r),n.converters["script json"]=function(){return o||lt.error(r+" was not called"),o[0]},n.dataTypes[0]="json",a=e[r],e[r]=function(){o=arguments},s.always(function(){e[r]=a,n[r]&&(n.jsonpCallback=i.jsonpCallback,Qn.push(r)),o&&lt.isFunction(a)&&a(o[0]),o=a=t}),"script"):void 0});var Yn,Xn,Gn=0,Kn=e.ActiveXObject&&function(){var e;for(e in Yn)Yn[e](t,!0)};lt.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&O()||M()}:O,Xn=lt.ajaxSettings.xhr(),lt.support.cors=!!Xn&&"withCredentials"in Xn,Xn=lt.support.ajax=!!Xn,Xn&&lt.ajaxTransport(function(n){if(!n.crossDomain||lt.support.cors){var i;return{send:function(s,r){var a,o,l=n.xhr();if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(o in n.xhrFields)l[o]=n.xhrFields[o];n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest");try{for(o in s)l.setRequestHeader(o,s[o])}catch(c){}l.send(n.hasContent&&n.data||null),i=function(e,s){var o,c,u,d;try{if(i&&(s||4===l.readyState))if(i=t,a&&(l.onreadystatechange=lt.noop,Kn&&delete Yn[a]),s)4!==l.readyState&&l.abort();else{d={},o=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(d.text=l.responseText);try{u=l.statusText}catch(h){u=""}o||!n.isLocal||n.crossDomain?1223===o&&(o=204):o=d.text?200:404}}catch(p){s||r(-1,p)}d&&r(o,u,d,c)},n.async?4===l.readyState?setTimeout(i):(a=++Gn,Kn&&(Yn||(Yn={},lt(e).unload(Kn)),Yn[a]=i),l.onreadystatechange=i):i()},abort:function(){i&&i(t,!0)}}}});var Zn,ei,ti=/^(?:toggle|show|hide)$/,ni=new RegExp("^(?:([+-])=|)("+ct+")([a-z%]*)$","i"),ii=/queueHooks$/,si=[B],ri={"*":[function(e,t){var n,i,s=this.createTween(e,t),r=ni.exec(t),a=s.cur(),o=+a||0,l=1,c=20;if(r){if(n=+r[2],i=r[3]||(lt.cssNumber[e]?"":"px"),"px"!==i&&o){o=lt.css(s.elem,e,!0)||n||1;do l=l||".5",o/=l,lt.style(s.elem,e,o+i);while(l!==(l=s.cur()/a)&&1!==l&&--c)}s.unit=i,s.start=o,s.end=r[1]?o+(r[1]+1)*n:n}return s}]};lt.Animation=lt.extend(P,{tweener:function(e,t){lt.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,s=e.length;s>i;i++)n=e[i],ri[n]=ri[n]||[],ri[n].unshift(t)},prefilter:function(e,t){t?si.unshift(e):si.push(e)}}),lt.Tween=H,H.prototype={constructor:H,init:function(e,t,n,i,s,r){this.elem=e,this.prop=n,this.easing=s||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=r||(lt.cssNumber[n]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,n=H.propHooks[this.prop];return this.pos=t=this.options.duration?lt.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=lt.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){lt.fx.step[e.prop]?lt.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[lt.cssProps[e.prop]]||lt.cssHooks[e.prop])?lt.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},lt.each(["toggle","show","hide"],function(e,t){var n=lt.fn[t];lt.fn[t]=function(e,i,s){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate($(t,!0),e,i,s)}}),lt.fn.extend({fadeTo:function(e,t,n,i){return this.filter(x).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var s=lt.isEmptyObject(e),r=lt.speed(t,n,i),a=function(){var t=P(this,lt.extend({},e),r);a.finish=function(){t.stop(!0)},(s||lt._data(this,"finish"))&&t.stop(!0)};return a.finish=a,s||r.queue===!1?this.each(a):this.queue(r.queue,a)},stop:function(e,n,i){var s=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",r=lt.timers,a=lt._data(this);if(n)a[n]&&a[n].stop&&s(a[n]);else for(n in a)a[n]&&a[n].stop&&ii.test(n)&&s(a[n]);for(n=r.length;n--;)r[n].elem!==this||null!=e&&r[n].queue!==e||(r[n].anim.stop(i),t=!1,r.splice(n,1));(t||!i)&&lt.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=lt._data(this),i=n[e+"queue"],s=n[e+"queueHooks"],r=lt.timers,a=i?i.length:0;for(n.finish=!0,lt.queue(this,e,[]),s&&s.cur&&s.cur.finish&&s.cur.finish.call(this),t=r.length;t--;)r[t].elem===this&&r[t].queue===e&&(r[t].anim.stop(!0),r.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),lt.each({slideDown:$("show"),slideUp:$("hide"),slideToggle:$("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){lt.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),lt.speed=function(e,t,n){var i=e&&"object"==typeof e?lt.extend({},e):{complete:n||!n&&t||lt.isFunction(e)&&e,duration:e,easing:n&&t||t&&!lt.isFunction(t)&&t};return i.duration=lt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in lt.fx.speeds?lt.fx.speeds[i.duration]:lt.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){lt.isFunction(i.old)&&i.old.call(this),i.queue&&lt.dequeue(this,i.queue)},i},lt.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},lt.timers=[],lt.fx=H.prototype.init,lt.fx.tick=function(){var e,n=lt.timers,i=0;for(Zn=lt.now();i<n.length;i++)e=n[i],e()||n[i]!==e||n.splice(i--,1);n.length||lt.fx.stop(),Zn=t},lt.fx.timer=function(e){e()&&lt.timers.push(e)&&lt.fx.start()},lt.fx.interval=13,lt.fx.start=function(){ei||(ei=setInterval(lt.fx.tick,lt.fx.interval))},lt.fx.stop=function(){clearInterval(ei),ei=null},lt.fx.speeds={slow:600,fast:200,_default:400},lt.fx.step={},lt.expr&&lt.expr.filters&&(lt.expr.filters.animated=function(e){return lt.grep(lt.timers,function(t){return e===t.elem}).length}),lt.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){lt.offset.setOffset(this,e,t)
});var n,i,s={top:0,left:0},r=this[0],a=r&&r.ownerDocument;return a?(n=a.documentElement,lt.contains(n,r)?(typeof r.getBoundingClientRect!==Q&&(s=r.getBoundingClientRect()),i=z(a),{top:s.top+(i.pageYOffset||n.scrollTop)-(n.clientTop||0),left:s.left+(i.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):s):void 0},lt.offset={setOffset:function(e,t,n){var i=lt.css(e,"position");"static"===i&&(e.style.position="relative");var s,r,a=lt(e),o=a.offset(),l=lt.css(e,"top"),c=lt.css(e,"left"),u=("absolute"===i||"fixed"===i)&&lt.inArray("auto",[l,c])>-1,d={},h={};u?(h=a.position(),s=h.top,r=h.left):(s=parseFloat(l)||0,r=parseFloat(c)||0),lt.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(d.top=t.top-o.top+s),null!=t.left&&(d.left=t.left-o.left+r),"using"in t?t.using.call(e,d):a.css(d)}},lt.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===lt.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),lt.nodeName(e[0],"html")||(n=e.offset()),n.top+=lt.css(e[0],"borderTopWidth",!0),n.left+=lt.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-lt.css(i,"marginTop",!0),left:t.left-n.left-lt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||J.documentElement;e&&!lt.nodeName(e,"html")&&"static"===lt.css(e,"position");)e=e.offsetParent;return e||J.documentElement})}}),lt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);lt.fn[e]=function(s){return lt.access(this,function(e,s,r){var a=z(e);return r===t?a?n in a?a[n]:a.document.documentElement[s]:e[s]:void(a?a.scrollTo(i?lt(a).scrollLeft():r,i?r:lt(a).scrollTop()):e[s]=r)},e,s,arguments.length,null)}}),lt.each({Height:"height",Width:"width"},function(e,n){lt.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,s){lt.fn[s]=function(s,r){var a=arguments.length&&(i||"boolean"!=typeof s),o=i||(s===!0||r===!0?"margin":"border");return lt.access(this,function(n,i,s){var r;return lt.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(r=n.documentElement,Math.max(n.body["scroll"+e],r["scroll"+e],n.body["offset"+e],r["offset"+e],r["client"+e])):s===t?lt.css(n,i,o):lt.style(n,i,s,o)},n,a?s:t,a,null)}})}),e.jQuery=e.$=lt,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return lt})}(window),function(e){e.extend(e.fn,{validate:function(t){if(!this.length)return void(t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing."));var n=e.data(this[0],"validator");return n?n:(this.attr("novalidate","novalidate"),n=new e.validator(t,this[0]),e.data(this[0],"validator",n),n.settings.onsubmit&&(this.validateDelegate(":submit","click",function(t){n.settings.submitHandler&&(n.submitButton=t.target),e(t.target).hasClass("cancel")&&(n.cancelSubmit=!0),void 0!==e(t.target).attr("formnovalidate")&&(n.cancelSubmit=!0)}),this.submit(function(t){function i(){var i;return n.settings.submitHandler?(n.submitButton&&(i=e("<input type='hidden'/>").attr("name",n.submitButton.name).val(e(n.submitButton).val()).appendTo(n.currentForm)),n.settings.submitHandler.call(n,n.currentForm,t),n.submitButton&&i.remove(),!1):!0}return n.settings.debug&&t.preventDefault(),n.cancelSubmit?(n.cancelSubmit=!1,i()):n.form()?n.pendingRequest?(n.formSubmitted=!0,!1):i():(n.focusInvalid(),!1)})),n)},valid:function(){if(e(this[0]).is("form"))return this.validate().form();var t=!0,n=e(this[0].form).validate();return this.each(function(){t=t&&n.element(this)}),t},removeAttrs:function(t){var n={},i=this;return e.each(t.split(/\s/),function(e,t){n[t]=i.attr(t),i.removeAttr(t)}),n},rules:function(t,n){var i=this[0];if(t){var s=e.data(i.form,"validator").settings,r=s.rules,a=e.validator.staticRules(i);switch(t){case"add":e.extend(a,e.validator.normalizeRule(n)),delete a.messages,r[i.name]=a,n.messages&&(s.messages[i.name]=e.extend(s.messages[i.name],n.messages));break;case"remove":if(!n)return delete r[i.name],a;var o={};return e.each(n.split(/\s/),function(e,t){o[t]=a[t],delete a[t]}),o}}var l=e.validator.normalizeRules(e.extend({},e.validator.classRules(i),e.validator.attributeRules(i),e.validator.dataRules(i),e.validator.staticRules(i)),i);if(l.required){var c=l.required;delete l.required,l=e.extend({required:c},l)}return l}}),e.extend(e.expr[":"],{blank:function(t){return!e.trim(""+e(t).val())},filled:function(t){return!!e.trim(""+e(t).val())},unchecked:function(t){return!e(t).prop("checked")}}),e.validator=function(t,n){this.settings=e.extend(!0,{},e.validator.defaults,t),this.currentForm=n,this.init()},e.validator.format=function(t,n){return 1===arguments.length?function(){var n=e.makeArray(arguments);return n.unshift(t),e.validator.format.apply(this,n)}:(arguments.length>2&&n.constructor!==Array&&(n=e.makeArray(arguments).slice(1)),n.constructor!==Array&&(n=[n]),e.each(n,function(e,n){t=t.replace(new RegExp("\\{"+e+"\\}","g"),function(){return n})}),t)},e.extend(e.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:!0,errorContainer:e([]),errorLabelContainer:e([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(e){this.lastActive=e,this.settings.focusCleanup&&!this.blockFocusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,e,this.settings.errorClass,this.settings.validClass),this.addWrapper(this.errorsFor(e)).hide())},onfocusout:function(e){this.checkable(e)||!(e.name in this.submitted)&&this.optional(e)||this.element(e)},onkeyup:function(e,t){(9!==t.which||""!==this.elementValue(e))&&(e.name in this.submitted||e===this.lastElement)&&this.element(e)},onclick:function(e){e.name in this.submitted?this.element(e):e.parentNode.name in this.submitted&&this.element(e.parentNode)},highlight:function(t,n,i){"radio"===t.type?this.findByName(t.name).addClass(n).removeClass(i):e(t).addClass(n).removeClass(i)},unhighlight:function(t,n,i){"radio"===t.type?this.findByName(t.name).removeClass(n).addClass(i):e(t).removeClass(n).addClass(i)}},setDefaults:function(t){e.extend(e.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",creditcard:"Please enter a valid credit card number.",equalTo:"Please enter the same value again.",maxlength:e.validator.format("Please enter no more than {0} characters."),minlength:e.validator.format("Please enter at least {0} characters."),rangelength:e.validator.format("Please enter a value between {0} and {1} characters long."),range:e.validator.format("Please enter a value between {0} and {1}."),max:e.validator.format("Please enter a value less than or equal to {0}."),min:e.validator.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:!1,prototype:{init:function(){function t(t){var n=e.data(this[0].form,"validator"),i="on"+t.type.replace(/^validate/,"");n.settings[i]&&n.settings[i].call(n,this[0],t)}this.labelContainer=e(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||e(this.currentForm),this.containers=e(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var n=this.groups={};e.each(this.settings.groups,function(t,i){"string"==typeof i&&(i=i.split(/\s/)),e.each(i,function(e,i){n[i]=t})});var i=this.settings.rules;e.each(i,function(t,n){i[t]=e.validator.normalizeRule(n)}),e(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'] ","focusin focusout keyup",t).validateDelegate("[type='radio'], [type='checkbox'], select, option","click",t),this.settings.invalidHandler&&e(this.currentForm).bind("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),e.extend(this.submitted,this.errorMap),this.invalid=e.extend({},this.errorMap),this.valid()||e(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var e=0,t=this.currentElements=this.elements();t[e];e++)this.check(t[e]);return this.valid()},element:function(t){t=this.validationTargetFor(this.clean(t)),this.lastElement=t,this.prepareElement(t),this.currentElements=e(t);var n=this.check(t)!==!1;return n?delete this.invalid[t.name]:this.invalid[t.name]=!0,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),n},showErrors:function(t){if(t){e.extend(this.errorMap,t),this.errorList=[];for(var n in t)this.errorList.push({message:t[n],element:this.findByName(n)[0]});this.successList=e.grep(this.successList,function(e){return!(e.name in t)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){e.fn.resetForm&&e(this.currentForm).resetForm(),this.submitted={},this.lastElement=null,this.prepareForm(),this.hideErrors(),this.elements().removeClass(this.settings.errorClass).removeData("previousValue")},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(e){var t=0;for(var n in e)t++;return t},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{e(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var t=this.lastActive;return t&&1===e.grep(this.errorList,function(e){return e.element.name===t.name}).length&&t},elements:function(){var t=this,n={};return e(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){return!this.name&&t.settings.debug&&window.console,this.name in n||!t.objectLength(e(this).rules())?!1:(n[this.name]=!0,!0)})},clean:function(t){return e(t)[0]},errors:function(){var t=this.settings.errorClass.replace(" ",".");return e(this.settings.errorElement+"."+t,this.errorContext)},reset:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=e([]),this.toHide=e([]),this.currentElements=e([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(e){this.reset(),this.toHide=this.errorsFor(e)},elementValue:function(t){var n=e(t).attr("type"),i=e(t).val();return"radio"===n||"checkbox"===n?e("input[name='"+e(t).attr("name")+"']:checked").val():"string"==typeof i?i.replace(/\r/g,""):i},check:function(t){t=this.validationTargetFor(this.clean(t));var n,i=e(t).rules(),s=!1,r=this.elementValue(t);for(var a in i){var o={method:a,parameters:i[a]};try{if(n=e.validator.methods[a].call(this,r,t,o.parameters),"dependency-mismatch"===n){s=!0;continue}if(s=!1,"pending"===n)return void(this.toHide=this.toHide.not(this.errorsFor(t)));if(!n)return this.formatAndAdd(t,o),!1}catch(l){throw this.settings.debug&&window.console,l}}return s?void 0:(this.objectLength(i)&&this.successList.push(t),!0)},customDataMessage:function(t,n){return e(t).data("msg-"+n.toLowerCase())||t.attributes&&e(t).attr("data-msg-"+n.toLowerCase())},customMessage:function(e,t){var n=this.settings.messages[e];return n&&(n.constructor===String?n:n[t])},findDefined:function(){for(var e=0;e<arguments.length;e++)if(void 0!==arguments[e])return arguments[e];return void 0},defaultMessage:function(t,n){return this.findDefined(this.customMessage(t.name,n),this.customDataMessage(t,n),!this.settings.ignoreTitle&&t.title||void 0,e.validator.messages[n],"<strong>Warning: No message defined for "+t.name+"</strong>")},formatAndAdd:function(t,n){var i=this.defaultMessage(t,n.method),s=/\$?\{(\d+)\}/g;"function"==typeof i?i=i.call(this,n.parameters,t):s.test(i)&&(i=e.validator.format(i.replace(s,"{$1}"),n.parameters)),this.errorList.push({message:i,element:t}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(e){return this.settings.wrapper&&(e=e.add(e.parent(this.settings.wrapper))),e},defaultShowErrors:function(){var e,t;for(e=0;this.errorList[e];e++){var n=this.errorList[e];this.settings.highlight&&this.settings.highlight.call(this,n.element,this.settings.errorClass,this.settings.validClass),this.showLabel(n.element,n.message)}if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(e=0;this.successList[e];e++)this.showLabel(this.successList[e]);if(this.settings.unhighlight)for(e=0,t=this.validElements();t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return e(this.errorList).map(function(){return this.element})},showLabel:function(t,n){var i=this.errorsFor(t);i.length?(i.removeClass(this.settings.validClass).addClass(this.settings.errorClass),i.html(n)):(i=e("<"+this.settings.errorElement+">").attr("for",this.idOrName(t)).addClass(this.settings.errorClass).html(n||""),this.settings.wrapper&&(i=i.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.append(i).length||(this.settings.errorPlacement?this.settings.errorPlacement(i,e(t)):i.insertAfter(t))),!n&&this.settings.success&&(i.text(""),"string"==typeof this.settings.success?i.addClass(this.settings.success):this.settings.success(i,t)),this.toShow=this.toShow.add(i)},errorsFor:function(t){var n=this.idOrName(t);return this.errors().filter(function(){return e(this).attr("for")===n})},idOrName:function(e){return this.groups[e.name]||(this.checkable(e)?e.name:e.id||e.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name).not(this.settings.ignore)[0]),e},checkable:function(e){return/radio|checkbox/i.test(e.type)},findByName:function(t){return e(this.currentForm).find("[name='"+t+"']")},getLength:function(t,n){switch(n.nodeName.toLowerCase()){case"select":return e("option:selected",n).length;case"input":if(this.checkable(n))return this.findByName(n.name).filter(":checked").length}return t.length},depend:function(e,t){return this.dependTypes[typeof e]?this.dependTypes[typeof e](e,t):!0},dependTypes:{"boolean":function(e){return e},string:function(t,n){return!!e(t,n.form).length},"function":function(e,t){return e(t)}},optional:function(t){var n=this.elementValue(t);return!e.validator.methods.required.call(this,n,t)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,this.pending[e.name]=!0)},stopRequest:function(t,n){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],n&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(e(this.currentForm).submit(),this.formSubmitted=!1):!n&&0===this.pendingRequest&&this.formSubmitted&&(e(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t){return e.data(t,"previousValue")||e.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,"remote")})}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,n){t.constructor===String?this.classRuleSettings[t]=n:e.extend(this.classRuleSettings,t)},classRules:function(t){var n={},i=e(t).attr("class");return i&&e.each(i.split(" "),function(){this in e.validator.classRuleSettings&&e.extend(n,e.validator.classRuleSettings[this])}),n},attributeRules:function(t){var n={},i=e(t),s=i[0].getAttribute("type");for(var r in e.validator.methods){var a;"required"===r?(a=i.get(0).getAttribute(r),""===a&&(a=!0),a=!!a):a=i.attr(r),/min|max/.test(r)&&(null===s||/number|range|text/.test(s))&&(a=Number(a)),a?n[r]=a:s===r&&"range"!==s&&(n[r]=!0)}return n.maxlength&&/-1|2147483647|524288/.test(n.maxlength)&&delete n.maxlength,n},dataRules:function(t){var n,i,s={},r=e(t);for(n in e.validator.methods)i=r.data("rule-"+n.toLowerCase()),void 0!==i&&(s[n]=i);return s},staticRules:function(t){var n={},i=e.data(t.form,"validator");return i.settings.rules&&(n=e.validator.normalizeRule(i.settings.rules[t.name])||{}),n},normalizeRules:function(t,n){return e.each(t,function(i,s){if(s===!1)return void delete t[i];if(s.param||s.depends){var r=!0;switch(typeof s.depends){case"string":r=!!e(s.depends,n.form).length;break;case"function":r=s.depends.call(n,n)}r?t[i]=void 0!==s.param?s.param:!0:delete t[i]}}),e.each(t,function(i,s){t[i]=e.isFunction(s)?s(n):s}),e.each(["minlength","maxlength"],function(){t[this]&&(t[this]=Number(t[this]))}),e.each(["rangelength","range"],function(){var n;t[this]&&(e.isArray(t[this])?t[this]=[Number(t[this][0]),Number(t[this][1])]:"string"==typeof t[this]&&(n=t[this].split(/[\s,]+/),t[this]=[Number(n[0]),Number(n[1])]))}),e.validator.autoCreateRanges&&(t.min&&t.max&&(t.range=[t.min,t.max],delete t.min,delete t.max),t.minlength&&t.maxlength&&(t.rangelength=[t.minlength,t.maxlength],delete t.minlength,delete t.maxlength)),t},normalizeRule:function(t){if("string"==typeof t){var n={};e.each(t.split(/\s/),function(){n[this]=!0}),t=n}return t},addMethod:function(t,n,i){e.validator.methods[t]=n,e.validator.messages[t]=void 0!==i?i:e.validator.messages[t],n.length<3&&e.validator.addClassRules(t,e.validator.normalizeRule(t))},methods:{required:function(t,n,i){if(!this.depend(i,n))return"dependency-mismatch";if("select"===n.nodeName.toLowerCase()){var s=e(n).val();return s&&s.length>0}return this.checkable(n)?this.getLength(t,n)>0:e.trim(t).length>0},email:function(e,t){return this.optional(t)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)},url:function(e,t){return this.optional(t)||/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(e)},date:function(e,t){return this.optional(t)||!/Invalid|NaN/.test(new Date(e).toString())},dateISO:function(e,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(e)},number:function(e,t){return this.optional(t)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(e)},digits:function(e,t){return this.optional(t)||/^\d+$/.test(e)},creditcard:function(e,t){if(this.optional(t))return"dependency-mismatch";if(/[^0-9 \-]+/.test(e))return!1;var n=0,i=0,s=!1;e=e.replace(/\D/g,"");for(var r=e.length-1;r>=0;r--){var a=e.charAt(r);i=parseInt(a,10),s&&(i*=2)>9&&(i-=9),n+=i,s=!s}return n%10===0},minlength:function(t,n,i){var s=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||s>=i},maxlength:function(t,n,i){var s=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||i>=s},rangelength:function(t,n,i){var s=e.isArray(t)?t.length:this.getLength(e.trim(t),n);return this.optional(n)||s>=i[0]&&s<=i[1]},min:function(e,t,n){return this.optional(t)||e>=n},max:function(e,t,n){return this.optional(t)||n>=e},range:function(e,t,n){return this.optional(t)||e>=n[0]&&e<=n[1]},equalTo:function(t,n,i){var s=e(i);return this.settings.onfocusout&&s.unbind(".validate-equalTo").bind("blur.validate-equalTo",function(){e(n).valid()}),t===s.val()},remote:function(t,n,i){if(this.optional(n))return"dependency-mismatch";var s=this.previousValue(n);if(this.settings.messages[n.name]||(this.settings.messages[n.name]={}),s.originalMessage=this.settings.messages[n.name].remote,this.settings.messages[n.name].remote=s.message,i="string"==typeof i&&{url:i}||i,s.old===t)return s.valid;s.old=t;var r=this;this.startRequest(n);var a={};return a[n.name]=t,e.ajax(e.extend(!0,{url:i,mode:"abort",port:"validate"+n.name,dataType:"json",data:a,success:function(i){r.settings.messages[n.name].remote=s.originalMessage;var a=i===!0||"true"===i;if(a){var o=r.formSubmitted;r.prepareElement(n),r.formSubmitted=o,r.successList.push(n),delete r.invalid[n.name],r.showErrors()}else{var l={},c=i||r.defaultMessage(n,"remote");l[n.name]=s.message=e.isFunction(c)?c(t):c,r.invalid[n.name]=!0,r.showErrors(l)}s.valid=a,r.stopRequest(n,a)}},i)),"pending"}}}),e.format=e.validator.format}(jQuery),function(e){var t={};if(e.ajaxPrefilter)e.ajaxPrefilter(function(e,n,i){var s=e.port;"abort"===e.mode&&(t[s]&&t[s].abort(),t[s]=i)});else{var n=e.ajax;e.ajax=function(i){var s=("mode"in i?i:e.ajaxSettings).mode,r=("port"in i?i:e.ajaxSettings).port;return"abort"===s?(t[r]&&t[r].abort(),t[r]=n.apply(this,arguments),t[r]):n.apply(this,arguments)}}}(jQuery),function(e){e.extend(e.fn,{validateDelegate:function(t,n,i){return this.bind(n,function(n){var s=e(n.target);return s.is(t)?i.apply(s,arguments):void 0})}})}(jQuery),define("jQvalidation",["jquery"],function(e){return function(){var t;return t||e.jQvalidation}}(this)),function(e){e.extend(e.validator.messages,{required:"必填字段",remote:"请修正该字段",email:"请输入正确格式的电子邮件",url:"请输入合法的网址",date:"请输入合法的日期",dateISO:"请输入合法的日期 (ISO).",number:"请输入合法的数字",digits:"只能输入整数",creditcard:"请输入合法的信用卡号",equalTo:"请再次输入相同的值",accept:"请输入拥有合法后缀名的字符串",maxlength:e.validator.format("请输入一个长度最多是 {0} 的字符串"),minlength:e.validator.format("请输入一个长度最少是 {0} 的字符串"),rangelength:e.validator.format("请输入一个长度介于 {0} 和 {1} 之间的字符串"),range:e.validator.format("请输入一个介于 {0} 和 {1} 之间的值"),max:e.validator.format("请输入一个最大为 {0} 的值"),min:e.validator.format("请输入一个最小为 {0} 的值")})}(jQuery),define("jQmessage",["jquery","jQvalidation"],function(e){return function(){var t;return t||e.jQmessage}}(this)),jQuery.validator.addMethod("date",function(e,t){return this.optional(t)||/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(e)&&null!=Date.parse(e)},"请输入有效的日期(yyyy-mm-dd)"),jQuery.validator.addMethod("nonNegativeInteger",function(e,t){return this.optional(t)||/^\d*$/.test(e)},"请输入非负整数"),jQuery.validator.addMethod("positiveInteger",function(e,t){return this.optional(t)||/^[1-9]\d*$/.test(e)},"请输入正整数"),jQuery.validator.addMethod("greaterThanZero",function(e,t){return this.optional(t)||/^\d+$/.test(e)&&parseInt(e)>0},"输入的数值必须大于0"),jQuery.validator.addMethod("nonNegativeNum",function(e,t){return this.optional(t)||/^(\d*(\.\d+)?)$/.test(e)},"请输入非负数"),jQuery.validator.addMethod("mobileNumber",function(e,t){return this.optional(t)||/^0?(13[0-9]|15[012356789]|18[02356789]|14[57])[0-9]{8}$/.test(e)},"请输入正确的手机号码"),jQuery.validator.addMethod("mobileOrEmail",function(e,t){return this.optional(t)||/^0?(13[0-9]|15[012356789]|18[0236789]|14[57])[0-9]{8}$/.test(e)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)},"请输入正确的手机号码或邮箱"),jQuery.validator.addMethod("toHunNonNegInt",function(e,t){return this.optional(t)||/^(\d{1,2}|100)$/.test(e)},"请输入0到100整数"),jQuery.validator.addMethod("totalHundred",function(e,t,n){var i=$(n);return this.optional(t)||parseInt(i.val())+parseInt(e)===100},"请确认百分比的和是否为100"),jQuery.validator.addMethod("nonSpecialChars",function(e,t){return this.optional(t)||/^[a-zA-Z0-9\u4E00-\u9FA5,\.&\(\)@]*$/.test(e)},"请不要输入特殊字符或者全角字符"),jQuery.validator.addMethod("numberAlpha",function(e,t){return this.optional(t)||/^[a-zA-Z0-9]*$/.test(e)},"只能输入数字和字母"),jQuery.validator.addMethod("hsCode",function(e,t){return this.optional(t)||/^[0-9][0-9\.\s]*[0-9]$/.test(e)},"请输入正确的HS编码"),jQuery.validator.addMethod("numLengthLimit",function(e,t){return this.optional(t)||e.length<=12},"请输入长度为12位以内的非负数"),jQuery.validator.addMethod("isIdCardNo",function(e,t){return this.optional(t)||/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$/.test(e)||/^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{4}$/.test(e)},"请正确输入您的身份证号码"),define("jQvalidationRule",["jquery","jQvalidation"],function(e){return function(){var t;return t||e.jQvalidationRule}}(this)),define("plugins/ajaxlogin",["jquery","config"],function(e,t){var n=function(e,t,n,s){var r=n+"/api/tickets",a=s+"/cas";i(e,t,r,a)},i=function(t,n,i,r){e.ajax({url:i,data:{username:t,password:n,service:r},type:"POST"}).done(function(e){s(i,e,r)}).fail(function(){})},s=function(t,n,i){e.ajax({url:t+"/"+n,data:{service:i},type:"POST"}).done(function(e){r(e,i)}).fail(function(){})},r=function(t,n){e.ajax({url:n+"?ticket="+t}).done(function(){}).fail(function(){})},a=function(){e("#logindialog").removeClass("hide")};return{showLoginDialog:a,init:function(){var i=e("#logindialog");i.on("click","#closewin,#winClose",function(){}).on("click","#submitForm",function(){var e=i.find("#loginform");e.valid()&&n(e.find("#username").val(),e.find("#password").val(),"http://dev.156.com/cas",t.ctx)})}}}),define("config",["jquery","plugins/ajaxlogin"],function(e,t){var n=function(){};return e.isIE&&(window.console={},window.console.log=n),e.ajaxSetup({status:{403:function(){t.showLoginDialog()}}}),{ctx:window.ctx,jsessionid:window.jsessionid,userId:window.userId,host:window.host,port:window.port,dateFormats:{date:"yyyy-mm-dd",datehms:"yyyy-M-dd HH:mm:ss",datehm:"yyyy-MM-dd HH:mm",hms:"HH:mm:ss",hm:"HH:mm"},dateFormat:function(e,t){var n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in n)new RegExp("("+i+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[i]:("00"+n[i]).substr((""+n[i]).length)));return t},cometClientIdCookieName:"org.cometd.clientId",cometStateCookieName:"org.cometd.state",cometServerUrl:window.cometServerUrl,resourceServerUrl:window.resourceServerUrl}});var swfobject=function(){function e(){if(!$){try{var e=M.getElementsByTagName("body")[0].appendChild(g("span"));e.parentNode.removeChild(e)}catch(t){return}$=!0;for(var n=P.length,i=0;n>i;i++)P[i]()}}function t(e){$?e():P[P.length]=e}function n(e){if(typeof O.addEventListener!=E)O.addEventListener("load",e,!1);else if(typeof M.addEventListener!=E)M.addEventListener("load",e,!1);else if(typeof O.attachEvent!=E)v(O,"onload",e);else if("function"==typeof O.onload){var t=O.onload;O.onload=function(){t(),e()}}else O.onload=e}function i(){R?s():r()}function s(){var e=M.getElementsByTagName("body")[0],t=g(F);t.setAttribute("type",A);var n=e.appendChild(t);if(n){var i=0;!function(){if(typeof n.GetVariable!=E){var s=n.GetVariable("$version");s&&(s=s.split(" ")[1].split(","),V.pv=[parseInt(s[0],10),parseInt(s[1],10),parseInt(s[2],10)])}else if(10>i)return i++,void setTimeout(arguments.callee,10);e.removeChild(t),n=null,r()}()}else r()}function r(){var e=q.length;if(e>0)for(var t=0;e>t;t++){var n=q[t].id,i=q[t].callbackFn,s={success:!1,id:n};if(V.pv[0]>0){var r=m(n);if(r)if(!_(q[t].swfVersion)||V.wk&&V.wk<312)if(q[t].expressInstall&&o()){var u={};u.data=q[t].expressInstall,u.width=r.getAttribute("width")||"0",u.height=r.getAttribute("height")||"0",r.getAttribute("class")&&(u.styleclass=r.getAttribute("class")),r.getAttribute("align")&&(u.align=r.getAttribute("align"));for(var d={},h=r.getElementsByTagName("param"),p=h.length,f=0;p>f;f++)"movie"!=h[f].getAttribute("name").toLowerCase()&&(d[h[f].getAttribute("name")]=h[f].getAttribute("value"));l(u,d,n,i)}else c(r),i&&i(s);else b(n,!0),i&&(s.success=!0,s.ref=a(n),i(s))}else if(b(n,!0),i){var g=a(n);g&&typeof g.SetVariable!=E&&(s.success=!0,s.ref=g),i(s)}}}function a(e){var t=null,n=m(e);if(n&&"OBJECT"==n.nodeName)if(typeof n.SetVariable!=E)t=n;else{var i=n.getElementsByTagName(F)[0];i&&(t=i)}return t}function o(){return!z&&_("6.0.65")&&(V.win||V.mac)&&!(V.wk&&V.wk<312)}function l(e,t,n,i){z=!0,S=i||null,C={success:!1,id:n};var s=m(n);if(s){"OBJECT"==s.nodeName?(x=u(s),k=null):(x=s,k=n),e.id=L,(typeof e.width==E||!/%$/.test(e.width)&&parseInt(e.width,10)<310)&&(e.width="310"),(typeof e.height==E||!/%$/.test(e.height)&&parseInt(e.height,10)<137)&&(e.height="137"),M.title=M.title.slice(0,47)+" - Flash Player Installation";var r=V.ie&&V.win?"ActiveX":"PlugIn",a="MMredirectURL="+O.location.toString().replace(/&/g,"%26")+"&MMplayerType="+r+"&MMdoctitle="+M.title;if(typeof t.flashvars!=E?t.flashvars+="&"+a:t.flashvars=a,V.ie&&V.win&&4!=s.readyState){var o=g("div");n+="SWFObjectNew",o.setAttribute("id",n),s.parentNode.insertBefore(o,s),s.style.display="none",function(){4==s.readyState?s.parentNode.removeChild(s):setTimeout(arguments.callee,10)}()}d(e,t,n)}}function c(e){if(V.ie&&V.win&&4!=e.readyState){var t=g("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(u(e),t),e.style.display="none",function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)}()}else e.parentNode.replaceChild(u(e),e)}function u(e){var t=g("div");if(V.win&&V.ie)t.innerHTML=e.innerHTML;else{var n=e.getElementsByTagName(F)[0];if(n){var i=n.childNodes;if(i)for(var s=i.length,r=0;s>r;r++)1==i[r].nodeType&&"PARAM"==i[r].nodeName||8==i[r].nodeType||t.appendChild(i[r].cloneNode(!0))
}}return t}function d(e,t,n){var i,s=m(n);if(V.wk&&V.wk<312)return i;if(s)if(typeof e.id==E&&(e.id=n),V.ie&&V.win){var r="";for(var a in e)e[a]!=Object.prototype[a]&&("data"==a.toLowerCase()?t.movie=e[a]:"styleclass"==a.toLowerCase()?r+=' class="'+e[a]+'"':"classid"!=a.toLowerCase()&&(r+=" "+a+'="'+e[a]+'"'));var o="";for(var l in t)t[l]!=Object.prototype[l]&&(o+='<param name="'+l+'" value="'+t[l]+'" />');s.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+r+">"+o+"</object>",B[B.length]=e.id,i=m(e.id)}else{var c=g(F);c.setAttribute("type",A);for(var u in e)e[u]!=Object.prototype[u]&&("styleclass"==u.toLowerCase()?c.setAttribute("class",e[u]):"classid"!=u.toLowerCase()&&c.setAttribute(u,e[u]));for(var d in t)t[d]!=Object.prototype[d]&&"movie"!=d.toLowerCase()&&h(c,d,t[d]);s.parentNode.replaceChild(c,s),i=c}return i}function h(e,t,n){var i=g("param");i.setAttribute("name",t),i.setAttribute("value",n),e.appendChild(i)}function p(e){var t=m(e);t&&"OBJECT"==t.nodeName&&(V.ie&&V.win?(t.style.display="none",function(){4==t.readyState?f(e):setTimeout(arguments.callee,10)}()):t.parentNode.removeChild(t))}function f(e){var t=m(e);if(t){for(var n in t)"function"==typeof t[n]&&(t[n]=null);t.parentNode.removeChild(t)}}function m(e){var t=null;try{t=M.getElementById(e)}catch(n){}return t}function g(e){return M.createElement(e)}function v(e,t,n){e.attachEvent(t,n),H[H.length]=[e,t,n]}function _(e){var t=V.pv,n=e.split(".");return n[0]=parseInt(n[0],10),n[1]=parseInt(n[1],10)||0,n[2]=parseInt(n[2],10)||0,t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]?!0:!1}function y(e,t,n,i){if(!V.ie||!V.mac){var s=M.getElementsByTagName("head")[0];if(s){var r=n&&"string"==typeof n?n:"screen";if(i&&(T=null,D=null),!T||D!=r){var a=g("style");a.setAttribute("type","text/css"),a.setAttribute("media",r),T=s.appendChild(a),V.ie&&V.win&&typeof M.styleSheets!=E&&M.styleSheets.length>0&&(T=M.styleSheets[M.styleSheets.length-1]),D=r}V.ie&&V.win?T&&typeof T.addRule==F&&T.addRule(e,t):T&&typeof M.createTextNode!=E&&T.appendChild(M.createTextNode(e+" {"+t+"}"))}}}function b(e,t){if(W){var n=t?"visible":"hidden";$&&m(e)?m(e).style.visibility=n:y("#"+e,"visibility:"+n)}}function w(e){var t=/[\\\"<>\.;]/,n=null!=t.exec(e);return n&&typeof encodeURIComponent!=E?encodeURIComponent(e):e}{var x,k,S,C,T,D,E="undefined",F="object",I="Shockwave Flash",N="ShockwaveFlash.ShockwaveFlash",A="application/x-shockwave-flash",L="SWFObjectExprInst",U="onreadystatechange",O=window,M=document,j=navigator,R=!1,P=[i],q=[],B=[],H=[],$=!1,z=!1,W=!0,V=function(){var e=typeof M.getElementById!=E&&typeof M.getElementsByTagName!=E&&typeof M.createElement!=E,t=j.userAgent.toLowerCase(),n=j.platform.toLowerCase(),i=/win/.test(n?n:t),s=/mac/.test(n?n:t),r=/webkit/.test(t)?parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,a=!1,o=[0,0,0],l=null;if(typeof j.plugins!=E&&typeof j.plugins[I]==F)l=j.plugins[I].description,!l||typeof j.mimeTypes!=E&&j.mimeTypes[A]&&!j.mimeTypes[A].enabledPlugin||(R=!0,a=!1,l=l.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),o[0]=parseInt(l.replace(/^(.*)\..*$/,"$1"),10),o[1]=parseInt(l.replace(/^.*\.(.*)\s.*$/,"$1"),10),o[2]=/[a-zA-Z]/.test(l)?parseInt(l.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof O.ActiveXObject!=E)try{var c=new ActiveXObject(N);c&&(l=c.GetVariable("$version"),l&&(a=!0,l=l.split(" ")[1].split(","),o=[parseInt(l[0],10),parseInt(l[1],10),parseInt(l[2],10)]))}catch(u){}return{w3:e,pv:o,wk:r,ie:a,win:i,mac:s}}();!function(){V.w3&&((typeof M.readyState!=E&&"complete"==M.readyState||typeof M.readyState==E&&(M.getElementsByTagName("body")[0]||M.body))&&e(),$||(typeof M.addEventListener!=E&&M.addEventListener("DOMContentLoaded",e,!1),V.ie&&V.win&&(M.attachEvent(U,function(){"complete"==M.readyState&&(M.detachEvent(U,arguments.callee),e())}),O==top&&!function(){if(!$){try{M.documentElement.doScroll("left")}catch(t){return void setTimeout(arguments.callee,0)}e()}}()),V.wk&&!function(){return $?void 0:/loaded|complete/.test(M.readyState)?void e():void setTimeout(arguments.callee,0)}(),n(e)))}(),function(){V.ie&&V.win&&window.attachEvent("onunload",function(){for(var e=H.length,t=0;e>t;t++)H[t][0].detachEvent(H[t][1],H[t][2]);for(var n=B.length,i=0;n>i;i++)p(B[i]);for(var s in V)V[s]=null;V=null;for(var r in swfobject)swfobject[r]=null;swfobject=null})}()}return{registerObject:function(e,t,n,i){if(V.w3&&e&&t){var s={};s.id=e,s.swfVersion=t,s.expressInstall=n,s.callbackFn=i,q[q.length]=s,b(e,!1)}else i&&i({success:!1,id:e})},getObjectById:function(e){return V.w3?a(e):void 0},embedSWF:function(e,n,i,s,r,a,c,u,h,p){var f={success:!1,id:n};V.w3&&!(V.wk&&V.wk<312)&&e&&n&&i&&s&&r?(b(n,!1),t(function(){i+="",s+="";var t={};if(h&&typeof h===F)for(var m in h)t[m]=h[m];t.data=e,t.width=i,t.height=s;var g={};if(u&&typeof u===F)for(var v in u)g[v]=u[v];if(c&&typeof c===F)for(var y in c)typeof g.flashvars!=E?g.flashvars+="&"+y+"="+c[y]:g.flashvars=y+"="+c[y];if(_(r)){var w=d(t,g,n);t.id==n&&b(n,!0),f.success=!0,f.ref=w}else{if(a&&o())return t.data=a,void l(t,g,n,p);b(n,!0)}p&&p(f)})):p&&p(f)},switchOffAutoHideShow:function(){W=!1},ua:V,getFlashPlayerVersion:function(){return{major:V.pv[0],minor:V.pv[1],release:V.pv[2]}},hasFlashPlayerVersion:_,createSWF:function(e,t,n){return V.w3?d(e,t,n):void 0},showExpressInstall:function(e,t,n,i){V.w3&&o()&&l(e,t,n,i)},removeSWF:function(e){V.w3&&p(e)},createCSS:function(e,t,n,i){V.w3&&y(e,t,n,i)},addDomLoadEvent:t,addLoadEvent:n,getQueryParamValue:function(e){var t=M.location.search||M.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),null==e)return w(t);for(var n=t.split("&"),i=0;i<n.length;i++)if(n[i].substring(0,n[i].indexOf("="))==e)return w(n[i].substring(n[i].indexOf("=")+1))}return""},expressInstallCallback:function(){if(z){var e=m(L);e&&x&&(e.parentNode.replaceChild(x,e),k&&(b(k,!0),V.ie&&V.win&&(x.style.display="block")),S&&S(C)),z=!1}}}}(),SWFUpload;void 0==SWFUpload&&(SWFUpload=function(e){this.initSWFUpload(e)}),SWFUpload.prototype.initSWFUpload=function(e){try{this.customSettings={},this.settings=e,this.eventQueue=[],this.movieName="SWFUpload_"+SWFUpload.movieCount++,this.movieElement=null,SWFUpload.instances[this.movieName]=this,this.initSettings(),this.loadFlash(),this.displayDebugInfo()}catch(t){throw delete SWFUpload.instances[this.movieName],t}},SWFUpload.instances={},SWFUpload.movieCount=0,SWFUpload.version="2.2.0 2009-03-25",SWFUpload.QUEUE_ERROR={QUEUE_LIMIT_EXCEEDED:-100,FILE_EXCEEDS_SIZE_LIMIT:-110,ZERO_BYTE_FILE:-120,INVALID_FILETYPE:-130},SWFUpload.UPLOAD_ERROR={HTTP_ERROR:-200,MISSING_UPLOAD_URL:-210,IO_ERROR:-220,SECURITY_ERROR:-230,UPLOAD_LIMIT_EXCEEDED:-240,UPLOAD_FAILED:-250,SPECIFIED_FILE_ID_NOT_FOUND:-260,FILE_VALIDATION_FAILED:-270,FILE_CANCELLED:-280,UPLOAD_STOPPED:-290},SWFUpload.FILE_STATUS={QUEUED:-1,IN_PROGRESS:-2,ERROR:-3,COMPLETE:-4,CANCELLED:-5},SWFUpload.BUTTON_ACTION={SELECT_FILE:-100,SELECT_FILES:-110,START_UPLOAD:-120},SWFUpload.CURSOR={ARROW:-1,HAND:-2},SWFUpload.WINDOW_MODE={WINDOW:"window",TRANSPARENT:"transparent",OPAQUE:"opaque"},SWFUpload.completeURL=function(e){if("string"!=typeof e||e.match(/^https?:\/\//i)||e.match(/^\//))return e;var t=(window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),window.location.pathname.lastIndexOf("/"));return path=0>=t?"/":window.location.pathname.substr(0,t)+"/",path+e},SWFUpload.prototype.initSettings=function(){this.ensureDefault=function(e,t){this.settings[e]=void 0==this.settings[e]?t:this.settings[e]},this.ensureDefault("upload_url",""),this.ensureDefault("preserve_relative_urls",!1),this.ensureDefault("file_post_name","Filedata"),this.ensureDefault("post_params",{}),this.ensureDefault("use_query_string",!1),this.ensureDefault("requeue_on_error",!1),this.ensureDefault("http_success",[]),this.ensureDefault("assume_success_timeout",0),this.ensureDefault("file_types","*.*"),this.ensureDefault("file_types_description","All Files"),this.ensureDefault("file_size_limit",0),this.ensureDefault("file_upload_limit",0),this.ensureDefault("file_queue_limit",0),this.ensureDefault("flash_url","swfupload.swf"),this.ensureDefault("prevent_swf_caching",!0),this.ensureDefault("button_image_url",""),this.ensureDefault("button_width",1),this.ensureDefault("button_height",1),this.ensureDefault("button_text",""),this.ensureDefault("button_text_style","color: #000000; font-size: 16pt;"),this.ensureDefault("button_text_top_padding",0),this.ensureDefault("button_text_left_padding",0),this.ensureDefault("button_action",SWFUpload.BUTTON_ACTION.SELECT_FILES),this.ensureDefault("button_disabled",!1),this.ensureDefault("button_placeholder_id",""),this.ensureDefault("button_placeholder",null),this.ensureDefault("button_cursor",SWFUpload.CURSOR.ARROW),this.ensureDefault("button_window_mode",SWFUpload.WINDOW_MODE.WINDOW),this.ensureDefault("debug",!1),this.settings.debug_enabled=this.settings.debug,this.settings.return_upload_start_handler=this.returnUploadStart,this.ensureDefault("swfupload_loaded_handler",null),this.ensureDefault("file_dialog_start_handler",null),this.ensureDefault("file_queued_handler",null),this.ensureDefault("file_queue_error_handler",null),this.ensureDefault("file_dialog_complete_handler",null),this.ensureDefault("upload_start_handler",null),this.ensureDefault("upload_progress_handler",null),this.ensureDefault("upload_error_handler",null),this.ensureDefault("upload_success_handler",null),this.ensureDefault("upload_complete_handler",null),this.ensureDefault("debug_handler",this.debugMessage),this.ensureDefault("custom_settings",{}),this.customSettings=this.settings.custom_settings,this.settings.prevent_swf_caching&&(this.settings.flash_url=this.settings.flash_url+(this.settings.flash_url.indexOf("?")<0?"?":"&")+"preventswfcaching="+(new Date).getTime()),this.settings.preserve_relative_urls||(this.settings.upload_url=SWFUpload.completeURL(this.settings.upload_url),this.settings.button_image_url=SWFUpload.completeURL(this.settings.button_image_url)),delete this.ensureDefault},SWFUpload.prototype.loadFlash=function(){var e,t;if(null!==document.getElementById(this.movieName))throw"ID "+this.movieName+" is already in use. The Flash Object could not be added";if(e=document.getElementById(this.settings.button_placeholder_id)||this.settings.button_placeholder,void 0==e)throw"Could not find the placeholder element: "+this.settings.button_placeholder_id;t=document.createElement("div"),t.innerHTML=this.getFlashHTML(),e.parentNode.replaceChild(t.firstChild,e),void 0==window[this.movieName]&&(window[this.movieName]=this.getMovieElement())},SWFUpload.prototype.getFlashHTML=function(){return['<object id="',this.movieName,'" type="application/x-shockwave-flash" data="',this.settings.flash_url,'" width="',this.settings.button_width,'" height="',this.settings.button_height,'" class="swfupload">','<param name="wmode" value="',this.settings.button_window_mode,'" />','<param name="movie" value="',this.settings.flash_url,'" />','<param name="quality" value="high" />','<param name="menu" value="false" />','<param name="allowScriptAccess" value="always" />','<param name="flashvars" value="'+this.getFlashVars()+'" />',"</object>"].join("")},SWFUpload.prototype.getFlashVars=function(){var e=this.buildParamString(),t=this.settings.http_success.join(",");return["movieName=",encodeURIComponent(this.movieName),"&amp;uploadURL=",encodeURIComponent(this.settings.upload_url),"&amp;useQueryString=",encodeURIComponent(this.settings.use_query_string),"&amp;requeueOnError=",encodeURIComponent(this.settings.requeue_on_error),"&amp;httpSuccess=",encodeURIComponent(t),"&amp;assumeSuccessTimeout=",encodeURIComponent(this.settings.assume_success_timeout),"&amp;params=",encodeURIComponent(e),"&amp;filePostName=",encodeURIComponent(this.settings.file_post_name),"&amp;fileTypes=",encodeURIComponent(this.settings.file_types),"&amp;fileTypesDescription=",encodeURIComponent(this.settings.file_types_description),"&amp;fileSizeLimit=",encodeURIComponent(this.settings.file_size_limit),"&amp;fileUploadLimit=",encodeURIComponent(this.settings.file_upload_limit),"&amp;fileQueueLimit=",encodeURIComponent(this.settings.file_queue_limit),"&amp;debugEnabled=",encodeURIComponent(this.settings.debug_enabled),"&amp;buttonImageURL=",encodeURIComponent(this.settings.button_image_url),"&amp;buttonWidth=",encodeURIComponent(this.settings.button_width),"&amp;buttonHeight=",encodeURIComponent(this.settings.button_height),"&amp;buttonText=",encodeURIComponent(this.settings.button_text),"&amp;buttonTextTopPadding=",encodeURIComponent(this.settings.button_text_top_padding),"&amp;buttonTextLeftPadding=",encodeURIComponent(this.settings.button_text_left_padding),"&amp;buttonTextStyle=",encodeURIComponent(this.settings.button_text_style),"&amp;buttonAction=",encodeURIComponent(this.settings.button_action),"&amp;buttonDisabled=",encodeURIComponent(this.settings.button_disabled),"&amp;buttonCursor=",encodeURIComponent(this.settings.button_cursor)].join("")},SWFUpload.prototype.getMovieElement=function(){if(void 0==this.movieElement&&(this.movieElement=document.getElementById(this.movieName)),null===this.movieElement)throw"Could not find Flash element";return this.movieElement},SWFUpload.prototype.buildParamString=function(){var e=this.settings.post_params,t=[];if("object"==typeof e)for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n.toString())+"="+encodeURIComponent(e[n].toString()));return t.join("&amp;")},SWFUpload.prototype.destroy=function(){try{this.cancelUpload(null,!1);var e=null;if(e=this.getMovieElement(),e&&"unknown"==typeof e.CallFunction){for(var t in e)try{"function"==typeof e[t]&&(e[t]=null)}catch(n){}try{e.parentNode.removeChild(e)}catch(i){}}return window[this.movieName]=null,SWFUpload.instances[this.movieName]=null,delete SWFUpload.instances[this.movieName],this.movieElement=null,this.settings=null,this.customSettings=null,this.eventQueue=null,this.movieName=null,!0}catch(s){return!1}},SWFUpload.prototype.displayDebugInfo=function(){this.debug(["---SWFUpload Instance Info---\n","Version: ",SWFUpload.version,"\n","Movie Name: ",this.movieName,"\n","Settings:\n","	","upload_url:               ",this.settings.upload_url,"\n","	","flash_url:                ",this.settings.flash_url,"\n","	","use_query_string:         ",this.settings.use_query_string.toString(),"\n","	","requeue_on_error:         ",this.settings.requeue_on_error.toString(),"\n","	","http_success:             ",this.settings.http_success.join(", "),"\n","	","assume_success_timeout:   ",this.settings.assume_success_timeout,"\n","	","file_post_name:           ",this.settings.file_post_name,"\n","	","post_params:              ",this.settings.post_params.toString(),"\n","	","file_types:               ",this.settings.file_types,"\n","	","file_types_description:   ",this.settings.file_types_description,"\n","	","file_size_limit:          ",this.settings.file_size_limit,"\n","	","file_upload_limit:        ",this.settings.file_upload_limit,"\n","	","file_queue_limit:         ",this.settings.file_queue_limit,"\n","	","debug:                    ",this.settings.debug.toString(),"\n","	","prevent_swf_caching:      ",this.settings.prevent_swf_caching.toString(),"\n","	","button_placeholder_id:    ",this.settings.button_placeholder_id.toString(),"\n","	","button_placeholder:       ",this.settings.button_placeholder?"Set":"Not Set","\n","	","button_image_url:         ",this.settings.button_image_url.toString(),"\n","	","button_width:             ",this.settings.button_width.toString(),"\n","	","button_height:            ",this.settings.button_height.toString(),"\n","	","button_text:              ",this.settings.button_text.toString(),"\n","	","button_text_style:        ",this.settings.button_text_style.toString(),"\n","	","button_text_top_padding:  ",this.settings.button_text_top_padding.toString(),"\n","	","button_text_left_padding: ",this.settings.button_text_left_padding.toString(),"\n","	","button_action:            ",this.settings.button_action.toString(),"\n","	","button_disabled:          ",this.settings.button_disabled.toString(),"\n","	","custom_settings:          ",this.settings.custom_settings.toString(),"\n","Event Handlers:\n","	","swfupload_loaded_handler assigned:  ",("function"==typeof this.settings.swfupload_loaded_handler).toString(),"\n","	","file_dialog_start_handler assigned: ",("function"==typeof this.settings.file_dialog_start_handler).toString(),"\n","	","file_queued_handler assigned:       ",("function"==typeof this.settings.file_queued_handler).toString(),"\n","	","file_queue_error_handler assigned:  ",("function"==typeof this.settings.file_queue_error_handler).toString(),"\n","	","upload_start_handler assigned:      ",("function"==typeof this.settings.upload_start_handler).toString(),"\n","	","upload_progress_handler assigned:   ",("function"==typeof this.settings.upload_progress_handler).toString(),"\n","	","upload_error_handler assigned:      ",("function"==typeof this.settings.upload_error_handler).toString(),"\n","	","upload_success_handler assigned:    ",("function"==typeof this.settings.upload_success_handler).toString(),"\n","	","upload_complete_handler assigned:   ",("function"==typeof this.settings.upload_complete_handler).toString(),"\n","	","debug_handler assigned:             ",("function"==typeof this.settings.debug_handler).toString(),"\n"].join(""))},SWFUpload.prototype.addSetting=function(e,t,n){return this.settings[e]=void 0==t?n:t},SWFUpload.prototype.getSetting=function(e){return void 0!=this.settings[e]?this.settings[e]:""},SWFUpload.prototype.callFlash=function(functionName,argumentArray){argumentArray=argumentArray||[];var movieElement=this.getMovieElement(),returnValue,returnString;try{returnString=movieElement.CallFunction('<invoke name="'+functionName+'" returntype="javascript">'+__flash__argumentsToXML(argumentArray,0)+"</invoke>"),returnValue=eval(returnString)}catch(ex){throw"Call to "+functionName+" failed"}return void 0!=returnValue&&"object"==typeof returnValue.post&&(returnValue=this.unescapeFilePostParams(returnValue)),returnValue},SWFUpload.prototype.selectFile=function(){this.callFlash("SelectFile")},SWFUpload.prototype.selectFiles=function(){this.callFlash("SelectFiles")},SWFUpload.prototype.startUpload=function(e){this.callFlash("StartUpload",[e])},SWFUpload.prototype.cancelUpload=function(e,t){t!==!1&&(t=!0),this.callFlash("CancelUpload",[e,t])},SWFUpload.prototype.stopUpload=function(){this.callFlash("StopUpload")},SWFUpload.prototype.getStats=function(){return this.callFlash("GetStats")},SWFUpload.prototype.setStats=function(e){this.callFlash("SetStats",[e])},SWFUpload.prototype.getFile=function(e){return"number"==typeof e?this.callFlash("GetFileByIndex",[e]):this.callFlash("GetFile",[e])},SWFUpload.prototype.addFileParam=function(e,t,n){return this.callFlash("AddFileParam",[e,t,n])},SWFUpload.prototype.removeFileParam=function(e,t){this.callFlash("RemoveFileParam",[e,t])},SWFUpload.prototype.setUploadURL=function(e){this.settings.upload_url=e.toString(),this.callFlash("SetUploadURL",[e])},SWFUpload.prototype.setPostParams=function(e){this.settings.post_params=e,this.callFlash("SetPostParams",[e])},SWFUpload.prototype.addPostParam=function(e,t){this.settings.post_params[e]=t,this.callFlash("SetPostParams",[this.settings.post_params])},SWFUpload.prototype.removePostParam=function(e){delete this.settings.post_params[e],this.callFlash("SetPostParams",[this.settings.post_params])},SWFUpload.prototype.setFileTypes=function(e,t){this.settings.file_types=e,this.settings.file_types_description=t,this.callFlash("SetFileTypes",[e,t])},SWFUpload.prototype.setFileSizeLimit=function(e){this.settings.file_size_limit=e,this.callFlash("SetFileSizeLimit",[e])},SWFUpload.prototype.setFileUploadLimit=function(e){this.settings.file_upload_limit=e,this.callFlash("SetFileUploadLimit",[e])},SWFUpload.prototype.setFileQueueLimit=function(e){this.settings.file_queue_limit=e,this.callFlash("SetFileQueueLimit",[e])},SWFUpload.prototype.setFilePostName=function(e){this.settings.file_post_name=e,this.callFlash("SetFilePostName",[e])},SWFUpload.prototype.setUseQueryString=function(e){this.settings.use_query_string=e,this.callFlash("SetUseQueryString",[e])},SWFUpload.prototype.setRequeueOnError=function(e){this.settings.requeue_on_error=e,this.callFlash("SetRequeueOnError",[e])},SWFUpload.prototype.setHTTPSuccess=function(e){"string"==typeof e&&(e=e.replace(" ","").split(",")),this.settings.http_success=e,this.callFlash("SetHTTPSuccess",[e])},SWFUpload.prototype.setAssumeSuccessTimeout=function(e){this.settings.assume_success_timeout=e,this.callFlash("SetAssumeSuccessTimeout",[e])},SWFUpload.prototype.setDebugEnabled=function(e){this.settings.debug_enabled=e,this.callFlash("SetDebugEnabled",[e])},SWFUpload.prototype.setButtonImageURL=function(e){void 0==e&&(e=""),this.settings.button_image_url=e,this.callFlash("SetButtonImageURL",[e])},SWFUpload.prototype.setButtonDimensions=function(e,t){this.settings.button_width=e,this.settings.button_height=t;var n=this.getMovieElement();void 0!=n&&(n.style.width=e+"px",n.style.height=t+"px"),this.callFlash("SetButtonDimensions",[e,t])},SWFUpload.prototype.setButtonText=function(e){this.settings.button_text=e,this.callFlash("SetButtonText",[e])},SWFUpload.prototype.setButtonTextPadding=function(e,t){this.settings.button_text_top_padding=t,this.settings.button_text_left_padding=e,this.callFlash("SetButtonTextPadding",[e,t])},SWFUpload.prototype.setButtonTextStyle=function(e){this.settings.button_text_style=e,this.callFlash("SetButtonTextStyle",[e])},SWFUpload.prototype.setButtonDisabled=function(e){this.settings.button_disabled=e,this.callFlash("SetButtonDisabled",[e])},SWFUpload.prototype.setButtonAction=function(e){this.settings.button_action=e,this.callFlash("SetButtonAction",[e])},SWFUpload.prototype.setButtonCursor=function(e){this.settings.button_cursor=e,this.callFlash("SetButtonCursor",[e])},SWFUpload.prototype.queueEvent=function(e,t){void 0==t?t=[]:t instanceof Array||(t=[t]);var n=this;if("function"==typeof this.settings[e])this.eventQueue.push(function(){this.settings[e].apply(this,t)}),setTimeout(function(){n.executeNextEvent()},0);else if(null!==this.settings[e])throw"Event handler "+e+" is unknown or is not a function"},SWFUpload.prototype.executeNextEvent=function(){var e=this.eventQueue?this.eventQueue.shift():null;"function"==typeof e&&e.apply(this)},SWFUpload.prototype.unescapeFilePostParams=function(e){var t,n=/[$]([0-9a-f]{4})/i,i={};if(void 0!=e){for(var s in e.post)if(e.post.hasOwnProperty(s)){t=s;for(var r;null!==(r=n.exec(t));)t=t.replace(r[0],String.fromCharCode(parseInt("0x"+r[1],16)));i[t]=e.post[s]}e.post=i}return e},SWFUpload.prototype.testExternalInterface=function(){try{return this.callFlash("TestExternalInterface")}catch(e){return!1}},SWFUpload.prototype.flashReady=function(){var e=this.getMovieElement();return e?(this.cleanUp(e),void this.queueEvent("swfupload_loaded_handler")):void this.debug("Flash called back ready but the flash movie can't be found.")},SWFUpload.prototype.cleanUp=function(e){try{if(this.movieElement&&"unknown"==typeof e.CallFunction){this.debug("Removing Flash functions hooks (this should only run in IE and should prevent memory leaks)");for(var t in e)try{"function"==typeof e[t]&&(e[t]=null)}catch(n){}}}catch(i){}window.__flash__removeCallback=function(e,t){try{e&&(e[t]=null)}catch(n){}}},SWFUpload.prototype.fileDialogStart=function(){this.queueEvent("file_dialog_start_handler")},SWFUpload.prototype.fileQueued=function(e){e=this.unescapeFilePostParams(e),this.queueEvent("file_queued_handler",e)},SWFUpload.prototype.fileQueueError=function(e,t,n){e=this.unescapeFilePostParams(e),this.queueEvent("file_queue_error_handler",[e,t,n])},SWFUpload.prototype.fileDialogComplete=function(e,t,n){this.queueEvent("file_dialog_complete_handler",[e,t,n])},SWFUpload.prototype.uploadStart=function(e){e=this.unescapeFilePostParams(e),this.queueEvent("return_upload_start_handler",e)},SWFUpload.prototype.returnUploadStart=function(e){var t;if("function"==typeof this.settings.upload_start_handler)e=this.unescapeFilePostParams(e),t=this.settings.upload_start_handler.call(this,e);else if(void 0!=this.settings.upload_start_handler)throw"upload_start_handler must be a function";void 0===t&&(t=!0),t=!!t,this.callFlash("ReturnUploadStart",[t])},SWFUpload.prototype.uploadProgress=function(e,t,n){e=this.unescapeFilePostParams(e),this.queueEvent("upload_progress_handler",[e,t,n])},SWFUpload.prototype.uploadError=function(e,t,n){e=this.unescapeFilePostParams(e),this.queueEvent("upload_error_handler",[e,t,n])},SWFUpload.prototype.uploadSuccess=function(e,t,n){e=this.unescapeFilePostParams(e),this.queueEvent("upload_success_handler",[e,t,n])},SWFUpload.prototype.uploadComplete=function(e){e=this.unescapeFilePostParams(e),this.queueEvent("upload_complete_handler",e)},SWFUpload.prototype.debug=function(e){this.queueEvent("debug_handler",e)},SWFUpload.prototype.debugMessage=function(e){if(this.settings.debug){var t,n=[];if("object"==typeof e&&"string"==typeof e.name&&"string"==typeof e.message){for(var i in e)e.hasOwnProperty(i)&&n.push(i+": "+e[i]);t=n.join("\n")||"",n=t.split("\n"),t="EXCEPTION: "+n.join("\nEXCEPTION: "),SWFUpload.Console.writeLine(t)}else SWFUpload.Console.writeLine(e)}},SWFUpload.Console={},SWFUpload.Console.writeLine=function(e){var t,n;try{t=document.getElementById("SWFUpload_Console"),t||(n=document.createElement("form"),document.getElementsByTagName("body")[0].appendChild(n),t=document.createElement("textarea"),t.id="SWFUpload_Console",t.style.fontFamily="monospace",t.setAttribute("wrap","off"),t.wrap="off",t.style.overflow="auto",t.style.width="700px",t.style.height="350px",t.style.margin="5px",n.appendChild(t)),t.value+=e+"\n",t.scrollTop=t.scrollHeight-t.clientHeight}catch(i){alert("Exception: "+i.name+" Message: "+i.message)}},function(e){var t={init:function(t,i){return this.each(function(){var s=e(this),r=s.clone(),a=e.extend({id:s.attr("id"),swf:"uploadify.swf",uploader:"uploadify.php",auto:!0,buttonClass:"",buttonCursor:"hand",buttonImage:null,buttonText:"SELECT FILES",checkExisting:!1,debug:!1,fileObjName:"Filedata",fileSizeLimit:0,fileTypeDesc:"All Files",fileTypeExts:"*.*",height:30,itemTemplate:!1,method:"post",multi:!0,formData:{},preventCaching:!0,progressData:"percentage",queueID:!1,queueSizeLimit:999,removeCompleted:!0,removeTimeout:3,requeueErrors:!1,successTimeout:30,uploadLimit:0,width:120,overrideEvents:[]},t),o={assume_success_timeout:a.successTimeout,button_placeholder_id:a.id,button_width:a.width,button_height:a.height,button_text:null,button_text_style:null,button_text_top_padding:0,button_text_left_padding:0,button_action:a.multi?SWFUpload.BUTTON_ACTION.SELECT_FILES:SWFUpload.BUTTON_ACTION.SELECT_FILE,button_disabled:!1,button_cursor:"arrow"==a.buttonCursor?SWFUpload.CURSOR.ARROW:SWFUpload.CURSOR.HAND,button_window_mode:SWFUpload.WINDOW_MODE.TRANSPARENT,debug:a.debug,requeue_on_error:a.requeueErrors,file_post_name:a.fileObjName,file_size_limit:a.fileSizeLimit,file_types:a.fileTypeExts,file_types_description:a.fileTypeDesc,file_queue_limit:a.queueSizeLimit,file_upload_limit:a.uploadLimit,flash_url:a.swf,prevent_swf_caching:a.preventCaching,post_params:a.formData,upload_url:a.uploader,use_query_string:"get"==a.method,file_dialog_complete_handler:n.onDialogClose,file_dialog_start_handler:n.onDialogOpen,file_queued_handler:n.onSelect,file_queue_error_handler:n.onSelectError,swfupload_loaded_handler:a.onSWFReady,upload_complete_handler:n.onUploadComplete,upload_error_handler:n.onUploadError,upload_progress_handler:n.onUploadProgress,upload_start_handler:n.onUploadStart,upload_success_handler:n.onUploadSuccess};i&&(o=e.extend(o,i)),o=e.extend(o,a);var l=swfobject.getFlashPlayerVersion(),c=l.major>=9;if(c){window["uploadify_"+a.id]=new SWFUpload(o);var u=window["uploadify_"+a.id];s.data("uploadify",u);var d=e("<div />",{id:a.id,"class":"uploadify",css:{height:a.height+"px",width:a.width+"px"}});e("#"+u.movieName).wrap(d),d=e("#"+a.id),d.data("uploadify",u);var h=e("<div />",{id:a.id+"-button","class":"uploadify-button "+a.buttonClass});if(a.buttonImage&&h.css({"background-image":"url('"+a.buttonImage+"')","text-indent":"-9999px"}),h.html('<span class="uploadify-button-text">'+a.buttonText+"</span>").css({height:a.height+"px","line-height":a.height+"px",width:a.width+"px"}),d.append(h),e("#"+u.movieName).css({position:"absolute","z-index":1}),!a.queueID){var p=e("<div />",{id:a.id+"-queue","class":"uploadify-queue"});d.after(p),u.settings.queueID=a.id+"-queue",u.settings.defaultQueue=!0}u.queueData={files:{},filesSelected:0,filesQueued:0,filesReplaced:0,filesCancelled:0,filesErrored:0,uploadsSuccessful:0,uploadsErrored:0,averageSpeed:0,queueLength:0,queueSize:0,uploadSize:0,queueBytesUploaded:0,uploadQueue:[],errorMsg:"Some files were not added to the queue:"},u.original=r,u.wrapper=d,u.button=h,u.queue=p,a.onInit&&a.onInit.call(s,u)}else a.onFallback&&a.onFallback.call(s)})},cancel:function(){var t=arguments;this.each(function(){var n=e(this),i=n.data("uploadify"),s=i.settings,r=-1;if(t[0])if("*"==t[0]){var a=i.queueData.queueLength;e("#"+s.queueID).find(".uploadify-queue-item").each(function(){r++,t[1]===!0?i.cancelUpload(e(this).attr("id"),!1):i.cancelUpload(e(this).attr("id")),e(this).find(".data").removeClass("data").html(" - Cancelled"),e(this).find(".uploadify-progress-bar").remove(),e(this).delay(1e3+100*r).fadeOut(500,function(){e(this).remove()})}),i.queueData.queueSize=0,i.queueData.queueLength=0,s.onClearQueue&&s.onClearQueue.call(n,a)}else for(var o=0;o<t.length;o++)i.cancelUpload(t[o]),e("#"+t[o]).find(".data").removeClass("data").html(" - Cancelled"),e("#"+t[o]).find(".uploadify-progress-bar").remove(),e("#"+t[o]).delay(1e3+100*o).fadeOut(500,function(){e(this).remove()});else{var l=e("#"+s.queueID).find(".uploadify-queue-item").get(0);$item=e(l),i.cancelUpload($item.attr("id")),$item.find(".data").removeClass("data").html(" - Cancelled"),$item.find(".uploadify-progress-bar").remove(),$item.delay(1e3).fadeOut(500,function(){e(this).remove()})}})},destroy:function(){this.each(function(){var t=e(this),n=t.data("uploadify"),i=n.settings;n.destroy(),i.defaultQueue&&e("#"+i.queueID).remove(),e("#"+i.id).replaceWith(n.original),i.onDestroy&&i.onDestroy.call(this),delete n})},disable:function(t){this.each(function(){var n=e(this),i=n.data("uploadify"),s=i.settings;t?(i.button.addClass("disabled"),s.onDisable&&s.onDisable.call(this)):(i.button.removeClass("disabled"),s.onEnable&&s.onEnable.call(this)),i.setButtonDisabled(t)})},settings:function(t,n,i){var s=arguments,r=n;return this.each(function(){var a=e(this),o=a.data("uploadify"),l=o.settings;if("object"==typeof s[0])for(var c in n)setData(c,n[c]);if(1===s.length)r=l[t];else{switch(t){case"uploader":o.setUploadURL(n);break;case"formData":i||(n=e.extend(l.formData,n)),o.setPostParams(l.formData);break;case"method":o.setUseQueryString("get"==n?!0:!1);break;case"fileObjName":o.setFilePostName(n);break;case"fileTypeExts":o.setFileTypes(n,l.fileTypeDesc);break;case"fileTypeDesc":o.setFileTypes(l.fileTypeExts,n);break;case"fileSizeLimit":o.setFileSizeLimit(n);break;case"uploadLimit":o.setFileUploadLimit(n);break;case"queueSizeLimit":o.setFileQueueLimit(n);break;case"buttonImage":o.button.css("background-image",settingValue);break;case"buttonCursor":o.setButtonCursor("arrow"==n?SWFUpload.CURSOR.ARROW:SWFUpload.CURSOR.HAND);break;case"buttonText":e("#"+l.id+"-button").find(".uploadify-button-text").html(n);break;case"width":o.setButtonDimensions(n,l.height);break;case"height":o.setButtonDimensions(l.width,n);break;case"multi":o.setButtonAction(n?SWFUpload.BUTTON_ACTION.SELECT_FILES:SWFUpload.BUTTON_ACTION.SELECT_FILE)}l[t]=n}}),1===s.length?r:void 0},stop:function(){this.each(function(){var t=e(this),n=t.data("uploadify");n.queueData.averageSpeed=0,n.queueData.uploadSize=0,n.queueData.bytesUploaded=0,n.queueData.uploadQueue=[],n.stopUpload()
})},upload:function(){var t=arguments;this.each(function(){var n=e(this),i=n.data("uploadify");if(i.queueData.averageSpeed=0,i.queueData.uploadSize=0,i.queueData.bytesUploaded=0,i.queueData.uploadQueue=[],t[0])if("*"==t[0])i.queueData.uploadSize=i.queueData.queueSize,i.queueData.uploadQueue.push("*"),i.startUpload();else{for(var s=0;s<t.length;s++)i.queueData.uploadSize+=i.queueData.files[t[s]].size,i.queueData.uploadQueue.push(t[s]);i.startUpload(i.queueData.uploadQueue.shift())}else i.startUpload()})}},n={onDialogOpen:function(){var e=this.settings;this.queueData.errorMsg="Some files were not added to the queue:",this.queueData.filesReplaced=0,this.queueData.filesCancelled=0,e.onDialogOpen&&e.onDialogOpen.call(this)},onDialogClose:function(t,n,i){var s=this.settings;this.queueData.filesErrored=t-n,this.queueData.filesSelected=t,this.queueData.filesQueued=n-this.queueData.filesCancelled,this.queueData.queueLength=i,e.inArray("onDialogClose",s.overrideEvents)<0&&this.queueData.filesErrored>0&&alert(this.queueData.errorMsg),s.onDialogClose&&s.onDialogClose.call(this,this.queueData),s.auto&&e("#"+s.id).uploadify("upload","*")},onSelect:function(t){var n=this.settings,i={};for(var s in this.queueData.files)if(i=this.queueData.files[s],1!=i.uploaded&&i.name==t.name){var r=confirm('当前 文件 "'+t.name+'" 已经存在队列中.\n你想在队列中的替换现有的文件?');if(!r)return this.cancelUpload(t.id),this.queueData.filesCancelled++,!1;e("#"+i.id).remove(),this.cancelUpload(i.id),this.queueData.filesReplaced++}var a=Math.round(t.size/1024),o="KB";a>1e3&&(a=Math.round(a/1e3),o="MB");var l=a.toString().split(".");a=l[0],l.length>1&&(a+="."+l[1].substr(0,2)),a+=o;var c=t.name;if(c.length>25&&(c=c.substr(0,25)+"..."),itemData={fileID:t.id,instanceID:n.id,fileName:c,fileSize:a},0==n.itemTemplate&&(n.itemTemplate='<div id="${fileID}" class="uploadify-queue-item">					<div class="cancel">						<a href="javascript:$(\'#${instanceID}\').uploadify(\'cancel\', \'${fileID}\')">X</a>					</div>					<span class="fileName">${fileName} (${fileSize})</span><span class="data"></span>					<div class="uploadify-progress">						<div class="uploadify-progress-bar"><!--Progress Bar--></div>					</div>				</div>'),e.inArray("onSelect",n.overrideEvents)<0){itemHTML=n.itemTemplate;for(var u in itemData)itemHTML=itemHTML.replace(new RegExp("\\$\\{"+u+"\\}","g"),itemData[u]);e("#"+n.queueID).append(itemHTML)}this.queueData.queueSize+=t.size,this.queueData.files[t.id]=t,n.onSelect&&n.onSelect.apply(this,arguments)},onSelectError:function(t,n,i){var s=this.settings;if(e.inArray("onSelectError",s.overrideEvents)<0)switch(n){case SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED:this.queueData.errorMsg+=s.queueSizeLimit>i?"\nThe number of files selected exceeds the remaining upload limit ("+i+").":"\nThe number of files selected exceeds the queue size limit ("+s.queueSizeLimit+").";break;case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:this.queueData.errorMsg+='\nThe file "'+t.name+'" exceeds the size limit ('+s.fileSizeLimit+").";break;case SWFUpload.QUEUE_ERROR.ZERO_BYTE_FILE:this.queueData.errorMsg+='\nThe file "'+t.name+'" is empty.';break;case SWFUpload.QUEUE_ERROR.FILE_EXCEEDS_SIZE_LIMIT:this.queueData.errorMsg+='\nThe file "'+t.name+'" is not an accepted file type ('+s.fileTypeDesc+")."}n!=SWFUpload.QUEUE_ERROR.QUEUE_LIMIT_EXCEEDED&&delete this.queueData.files[t.id],s.onSelectError&&s.onSelectError.apply(this,arguments)},onQueueComplete:function(){this.settings.onQueueComplete&&this.settings.onQueueComplete.call(this,this.settings.queueData)},onUploadComplete:function(t){var n=this.settings,i=this,s=this.getStats();if(this.queueData.queueLength=s.files_queued,"*"==this.queueData.uploadQueue[0]?this.queueData.queueLength>0?this.startUpload():(this.queueData.uploadQueue=[],n.onQueueComplete&&n.onQueueComplete.call(this,this.queueData)):this.queueData.uploadQueue.length>0?this.startUpload(this.queueData.uploadQueue.shift()):(this.queueData.uploadQueue=[],n.onQueueComplete&&n.onQueueComplete.call(this,this.queueData)),e.inArray("onUploadComplete",n.overrideEvents)<0)if(n.removeCompleted)switch(t.filestatus){case SWFUpload.FILE_STATUS.COMPLETE:setTimeout(function(){e("#"+t.id)&&(i.queueData.queueSize-=t.size,i.queueData.queueLength-=1,delete i.queueData.files[t.id],e("#"+t.id).fadeOut(500,function(){e(this).remove()}))},1e3*n.removeTimeout);break;case SWFUpload.FILE_STATUS.ERROR:n.requeueErrors||setTimeout(function(){e("#"+t.id)&&(i.queueData.queueSize-=t.size,i.queueData.queueLength-=1,delete i.queueData.files[t.id],e("#"+t.id).fadeOut(500,function(){e(this).remove()}))},1e3*n.removeTimeout)}else t.uploaded=!0;n.onUploadComplete&&n.onUploadComplete.call(this,t)},onUploadError:function(t,n,i){var s=this.settings,r="Error";switch(n){case SWFUpload.UPLOAD_ERROR.HTTP_ERROR:r="HTTP Error ("+i+")";break;case SWFUpload.UPLOAD_ERROR.MISSING_UPLOAD_URL:r="Missing Upload URL";break;case SWFUpload.UPLOAD_ERROR.IO_ERROR:r="IO Error";break;case SWFUpload.UPLOAD_ERROR.SECURITY_ERROR:r="Security Error";break;case SWFUpload.UPLOAD_ERROR.UPLOAD_LIMIT_EXCEEDED:alert("The upload limit has been reached ("+i+")."),r="Exceeds Upload Limit";break;case SWFUpload.UPLOAD_ERROR.UPLOAD_FAILED:r="Failed";break;case SWFUpload.UPLOAD_ERROR.SPECIFIED_FILE_ID_NOT_FOUND:break;case SWFUpload.UPLOAD_ERROR.FILE_VALIDATION_FAILED:r="Validation Error";break;case SWFUpload.UPLOAD_ERROR.FILE_CANCELLED:r="Cancelled",this.queueData.queueSize-=t.size,this.queueData.queueLength-=1,(t.status==SWFUpload.FILE_STATUS.IN_PROGRESS||e.inArray(t.id,this.queueData.uploadQueue)>=0)&&(this.queueData.uploadSize-=t.size),s.onCancel&&s.onCancel.call(this,t),delete this.queueData.files[t.id];break;case SWFUpload.UPLOAD_ERROR.UPLOAD_STOPPED:r="Stopped"}e.inArray("onUploadError",s.overrideEvents)<0&&(n!=SWFUpload.UPLOAD_ERROR.FILE_CANCELLED&&n!=SWFUpload.UPLOAD_ERROR.UPLOAD_STOPPED&&e("#"+t.id).addClass("uploadify-error"),e("#"+t.id).find(".uploadify-progress-bar").css("width","1px"),n!=SWFUpload.UPLOAD_ERROR.SPECIFIED_FILE_ID_NOT_FOUND&&t.status!=SWFUpload.FILE_STATUS.COMPLETE&&e("#"+t.id).find(".data").html(" - "+r));var a=this.getStats();this.queueData.uploadsErrored=a.upload_errors,s.onUploadError&&s.onUploadError.call(this,t,n,i,r)},onUploadProgress:function(t,n,i){var s=this.settings,r=new Date,a=r.getTime(),o=a-this.timer;o>500&&(this.timer=a);var l=n-this.bytesLoaded;this.bytesLoaded=n;var c=this.queueData.queueBytesUploaded+n,u=Math.round(n/i*100),d="KB/s",h=0,p=l/1024/(o/1e3);p=Math.floor(10*p)/10,this.queueData.averageSpeed=Math.floor(this.queueData.averageSpeed>0?(this.queueData.averageSpeed+p)/2:p),p>1e3&&(h=.001*p,this.queueData.averageSpeed=Math.floor(h),d="MB/s"),e.inArray("onUploadProgress",s.overrideEvents)<0&&("percentage"==s.progressData?e("#"+t.id).find(".data").html(" - "+u+"%"):"speed"==s.progressData&&o>500&&e("#"+t.id).find(".data").html(" - "+this.queueData.averageSpeed+d),e("#"+t.id).find(".uploadify-progress-bar").css("width",u+"%")),s.onUploadProgress&&s.onUploadProgress.call(this,t,n,i,c,this.queueData.uploadSize)},onUploadStart:function(t){var n=this.settings,i=new Date;this.timer=i.getTime(),this.bytesLoaded=0,0==this.queueData.uploadQueue.length&&(this.queueData.uploadSize=t.size),n.checkExisting&&e.ajax({type:"POST",async:!1,url:n.checkExisting,data:{filename:t.name},success:function(n){if(1==n){var i=confirm('A file with the name "'+t.name+'" already exists on the server.\nWould you like to replace the existing file?');i||(this.cancelUpload(t.id),e("#"+t.id).remove(),this.queueData.uploadQueue.length>0&&this.queueData.queueLength>0&&("*"==this.queueData.uploadQueue[0]?this.startUpload():this.startUpload(this.queueData.uploadQueue.shift())))}}}),n.onUploadStart&&n.onUploadStart.call(this,t)},onUploadSuccess:function(t,n,i){var s=this.settings,r=this.getStats();this.queueData.uploadsSuccessful=r.successful_uploads,this.queueData.queueBytesUploaded+=t.size,e.inArray("onUploadSuccess",s.overrideEvents)<0&&e("#"+t.id).find(".data").html(" - Complete"),s.onUploadSuccess&&s.onUploadSuccess.call(this,t,n,i)}};e.fn.uploadify=function(n){return t[n]?t[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void e.error("The method "+n+" does not exist in $.uploadify"):t.init.apply(this,arguments)}}($),define("uploadify",["jquery"],function(e){return function(){var t;return t||e.uploadify}}(this)),function(e){function t(n,i){function s(e){if(s[e]!==m)return s[e];var t;if("bug-string-char-index"==e)t="a"!="a"[0];else if("json"==e)t=s("json-stringify")&&s("json-parse");else{var n;if("json-stringify"==e){t=i.stringify;var o="function"==typeof t&&v;if(o){(n=function(){return 1}).toJSON=n;try{o="0"===t(0)&&"0"===t(new r)&&'""'==t(new a)&&t(g)===m&&t(m)===m&&t()===m&&"1"===t(n)&&"[1]"==t([n])&&"[null]"==t([m])&&"null"==t(null)&&"[null,null,null]"==t([m,g,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==t({a:[n,!0,!1,null,"\x00\b\n\f\r	"]})&&"1"===t(null,n)&&"[\n 1,\n 2\n]"==t([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==t(new l(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==t(new l(864e13))&&'"-000001-01-01T00:00:00.000Z"'==t(new l(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==t(new l(-1))}catch(c){o=!1}}t=o}if("json-parse"==e){if(t=i.parse,"function"==typeof t)try{if(0===t("0")&&!t(!1)){n=t('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var u=5==n.a.length&&1===n.a[0];if(u){try{u=!t('"	"')}catch(d){}if(u)try{u=1!==t("01")}catch(h){}if(u)try{u=1!==t("1.")}catch(p){}}}}catch(f){u=!1}t=u}}return s[e]=!!t}n||(n=e.Object()),i||(i=e.Object());var r=n.Number||e.Number,a=n.String||e.String,o=n.Object||e.Object,l=n.Date||e.Date,c=n.SyntaxError||e.SyntaxError,u=n.TypeError||e.TypeError,d=n.Math||e.Math,h=n.JSON||e.JSON;"object"==typeof h&&h&&(i.stringify=h.stringify,i.parse=h.parse);var p,f,m,o=o.prototype,g=o.toString,v=new l(-0xc782b5b800cec);try{v=-109252==v.getUTCFullYear()&&0===v.getUTCMonth()&&1===v.getUTCDate()&&10==v.getUTCHours()&&37==v.getUTCMinutes()&&6==v.getUTCSeconds()&&708==v.getUTCMilliseconds()}catch(_){}if(!s("json")){var y=s("bug-string-char-index");if(!v)var b=d.floor,w=[0,31,59,90,120,151,181,212,243,273,304,334],x=function(e,t){return w[t]+365*(e-1970)+b((e-1969+(t=+(t>1)))/4)-b((e-1901+t)/100)+b((e-1601+t)/400)};(p=o.hasOwnProperty)||(p=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=g?p=function(e){var t=this.__proto__;return e=e in(this.__proto__=null,this),this.__proto__=t,e}:(t=n.constructor,p=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,p.call(this,e)});var k={"boolean":1,number:1,string:1,undefined:1};if(f=function(e,t){var n,i,s,r=0;(n=function(){this.valueOf=0}).prototype.valueOf=0,i=new n;for(s in i)p.call(i,s)&&r++;return n=i=null,r?f=2==r?function(e,t){var n,i={},s="[object Function]"==g.call(e);for(n in e)s&&"prototype"==n||p.call(i,n)||!(i[n]=1)||!p.call(e,n)||t(n)}:function(e,t){var n,i,s="[object Function]"==g.call(e);for(n in e)s&&"prototype"==n||!p.call(e,n)||(i="constructor"===n)||t(n);(i||p.call(e,n="constructor"))&&t(n)}:(i="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),f=function(e,t){var n,s,r="[object Function]"==g.call(e);(s=!r)&&(s="function"!=typeof e.constructor)&&(s=typeof e.hasOwnProperty,s="object"==s?!!e.hasOwnProperty:!k[s]),s=s?e.hasOwnProperty:p;for(n in e)r&&"prototype"==n||!s.call(e,n)||t(n);for(r=i.length;n=i[--r];s.call(e,n)&&t(n));}),f(e,t)},!s("json-stringify")){var S={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},C=function(e,t){return("000000"+(t||0)).slice(-e)},T=function(e){for(var t='"',n=0,i=e.length,s=!y||i>10,r=s&&(y?e.split(""):e);i>n;n++){var a=e.charCodeAt(n);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=S[a];break;default:if(32>a){t+="\\u00"+C(2,a.toString(16));break}t+=s?r[n]:e.charAt(n)}}return t+'"'},D=function(e,t,n,i,s,r,a){var o,l,c,d,h,v,_,y,w;try{o=t[e]}catch(k){}if("object"==typeof o&&o)if(l=g.call(o),"[object Date]"!=l||p.call(o,"toJSON"))"function"==typeof o.toJSON&&("[object Number]"!=l&&"[object String]"!=l&&"[object Array]"!=l||p.call(o,"toJSON"))&&(o=o.toJSON(e));else if(o>-1/0&&1/0>o){if(x){for(d=b(o/864e5),l=b(d/365.2425)+1970-1;x(l+1,0)<=d;l++);for(c=b((d-x(l,0))/30.42);x(l,c+1)<=d;c++);d=1+d-x(l,c),h=(o%864e5+864e5)%864e5,v=b(h/36e5)%24,_=b(h/6e4)%60,y=b(h/1e3)%60,h%=1e3}else l=o.getUTCFullYear(),c=o.getUTCMonth(),d=o.getUTCDate(),v=o.getUTCHours(),_=o.getUTCMinutes(),y=o.getUTCSeconds(),h=o.getUTCMilliseconds();o=(0>=l||l>=1e4?(0>l?"-":"+")+C(6,0>l?-l:l):C(4,l))+"-"+C(2,c+1)+"-"+C(2,d)+"T"+C(2,v)+":"+C(2,_)+":"+C(2,y)+"."+C(3,h)+"Z"}else o=null;if(n&&(o=n.call(t,e,o)),null===o)return"null";if(l=g.call(o),"[object Boolean]"==l)return""+o;if("[object Number]"==l)return o>-1/0&&1/0>o?""+o:"null";if("[object String]"==l)return T(""+o);if("object"==typeof o){for(e=a.length;e--;)if(a[e]===o)throw u();if(a.push(o),w=[],t=r,r+=s,"[object Array]"==l){for(c=0,e=o.length;e>c;c++)l=D(c,o,n,i,s,r,a),w.push(l===m?"null":l);e=w.length?s?"[\n"+r+w.join(",\n"+r)+"\n"+t+"]":"["+w.join(",")+"]":"[]"}else f(i||o,function(e){var t=D(e,o,n,i,s,r,a);t!==m&&w.push(T(e)+":"+(s?" ":"")+t)}),e=w.length?s?"{\n"+r+w.join(",\n"+r)+"\n"+t+"}":"{"+w.join(",")+"}":"{}";return a.pop(),e}};i.stringify=function(e,t,n){var i,s,r,a;if("function"==typeof t||"object"==typeof t&&t)if("[object Function]"==(a=g.call(t)))s=t;else if("[object Array]"==a){r={};for(var o,l=0,c=t.length;c>l;o=t[l++],a=g.call(o),("[object String]"==a||"[object Number]"==a)&&(r[o]=1));}if(n)if("[object Number]"==(a=g.call(n))){if(0<(n-=n%1))for(i="",n>10&&(n=10);i.length<n;i+=" ");}else"[object String]"==a&&(i=10>=n.length?n:n.slice(0,10));return D("",(o={},o[""]=e,o),s,r,i,"",[])}}if(!s("json-parse")){var E,F,I=a.fromCharCode,N={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},A=function(){throw E=F=null,c()},L=function(){for(var e,t,n,i,s,r=F,a=r.length;a>E;)switch(s=r.charCodeAt(E)){case 9:case 10:case 13:case 32:E++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=y?r.charAt(E):r[E],E++,e;case 34:for(e="@",E++;a>E;)if(s=r.charCodeAt(E),32>s)A();else if(92==s)switch(s=r.charCodeAt(++E)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=N[s],E++;break;case 117:for(t=++E,n=E+4;n>E;E++)s=r.charCodeAt(E),s>=48&&57>=s||s>=97&&102>=s||s>=65&&70>=s||A();e+=I("0x"+r.slice(t,E));break;default:A()}else{if(34==s)break;for(s=r.charCodeAt(E),t=E;s>=32&&92!=s&&34!=s;)s=r.charCodeAt(++E);e+=r.slice(t,E)}if(34==r.charCodeAt(E))return E++,e;A();default:if(t=E,45==s&&(i=!0,s=r.charCodeAt(++E)),s>=48&&57>=s){for(48==s&&(s=r.charCodeAt(E+1),s>=48&&57>=s)&&A();a>E&&(s=r.charCodeAt(E),s>=48&&57>=s);E++);if(46==r.charCodeAt(E)){for(n=++E;a>n&&(s=r.charCodeAt(n),s>=48&&57>=s);n++);n==E&&A(),E=n}if(s=r.charCodeAt(E),101==s||69==s){for(s=r.charCodeAt(++E),43!=s&&45!=s||E++,n=E;a>n&&(s=r.charCodeAt(n),s>=48&&57>=s);n++);n==E&&A(),E=n}return+r.slice(t,E)}if(i&&A(),"true"==r.slice(E,E+4))return E+=4,!0;if("false"==r.slice(E,E+5))return E+=5,!1;if("null"==r.slice(E,E+4))return E+=4,null;A()}return"$"},U=function(e){var t,n;if("$"==e&&A(),"string"==typeof e){if("@"==(y?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];e=L(),"]"!=e;n||(n=!0))n&&(","==e?(e=L(),"]"==e&&A()):A()),","==e&&A(),t.push(U(e));return t}if("{"==e){for(t={};e=L(),"}"!=e;n||(n=!0))n&&(","==e?(e=L(),"}"==e&&A()):A()),","!=e&&"string"==typeof e&&"@"==(y?e.charAt(0):e[0])&&":"==L()||A(),t[e.slice(1)]=U(L());return t}A()}return e},O=function(e,t,n){n=M(e,t,n),n===m?delete e[t]:e[t]=n},M=function(e,t,n){var i,s=e[t];if("object"==typeof s&&s)if("[object Array]"==g.call(s))for(i=s.length;i--;)O(s,i,n);else f(s,function(e){O(s,e,n)});return n.call(e,t,s)};i.parse=function(e,t){var n,i;return E=0,F=""+e,n=U(L()),"$"!=L()&&A(),E=F=null,t&&"[object Function]"==g.call(t)?M((i={},i[""]=n,i),"",t):n}}}return i.runInContext=t,i}var n="function"==typeof define&&define.amd,i="object"==typeof global&&global;if(!i||i.global!==i&&i.window!==i||(e=i),"object"!=typeof exports||!exports||exports.nodeType||n){var s=e.JSON,r=t(e,e.JSON3={noConflict:function(){return e.JSON=s,r}});e.JSON={parse:r.parse,stringify:r.stringify}}else t(e,exports);n&&define("json3",[],function(){return r})}(this),function(e){function t(t){function n(){var t=h?h:document.body,n=t.scrollHeight>t.clientHeight?t.scrollHeight:t.clientHeight,i=t.scrollWidth>t.clientWidth?t.scrollWidth:t.clientWidth;e("#maskLayer").css({height:n,width:i})}{var i,s,r=9e3,a=!1,o=e("#"+t),l=o.width(),c=o.height(),u=o.find(".tit"),d=o.find(".close"),h=document.documentElement;(e(document).width()-o.width())/2,(h.clientHeight-o.height())/2}o.css({"z-index":r- -1}),u.mousedown(function(e){a=!0,i=e.pageX-parseInt(o.css("left")),s=e.pageY-parseInt(o.css("top")),o.css({"z-index":r- -1}).fadeTo(50,.5)}),u.mouseup(function(){a=!1,o.fadeTo("fast",1)}),e(document).mousemove(function(e){if(a){var t=e.pageX-i;0>=t&&(t=0),t=Math.min(h.clientWidth-l,t)-5;var n=e.pageY-s;0>=n&&(n=0),n=Math.min(h.clientHeight-c,n)-5,o.css({top:n,left:t})}}),d.on("click",function(){e(this).parent().parent().hide(),e("#maskLayer").remove()}),e('<div id="maskLayer"></div>').appendTo("body").css({background:"#000",opacity:".4",top:0,left:0,position:"absolute",zIndex:"8000"}),n(),e(window).bind("resize",function(){n()}),e(document).keydown(function(t){27==t.keyCode&&(e("#maskLayer").remove(),o.hide())})}e.fn.popup=function(n){var i=this.attr("id");i&&(n?e("#"+i+">div:first>a").click():(e("#"+i).css("display","block"),e("#"+i).removeClass("hide"),t(i)))},e.fn.popup_temp=function(n){var i=this.attr("id");i&&(n?(e("#"+i).find(".txtbox, textarea").each(function(){e(this).val(""),e(this).next("i").remove(),e(this).next("strong").remove(),e(".chosen-with-diselect chosen").trigger("chosen:updated")}),e("#"+i+">div:first>a").click()):(e("#"+i).css("display","block"),e("#"+i).removeClass("hide"),t(i)))}}(jQuery),define("popup",["jquery"],function(e){return function(){var t;return t||e.popup}}(this));var Handlebars=function(){var e=function(){"use strict";function e(e){this.string=e}var t;return e.prototype.toString=function(){return""+this.string},t=e}(),t=function(e){"use strict";function t(e){return o[e]||"&amp;"}function n(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function i(e){return e instanceof a?e.toString():e||0===e?(e=""+e,c.test(e)?e.replace(l,t):e):""}function s(e){return e||0===e?h(e)&&0===e.length?!0:!1:!0}var r={},a=e,o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,c=/[&<>"'`]/;r.extend=n;var u=Object.prototype.toString;r.toString=u;var d=function(e){return"function"==typeof e};d(/x/)&&(d=function(e){return"function"==typeof e&&"[object Function]"===u.call(e)});var d;r.isFunction=d;var h=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===u.call(e):!1};return r.isArray=h,r.escapeExpression=i,r.isEmpty=s,r}(e),n=function(){"use strict";function e(e,t){var i;t&&t.firstLine&&(i=t.firstLine,e+=" - "+i+":"+t.firstColumn);for(var s=Error.prototype.constructor.call(this,e),r=0;r<n.length;r++)this[n[r]]=s[n[r]];i&&(this.lineNumber=i,this.column=t.firstColumn)}var t,n=["description","fileName","lineNumber","message","name","number","stack"];return e.prototype=new Error,t=e}(),i=function(e,t){"use strict";function n(e,t){this.helpers=e||{},this.partials=t||{},i(this)}function i(e){e.registerHelper("helperMissing",function(e){if(2===arguments.length)return void 0;throw new o("Missing helper: '"+e+"'")}),e.registerHelper("blockHelperMissing",function(t,n){var i=n.inverse||function(){},s=n.fn;return h(t)&&(t=t.call(this)),t===!0?s(this):t===!1||null==t?i(this):d(t)?t.length>0?e.helpers.each(t,n):i(this):s(t)}),e.registerHelper("each",function(e,t){var n,i=t.fn,s=t.inverse,r=0,a="";if(h(e)&&(e=e.call(this)),t.data&&(n=g(t.data)),e&&"object"==typeof e)if(d(e))for(var o=e.length;o>r;r++)n&&(n.index=r,n.first=0===r,n.last=r===e.length-1),a+=i(e[r],{data:n});else for(var l in e)e.hasOwnProperty(l)&&(n&&(n.key=l,n.index=r,n.first=0===r),a+=i(e[l],{data:n}),r++);return 0===r&&(a=s(this)),a}),e.registerHelper("if",function(e,t){return h(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||a.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),e.registerHelper("with",function(e,t){return h(e)&&(e=e.call(this)),a.isEmpty(e)?void 0:t.fn(e)}),e.registerHelper("log",function(t,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;e.log(i,t)})}function s(e,t){m.log(e,t)}var r={},a=e,o=t,l="1.3.0";r.VERSION=l;var c=4;r.COMPILER_REVISION=c;var u={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};r.REVISION_CHANGES=u;var d=a.isArray,h=a.isFunction,p=a.toString,f="[object Object]";r.HandlebarsEnvironment=n,n.prototype={constructor:n,logger:m,log:s,registerHelper:function(e,t,n){if(p.call(e)===f){if(n||t)throw new o("Arg not supported with multiple helpers");a.extend(this.helpers,e)}else n&&(t.not=n),this.helpers[e]=t},registerPartial:function(e,t){p.call(e)===f?a.extend(this.partials,e):this.partials[e]=t}};var m={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(m.level<=e){var n=m.methodMap[e];"undefined"!=typeof console&&console[n]&&console[n].call(console,t)}}};r.logger=m,r.log=s;var g=function(e){var t={};return a.extend(t,e),t};return r.createFrame=g,r}(t,n),s=function(e,t,n){"use strict";function i(e){var t=e&&e[0]||1,n=h;if(t!==n){if(n>t){var i=p[n],s=p[t];throw new d("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+i+") or downgrade your runtime to an older version ("+s+").")}throw new d("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function s(e,t){if(!t)throw new d("No environment passed to template");var n=function(e,n,i,s,r,a){var o=t.VM.invokePartial.apply(this,arguments);if(null!=o)return o;if(t.compile){var l={helpers:s,partials:r,data:a};return r[n]=t.compile(e,{data:void 0!==a},t),r[n](i,l)}throw new d("The partial "+n+" could not be compiled when running in runtime-only mode")},i={escapeExpression:u.escapeExpression,invokePartial:n,programs:[],program:function(e,t,n){var i=this.programs[e];return n?i=a(e,t,n):i||(i=this.programs[e]=a(e,t)),i},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n={},u.extend(n,t),u.extend(n,e)),n},programWithDepth:t.VM.programWithDepth,noop:t.VM.noop,compilerInfo:null};return function(n,s){s=s||{};var r,a,o=s.partial?s:t;s.partial||(r=s.helpers,a=s.partials);var l=e.call(i,o,n,r,a,s.data);return s.partial||t.VM.checkRevision(i.compilerInfo),l}}function r(e,t,n){var i=Array.prototype.slice.call(arguments,3),s=function(e,s){return s=s||{},t.apply(this,[e,s.data||n].concat(i))};return s.program=e,s.depth=i.length,s}function a(e,t,n){var i=function(e,i){return i=i||{},t(e,i.data||n)};return i.program=e,i.depth=0,i}function o(e,t,n,i,s,r){var a={partial:!0,helpers:i,partials:s,data:r};if(void 0===e)throw new d("The partial "+t+" could not be found");return e instanceof Function?e(n,a):void 0}function l(){return""}var c={},u=e,d=t,h=n.COMPILER_REVISION,p=n.REVISION_CHANGES;return c.checkRevision=i,c.template=s,c.programWithDepth=r,c.program=a,c.invokePartial=o,c.noop=l,c}(t,n,i),r=function(e,t,n,i,s){"use strict";var r,a=e,o=t,l=n,c=i,u=s,d=function(){var e=new a.HandlebarsEnvironment;return c.extend(e,a),e.SafeString=o,e.Exception=l,e.Utils=c,e.VM=u,e.template=function(t){return u.template(t,e)},e},h=d();return h.create=d,r=h}(i,e,n,t,s),a=function(e){"use strict";function t(e){e=e||{},this.firstLine=e.first_line,this.firstColumn=e.first_column,this.lastColumn=e.last_column,this.lastLine=e.last_line}var n,i=e,s={ProgramNode:function(e,n,i,r){var a,o;3===arguments.length?(r=i,i=null):2===arguments.length&&(r=n,n=null),t.call(this,r),this.type="program",this.statements=e,this.strip={},i?(o=i[0],o?(a={first_line:o.firstLine,last_line:o.lastLine,last_column:o.lastColumn,first_column:o.firstColumn},this.inverse=new s.ProgramNode(i,n,a)):this.inverse=new s.ProgramNode(i,n),this.strip.right=n.left):n&&(this.strip.left=n.right)},MustacheNode:function(e,n,i,r,a){if(t.call(this,a),this.type="mustache",this.strip=r,null!=i&&i.charAt){var o=i.charAt(3)||i.charAt(2);this.escaped="{"!==o&&"&"!==o}else this.escaped=!!i;this.sexpr=e instanceof s.SexprNode?e:new s.SexprNode(e,n),this.sexpr.isRoot=!0,this.id=this.sexpr.id,this.params=this.sexpr.params,this.hash=this.sexpr.hash,this.eligibleHelper=this.sexpr.eligibleHelper,this.isHelper=this.sexpr.isHelper},SexprNode:function(e,n,i){t.call(this,i),this.type="sexpr",this.hash=n;var s=this.id=e[0],r=this.params=e.slice(1),a=this.eligibleHelper=s.isSimple;this.isHelper=a&&(r.length||n)},PartialNode:function(e,n,i,s){t.call(this,s),this.type="partial",this.partialName=e,this.context=n,this.strip=i},BlockNode:function(e,n,s,r,a){if(t.call(this,a),e.sexpr.id.original!==r.path.original)throw new i(e.sexpr.id.original+" doesn't match "+r.path.original,this);this.type="block",this.mustache=e,this.program=n,this.inverse=s,this.strip={left:e.strip.left,right:r.strip.right},(n||s).strip.left=e.strip.right,(s||n).strip.right=r.strip.left,s&&!n&&(this.isInverse=!0)},ContentNode:function(e,n){t.call(this,n),this.type="content",this.string=e},HashNode:function(e,n){t.call(this,n),this.type="hash",this.pairs=e},IdNode:function(e,n){t.call(this,n),this.type="ID";for(var s="",r=[],a=0,o=0,l=e.length;l>o;o++){var c=e[o].part;if(s+=(e[o].separator||"")+c,".."===c||"."===c||"this"===c){if(r.length>0)throw new i("Invalid path: "+s,this);".."===c?a++:this.isScoped=!0}else r.push(c)}this.original=s,this.parts=r,this.string=r.join("."),this.depth=a,this.isSimple=1===e.length&&!this.isScoped&&0===a,this.stringModeValue=this.string},PartialNameNode:function(e,n){t.call(this,n),this.type="PARTIAL_NAME",this.name=e.original},DataNode:function(e,n){t.call(this,n),this.type="DATA",this.id=e},StringNode:function(e,n){t.call(this,n),this.type="STRING",this.original=this.string=this.stringModeValue=e},IntegerNode:function(e,n){t.call(this,n),this.type="INTEGER",this.original=this.integer=e,this.stringModeValue=Number(e)},BooleanNode:function(e,n){t.call(this,n),this.type="BOOLEAN",this.bool=e,this.stringModeValue="true"===e},CommentNode:function(e,n){t.call(this,n),this.type="comment",this.comment=e}};return n=s}(n),o=function(){"use strict";var e,t=function(){function e(e,t){return{left:"~"===e.charAt(2),right:"~"===t.charAt(0)||"~"===t.charAt(1)}}function t(){this.yy={}}var n={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,ID:40,EQUALS:41,DATA:42,pathSegments:43,SEP:44,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",35:"OPEN_SEXPR",36:"CLOSE_SEXPR",40:"ID",41:"EQUALS",42:"DATA",44:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function(t,n,i,s,r,a){var o=a.length-1;switch(r){case 1:return new s.ProgramNode(a[o-1],this._$);case 2:return new s.ProgramNode([],this._$);case 3:this.$=new s.ProgramNode([],a[o-1],a[o],this._$);break;case 4:this.$=new s.ProgramNode(a[o-2],a[o-1],a[o],this._$);break;case 5:this.$=new s.ProgramNode(a[o-1],a[o],[],this._$);break;case 6:this.$=new s.ProgramNode(a[o],this._$);break;case 7:this.$=new s.ProgramNode([],this._$);break;case 8:this.$=new s.ProgramNode([],this._$);break;case 9:this.$=[a[o]];break;case 10:a[o-1].push(a[o]),this.$=a[o-1];break;case 11:this.$=new s.BlockNode(a[o-2],a[o-1].inverse,a[o-1],a[o],this._$);break;case 12:this.$=new s.BlockNode(a[o-2],a[o-1],a[o-1].inverse,a[o],this._$);break;case 13:this.$=a[o];break;case 14:this.$=a[o];break;case 15:this.$=new s.ContentNode(a[o],this._$);break;case 16:this.$=new s.CommentNode(a[o],this._$);break;case 17:this.$=new s.MustacheNode(a[o-1],null,a[o-2],e(a[o-2],a[o]),this._$);break;case 18:this.$=new s.MustacheNode(a[o-1],null,a[o-2],e(a[o-2],a[o]),this._$);break;case 19:this.$={path:a[o-1],strip:e(a[o-2],a[o])};break;case 20:this.$=new s.MustacheNode(a[o-1],null,a[o-2],e(a[o-2],a[o]),this._$);break;case 21:this.$=new s.MustacheNode(a[o-1],null,a[o-2],e(a[o-2],a[o]),this._$);break;case 22:this.$=new s.PartialNode(a[o-2],a[o-1],e(a[o-3],a[o]),this._$);break;case 23:this.$=e(a[o-1],a[o]);break;case 24:this.$=new s.SexprNode([a[o-2]].concat(a[o-1]),a[o],this._$);break;case 25:this.$=new s.SexprNode([a[o]],null,this._$);break;case 26:this.$=a[o];break;case 27:this.$=new s.StringNode(a[o],this._$);break;case 28:this.$=new s.IntegerNode(a[o],this._$);break;case 29:this.$=new s.BooleanNode(a[o],this._$);break;case 30:this.$=a[o];break;case 31:a[o-1].isHelper=!0,this.$=a[o-1];break;case 32:this.$=new s.HashNode(a[o],this._$);break;case 33:this.$=[a[o-2],a[o]];break;case 34:this.$=new s.PartialNameNode(a[o],this._$);break;case 35:this.$=new s.PartialNameNode(new s.StringNode(a[o],this._$),this._$);break;case 36:this.$=new s.PartialNameNode(new s.IntegerNode(a[o],this._$));break;case 37:this.$=new s.DataNode(a[o],this._$);break;case 38:this.$=new s.IdNode(a[o],this._$);break;case 39:a[o-2].push({part:a[o],separator:a[o-1]}),this.$=a[o-2];break;case 40:this.$=[{part:a[o]}];break;case 43:this.$=[];break;case 44:a[o-1].push(a[o]);break;case 47:this.$=[a[o]];break;case 48:a[o-1].push(a[o])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function(e){throw new Error(e)
},parse:function(e){function t(){var e;return e=n.lexer.lex()||1,"number"!=typeof e&&(e=n.symbols_[e]||e),e}var n=this,i=[0],s=[null],r=[],a=this.table,o="",l=0,c=0,u=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var d=this.lexer.yylloc;r.push(d);var h=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var p,f,m,g,v,_,y,b,w,x={};;){if(m=i[i.length-1],this.defaultActions[m]?g=this.defaultActions[m]:((null===p||"undefined"==typeof p)&&(p=t()),g=a[m]&&a[m][p]),"undefined"==typeof g||!g.length||!g[0]){var k="";if(!u){w=[];for(_ in a[m])this.terminals_[_]&&_>2&&w.push("'"+this.terminals_[_]+"'");k=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+w.join(", ")+", got '"+(this.terminals_[p]||p)+"'":"Parse error on line "+(l+1)+": Unexpected "+(1==p?"end of input":"'"+(this.terminals_[p]||p)+"'"),this.parseError(k,{text:this.lexer.match,token:this.terminals_[p]||p,line:this.lexer.yylineno,loc:d,expected:w})}}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+m+", token: "+p);switch(g[0]){case 1:i.push(p),s.push(this.lexer.yytext),r.push(this.lexer.yylloc),i.push(g[1]),p=null,f?(p=f,f=null):(c=this.lexer.yyleng,o=this.lexer.yytext,l=this.lexer.yylineno,d=this.lexer.yylloc,u>0&&u--);break;case 2:if(y=this.productions_[g[1]][1],x.$=s[s.length-y],x._$={first_line:r[r.length-(y||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(y||1)].first_column,last_column:r[r.length-1].last_column},h&&(x._$.range=[r[r.length-(y||1)].range[0],r[r.length-1].range[1]]),v=this.performAction.call(x,o,c,l,this.yy,g[1],s,r),"undefined"!=typeof v)return v;y&&(i=i.slice(0,-1*y*2),s=s.slice(0,-1*y),r=r.slice(0,-1*y)),i.push(this.productions_[g[1]][0]),s.push(x.$),r.push(x._$),b=a[i[i.length-2]][i[i.length-1]],i.push(b);break;case 3:return!0}}return!0}},i=function(){var e={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var s=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[s[0],s[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,i,s;this._more||(this.yytext="",this.match="");for(var r=this._currentRules(),a=0;a<r.length&&(n=this._input.match(this.rules[r[a]]),!n||t&&!(n[0].length>t[0].length)||(t=n,i=a,this.options.flex));a++);return t?(s=t[0].match(/(?:\r\n?|\n).*/g),s&&(this.yylineno+=s.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:s?s[s.length-1].length-s[s.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,r[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e?e:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return"undefined"!=typeof e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,n,i){function s(e,n){return t.yytext=t.yytext.substr(e,t.yyleng-n)}switch(n){case 0:if("\\\\"===t.yytext.slice(-2)?(s(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(s(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return s(0,4),this.popState(),15;case 4:return 35;case 5:return 36;case 6:return 25;case 7:return 16;case 8:return 20;case 9:return 19;case 10:return 19;case 11:return 23;case 12:return 22;case 13:this.popState(),this.begin("com");break;case 14:return s(3,5),this.popState(),15;case 15:return 22;case 16:return 41;case 17:return 40;case 18:return 40;case 19:return 44;case 20:break;case 21:return this.popState(),24;case 22:return this.popState(),18;case 23:return t.yytext=s(1,2).replace(/\\"/g,'"'),32;case 24:return t.yytext=s(1,2).replace(/\\'/g,"'"),32;case 25:return 42;case 26:return 34;case 27:return 34;case 28:return 33;case 29:return 40;case 30:return t.yytext=s(1,2),40;case 31:return"INVALID";case 32:return 5}},e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],e.conditions={mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}},e}();return n.lexer=i,t.prototype=n,n.Parser=t,new t}();return e=t}(),l=function(e,t){"use strict";function n(e){return e.constructor===r.ProgramNode?e:(s.yy=r,s.parse(e))}var i={},s=e,r=t;return i.parser=s,i.parse=n,i}(o,a),c=function(e){"use strict";function t(){}function n(e,t,n){if(null==e||"string"!=typeof e&&e.constructor!==n.AST.ProgramNode)throw new r("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);t=t||{},"data"in t||(t.data=!0);var i=n.parse(e),s=(new n.Compiler).compile(i,t);return(new n.JavaScriptCompiler).compile(s,t)}function i(e,t,n){function i(){var i=n.parse(e),s=(new n.Compiler).compile(i,t),r=(new n.JavaScriptCompiler).compile(s,t,void 0,!0);return n.template(r)}if(null==e||"string"!=typeof e&&e.constructor!==n.AST.ProgramNode)throw new r("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);t=t||{},"data"in t||(t.data=!0);var s;return function(e,t){return s||(s=i()),s.call(this,e,t)}}var s={},r=e;return s.Compiler=t,t.prototype={compiler:t,disassemble:function(){for(var e,t,n,i=this.opcodes,s=[],r=0,a=i.length;a>r;r++)if(e=i[r],"DECLARE"===e.opcode)s.push("DECLARE "+e.name+"="+e.value);else{t=[];for(var o=0;o<e.args.length;o++)n=e.args[o],"string"==typeof n&&(n='"'+n.replace("\n","\\n")+'"'),t.push(n);s.push(e.opcode+" "+t.join(" "))}return s.join("\n")},equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var n=0;t>n;n++){var i=this.opcodes[n],s=e.opcodes[n];if(i.opcode!==s.opcode||i.args.length!==s.args.length)return!1;for(var r=0;r<i.args.length;r++)if(i.args[r]!==s.args[r])return!1}if(t=this.children.length,e.children.length!==t)return!1;for(n=0;t>n;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,t){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=t;var n=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},n)for(var i in n)this.options.knownHelpers[i]=n[i];return this.accept(e)},accept:function(e){var t,n=e.strip||{};return n.left&&this.opcode("strip"),t=this[e.type](e),n.right&&this.opcode("strip"),t},program:function(e){for(var t=e.statements,n=0,i=t.length;i>n;n++)this.accept(t[n]);return this.isSimple=1===i,this.depths.list=this.depths.list.sort(function(e,t){return e-t}),this},compileProgram:function(e){var t,n=(new this.compiler).compile(e,this.options),i=this.guid++;this.usePartial=this.usePartial||n.usePartial,this.children[i]=n;for(var s=0,r=n.depths.list.length;r>s;s++)t=n.depths.list[s],2>t||this.addDepth(t-1);return i},block:function(e){var t=e.mustache,n=e.program,i=e.inverse;n&&(n=this.compileProgram(n)),i&&(i=this.compileProgram(i));var s=t.sexpr,r=this.classifySexpr(s);"helper"===r?this.helperSexpr(s,n,i):"simple"===r?(this.simpleSexpr(s),this.opcode("pushProgram",n),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousSexpr(s,n,i),this.opcode("pushProgram",n),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(e){var t,n,i=e.pairs;this.opcode("pushHash");for(var s=0,r=i.length;r>s;s++)t=i[s],n=t[1],this.options.stringParams?(n.depth&&this.addDepth(n.depth),this.opcode("getContext",n.depth||0),this.opcode("pushStringParam",n.stringModeValue,n.type),"sexpr"===n.type&&this.sexpr(n)):this.accept(n),this.opcode("assignToHash",t[0]);this.opcode("popHash")},partial:function(e){var t=e.partialName;this.usePartial=!0,e.context?this.ID(e.context):this.opcode("push","depth0"),this.opcode("invokePartial",t.name),this.opcode("append")},content:function(e){this.opcode("appendContent",e.string)},mustache:function(e){this.sexpr(e.sexpr),this.opcode(e.escaped&&!this.options.noEscape?"appendEscaped":"append")},ambiguousSexpr:function(e,t,n){var i=e.id,s=i.parts[0],r=null!=t||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("invokeAmbiguous",s,r)},simpleSexpr:function(e){var t=e.id;"DATA"===t.type?this.DATA(t):t.parts.length?this.ID(t):(this.addDepth(t.depth),this.opcode("getContext",t.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,n){var i=this.setupFullMustacheParams(e,t,n),s=e.id.parts[0];if(this.options.knownHelpers[s])this.opcode("invokeKnownHelper",i.length,s);else{if(this.options.knownHelpersOnly)throw new r("You specified knownHelpersOnly, but used the unknown helper "+s,e);this.opcode("invokeHelper",i.length,s,e.isRoot)}},sexpr:function(e){var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ID:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0];t?this.opcode("lookupOnContext",e.parts[0]):this.opcode("pushContext");for(var n=1,i=e.parts.length;i>n;n++)this.opcode("lookup",e.parts[n])},DATA:function(e){if(this.options.data=!0,e.id.isScoped||e.id.depth)throw new r("Scoped data references are not supported: "+e.original,e);this.opcode("lookupData");for(var t=e.id.parts,n=0,i=t.length;i>n;n++)this.opcode("lookup",t[n])},STRING:function(e){this.opcode("pushString",e.string)},INTEGER:function(e){this.opcode("pushLiteral",e.integer)},BOOLEAN:function(e){this.opcode("pushLiteral",e.bool)},comment:function(){},opcode:function(e){this.opcodes.push({opcode:e,args:[].slice.call(arguments,1)})},declare:function(e,t){this.opcodes.push({opcode:"DECLARE",name:e,value:t})},addDepth:function(e){0!==e&&(this.depths[e]||(this.depths[e]=!0,this.depths.list.push(e)))},classifySexpr:function(e){var t=e.isHelper,n=e.eligibleHelper,i=this.options;if(n&&!t){var s=e.id.parts[0];i.knownHelpers[s]?t=!0:i.knownHelpersOnly&&(n=!1)}return t?"helper":n?"ambiguous":"simple"},pushParams:function(e){for(var t,n=e.length;n--;)t=e[n],this.options.stringParams?(t.depth&&this.addDepth(t.depth),this.opcode("getContext",t.depth||0),this.opcode("pushStringParam",t.stringModeValue,t.type),"sexpr"===t.type&&this.sexpr(t)):this[t.type](t)},setupFullMustacheParams:function(e,t,n){var i=e.params;return this.pushParams(i),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.hash(e.hash):this.opcode("emptyHash"),i}},s.precompile=n,s.compile=i,s}(n),u=function(e,t){"use strict";function n(e){this.value=e}function i(){}var s,r=e.COMPILER_REVISION,a=e.REVISION_CHANGES,o=e.log,l=t;i.prototype={nameLookup:function(e,t){var n,s;return 0===e.indexOf("depth")&&(n=!0),s=/^[0-9]+$/.test(t)?e+"["+t+"]":i.isValidJavaScriptVariableName(t)?e+"."+t:e+"['"+t+"']",n?"("+e+" && "+s+")":s},compilerInfo:function(){var e=r,t=a[e];return"this.compilerInfo = ["+e+",'"+t+"'];\n"},appendToBuffer:function(e){return this.environment.isSimple?"return "+e+";":{appendToBuffer:!0,content:e,toString:function(){return"buffer += "+e+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(e,t,n,i){this.environment=e,this.options=t||{},o("debug",this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!n,this.context=n||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(e,t);var s,r=e.opcodes;this.i=0;for(var a=r.length;this.i<a;this.i++)s=r[this.i],"DECLARE"===s.opcode?this[s.name]=s.value:this[s.opcode].apply(this,s.args),s.opcode!==this.stripNext&&(this.stripNext=!1);if(this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new l("Compile completed with content left on stack");return this.createFunctionContext(i)},preamble:function(){var e=[];if(this.isChild)e.push("");else{var t=this.namespace,n="helpers = this.merge(helpers, "+t+".helpers);";this.environment.usePartial&&(n=n+" partials = this.merge(partials, "+t+".partials);"),this.options.data&&(n+=" data = data || {};"),e.push(n)}e.push(this.environment.isSimple?"":", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=e},createFunctionContext:function(e){var t=this.stackVars.concat(this.registers.list);if(t.length>0&&(this.source[1]=this.source[1]+", "+t.join(", ")),!this.isChild)for(var n in this.context.aliases)this.context.aliases.hasOwnProperty(n)&&(this.source[1]=this.source[1]+", "+n+"="+this.context.aliases[n]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.pushSource("return buffer;");for(var i=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],s=0,r=this.environment.depths.list.length;r>s;s++)i.push("depth"+this.environment.depths.list[s]);var a=this.mergeSource();if(this.isChild||(a=this.compilerInfo()+a),e)return i.push(a),Function.apply(this,i);var l="function "+(this.name||"")+"("+i.join(",")+") {\n  "+a+"}";return o("debug",l+"\n\n"),l},mergeSource:function(){for(var e,t="",n=0,i=this.source.length;i>n;n++){var s=this.source[n];s.appendToBuffer?e=e?e+"\n    + "+s.content:s.content:(e&&(t+="buffer += "+e+";\n  ",e=void 0),t+=s+"\n  ")}return t},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e),this.replaceStack(function(t){return e.splice(1,0,t),"blockHelperMissing.call("+e.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e);var t=this.topStack();e.splice(1,0,t),this.pushSource("if (!"+this.lastHelper+") { "+t+" = blockHelperMissing.call("+e.join(", ")+"); }")},appendContent:function(e){this.pendingContent&&(e=this.pendingContent+e),this.stripNext&&(e=e.replace(/^\s+/,"")),this.pendingContent=e},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,"")),this.stripNext="strip"},append:function(){this.flushInline();var e=this.popStack();this.pushSource("if("+e+" || "+e+" === 0) { "+this.appendToBuffer(e)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(e){this.lastContext!==e&&(this.lastContext=e)},lookupOnContext:function(e){this.push(this.nameLookup("depth"+this.lastContext,e,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(e){return"typeof "+e+" === functionType ? "+e+".apply(depth0) : "+e})},lookup:function(e){this.replaceStack(function(t){return t+" == null || "+t+" === false ? "+t+" : "+this.nameLookup(t,e,"context")})},lookupData:function(){this.pushStackLiteral("data")},pushStringParam:function(e,t){this.pushStackLiteral("depth"+this.lastContext),this.pushString(t),"sexpr"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[]}},popHash:function(){var e=this.hash;this.hash=this.hashes.pop(),this.options.stringParams&&(this.push("{"+e.contexts.join(",")+"}"),this.push("{"+e.types.join(",")+"}")),this.push("{\n    "+e.values.join(",\n    ")+"\n  }")},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},push:function(e){return this.inlineStack.push(e),e},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){this.pushStackLiteral(null!=e?this.programExpression(e):null)},invokeHelper:function(e,t,n){this.context.aliases.helperMissing="helpers.helperMissing",this.useRegister("helper");var i=this.lastHelper=this.setupHelper(e,t,!0),s=this.nameLookup("depth"+this.lastContext,t,"context"),r="helper = "+i.name+" || "+s;i.paramsInit&&(r+=","+i.paramsInit),this.push("("+r+",helper ? helper.call("+i.callParams+") : helperMissing.call("+i.helperMissingParams+"))"),n||this.flushInline()},invokeKnownHelper:function(e,t){var n=this.setupHelper(e,t);this.push(n.name+".call("+n.callParams+")")},invokeAmbiguous:function(e,t){this.context.aliases.functionType='"function"',this.useRegister("helper"),this.emptyHash();var n=this.setupHelper(0,e,t),i=this.lastHelper=this.nameLookup("helpers",e,"helper"),s=this.nameLookup("depth"+this.lastContext,e,"context"),r=this.nextStack();n.paramsInit&&this.pushSource(n.paramsInit),this.pushSource("if (helper = "+i+") { "+r+" = helper.call("+n.callParams+"); }"),this.pushSource("else { helper = "+s+"; "+r+" = typeof helper === functionType ? helper.call("+n.callParams+") : helper; }")},invokePartial:function(e){var t=[this.nameLookup("partials",e,"partial"),"'"+e+"'",this.popStack(),"helpers","partials"];this.options.data&&t.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+t.join(", ")+")")},assignToHash:function(e){var t,n,i=this.popStack();this.options.stringParams&&(n=this.popStack(),t=this.popStack());var s=this.hash;t&&s.contexts.push("'"+e+"': "+t),n&&s.types.push("'"+e+"': "+n),s.values.push("'"+e+"': ("+i+")")},compiler:i,compileChildren:function(e,t){for(var n,i,s=e.children,r=0,a=s.length;a>r;r++){n=s[r],i=new this.compiler;var o=this.matchExistingProgram(n);null==o?(this.context.programs.push(""),o=this.context.programs.length,n.index=o,n.name="program"+o,this.context.programs[o]=i.compile(n,t,this.context),this.context.environments[o]=n):(n.index=o,n.name="program"+o)}},matchExistingProgram:function(e){for(var t=0,n=this.context.environments.length;n>t;t++){var i=this.context.environments[t];if(i&&i.equals(e))return t}},programExpression:function(e){if(this.context.aliases.self="this",null==e)return"self.noop";for(var t,n=this.environment.children[e],i=n.depths.list,s=[n.index,n.name,"data"],r=0,a=i.length;a>r;r++)t=i[r],s.push(1===t?"depth0":"depth"+(t-1));return(0===i.length?"self.program(":"self.programWithDepth(")+s.join(", ")+")"},register:function(e,t){this.useRegister(e),this.pushSource(e+" = "+t+";")},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},pushStackLiteral:function(e){return this.push(new n(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),e&&this.source.push(e)},pushStack:function(e){this.flushInline();var t=this.incrStack();return e&&this.pushSource(t+" = "+e+";"),this.compileStack.push(t),t},replaceStack:function(e){var t,i,s,r="",a=this.isInline();if(a){var o=this.popStack(!0);if(o instanceof n)t=o.value,s=!0;else{i=!this.stackSlot;var l=i?this.incrStack():this.topStackName();r="("+this.push(l)+" = "+o+"),",t=this.topStack()}}else t=this.topStack();var c=e.call(this,t);return a?(s||this.popStack(),i&&this.stackSlot--,this.push("("+r+c+")")):(/^stack/.test(t)||(t=this.nextStack()),this.pushSource(t+" = ("+r+c+");")),t},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var e=this.inlineStack;if(e.length){this.inlineStack=[];for(var t=0,i=e.length;i>t;t++){var s=e[t];s instanceof n?this.compileStack.push(s):this.pushStack(s)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){var t=this.isInline(),i=(t?this.inlineStack:this.compileStack).pop();if(!e&&i instanceof n)return i.value;if(!t){if(!this.stackSlot)throw new l("Invalid stack pop");this.stackSlot--}return i},topStack:function(e){var t=this.isInline()?this.inlineStack:this.compileStack,i=t[t.length-1];return!e&&i instanceof n?i.value:i},quotedString:function(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(e,t,n){var i=[],s=this.setupParams(e,i,n),r=this.nameLookup("helpers",t,"helper");return{params:i,paramsInit:s,name:r,callParams:["depth0"].concat(i).join(", "),helperMissingParams:n&&["depth0",this.quotedString(t)].concat(i).join(", ")}},setupOptions:function(e,t){var n,i,s,r=[],a=[],o=[];r.push("hash:"+this.popStack()),this.options.stringParams&&(r.push("hashTypes:"+this.popStack()),r.push("hashContexts:"+this.popStack())),i=this.popStack(),s=this.popStack(),(s||i)&&(s||(this.context.aliases.self="this",s="self.noop"),i||(this.context.aliases.self="this",i="self.noop"),r.push("inverse:"+i),r.push("fn:"+s));for(var l=0;e>l;l++)n=this.popStack(),t.push(n),this.options.stringParams&&(o.push(this.popStack()),a.push(this.popStack()));return this.options.stringParams&&(r.push("contexts:["+a.join(",")+"]"),r.push("types:["+o.join(",")+"]")),this.options.data&&r.push("data:data"),r},setupParams:function(e,t,n){var i="{"+this.setupOptions(e,t).join(",")+"}";return n?(this.useRegister("options"),t.push("options"),"options="+i):(t.push(i),"")}};for(var c="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),u=i.RESERVED_WORDS={},d=0,h=c.length;h>d;d++)u[c[d]]=!0;return i.isValidJavaScriptVariableName=function(e){return!i.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)?!0:!1},s=i}(i,n),d=function(e,t,n,i,s){"use strict";var r,a=e,o=t,l=n.parser,c=n.parse,u=i.Compiler,d=i.compile,h=i.precompile,p=s,f=a.create,m=function(){var e=f();return e.compile=function(t,n){return d(t,n,e)},e.precompile=function(t,n){return h(t,n,e)},e.AST=o,e.Compiler=u,e.JavaScriptCompiler=p,e.Parser=l,e.parse=c,e};return a=m(),a.create=m,r=a}(r,a,l,c,u);return d}();define("handlebars",function(e){return function(){var t;return t||e.Handlebars}}(this)),define("hbs",["handlebars"],function(e){var t={},n=".hbs";return{load:function(i,s,r,a){var o=a.hbs&&a.hbs.templateExtension?a.hbs.templateExtension:n;if(a.isBuild){var l=nodeRequire("fs"),c=a.dirBaseUrl+"/"+i+o;t[i]=l.readFileSync(c).toString(),r()}else s(["text!"+i+o],function(t){r(e.compile(t))})},write:function(n,i,s){var r=e.precompile(t[i]);s("define('hbs!"+i+"', ['handlebars'], function(Handlebars){ \nreturn Handlebars.template("+r.toString()+");\n});\n")}}}),define("hbs!plugins/template/uploadComplete",["handlebars"],function(e){return e.template(function(e,t,n,i,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,a,o="",l="function",c=this.escapeExpression;return o+='<div id="',(a=n.fileID)?r=a.call(t,{hash:{},data:s}):(a=t&&t.fileID,r=typeof a===l?a.call(t,{hash:{},data:s}):a),o+=c(r)+'" class="upsucess uploadify-queue-item">\r\n    <input type="hidden" name="',(a=n.hiddenName)?r=a.call(t,{hash:{},data:s}):(a=t&&t.hiddenName,r=typeof a===l?a.call(t,{hash:{},data:s}):a),o+=c(r)+'" value="',(a=n.resID)?r=a.call(t,{hash:{},data:s}):(a=t&&t.resID,r=typeof a===l?a.call(t,{hash:{},data:s}):a),o+=c(r)+'">\r\n    <div class="fr">\r\n        <a class="close" title="取消上传" href="javascript:$(\'#',(a=n.instanceID)?r=a.call(t,{hash:{},data:s}):(a=t&&t.instanceID,r=typeof a===l?a.call(t,{hash:{},data:s}):a),o+=c(r)+'\').uploadify(\'cancel\', \'*\')"></a>\r\n    </div>\r\n    <span class="sucess"><span class="sucimg pr"><img src="',(a=n.previewURL)?r=a.call(t,{hash:{},data:s}):(a=t&&t.previewURL,r=typeof a===l?a.call(t,{hash:{},data:s}):a),o+=c(r)+'" alt="',(a=n.fileName)?r=a.call(t,{hash:{},data:s}):(a=t&&t.fileName,r=typeof a===l?a.call(t,{hash:{},data:s}):a),o+=c(r)+'"><i class="icon i14 ico-ok pa"></i></span><span class="sucfilename ftblue text-split">',(a=n.fileName)?r=a.call(t,{hash:{},data:s}):(a=t&&t.fileName,r=typeof a===l?a.call(t,{hash:{},data:s}):a),o+=c(r)+"</span></span>\r\n</div>\r\n"})}),define("hbs!plugins/template/uploading",["handlebars"],function(e){return e.template(function(e,t,n,i,s){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var r,a,o="",l="function",c=this.escapeExpression;return o+='<div id="',(a=n.fileID)?r=a.call(t,{hash:{},data:s}):(a=t&&t.fileID,r=typeof a===l?a.call(t,{hash:{},data:s}):a),o+=c(r)+'" class="uploadify-queue-item stabar">\r\n    <span class="fr"><a href="javascript:$(\'#',(a=n.instanceID)?r=a.call(t,{hash:{},data:s}):(a=t&&t.instanceID,r=typeof a===l?a.call(t,{hash:{},data:s}):a),o+=c(r)+'\').uploadify(\'cancel\', \'*\')" class="close" title="取消上传"></a></span>\r\n    <span class="progressbar br6 pr"><span class="probar-blue br6" style="width:0%"></span><em class="percent pa ftwhite">0%</em></span>\r\n</div>\r\n\r\n'})}),function(){var e,t,n,i,s,r={}.hasOwnProperty,a=function(e,t){function n(){this.constructor=e}for(var i in t)r.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};i=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,n,i,s,r,a;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:this.escapeExpression(e.label),children:0,disabled:e.disabled}),r=e.childNodes,a=[],i=0,s=r.length;s>i;i++)n=r[i],a.push(this.add_option(n,t,e.disabled));return a},e.prototype.add_option=function(e,t,n){return"OPTION"===e.nodeName.toUpperCase()?(""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:n===!0?n:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},e.prototype.escapeExpression=function(e){var t,n;return null==e||e===!1?"":/[\&\<\>\"\'\`]/.test(e)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=/&(?!\w+;)|[\<\>\"\'\`]/g,e.replace(n,function(e){return t[e]||"&amp;"})):e},e}(),i.select_to_array=function(e){var t,n,s,r,a;for(n=new i,a=e.childNodes,s=0,r=a.length;r>s;s++)t=a[s],n.add_node(t);return n.parsed},t=function(){function e(t,n){this.form_field=t,this.options=null!=n?n:{},e.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.group_search=null!=this.options.group_search?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null!=this.options.single_backstroke_delete?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null!=this.options.display_selected_options?this.options.display_selected_options:!0,this.display_disabled_options=null!=this.options.display_disabled_options?this.options.display_disabled_options:!0},e.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text:this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||e.default_no_result_text
},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(){var e=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return e.blur_test()},100))},e.prototype.results_option_build=function(e){var t,n,i,s,r;for(t="",r=this.results_data,i=0,s=r.length;s>i;i++)n=r[i],t+=n.group?this.result_add_group(n):this.result_add_option(n),(null!=e?e.first:void 0)&&(n.selected&&this.is_multiple?this.choice_build(n):n.selected&&!this.is_multiple&&this.single_set_selected_text(n.text));return t},e.prototype.result_add_option=function(e){var t,n;return e.search_match?this.include_option_in_results(e)?(t=[],e.disabled||e.selected&&this.is_multiple||t.push("active-result"),!e.disabled||e.selected&&this.is_multiple||t.push("disabled-result"),e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),n=document.createElement("li"),n.className=t.join(" "),n.style.cssText=e.style,n.setAttribute("data-option-array-index",e.array_index),n.innerHTML=e.search_text,this.outerHTML(n)):"":""},e.prototype.result_add_group=function(e){var t;return e.search_match||e.group_match?e.active_options>0?(t=document.createElement("li"),t.className="group-result",t.innerHTML=e.search_text,this.outerHTML(t)):"":""},e.prototype.results_update_field=function(){return this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build(),this.results_showing?this.winnow_results():void 0},e.prototype.reset_single_select_options=function(){var e,t,n,i,s;for(i=this.results_data,s=[],t=0,n=i.length;n>t;t++)e=i[t],s.push(e.selected?e.selected=!1:void 0);return s},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.winnow_results=function(){var e,t,n,i,s,r,a,o,l,c,u,d,h;for(this.no_results_clear(),s=0,a=this.get_search_text(),e=a.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),i=this.search_contains?"":"^",n=new RegExp(i+e,"i"),c=new RegExp(e,"i"),h=this.results_data,u=0,d=h.length;d>u;u++)t=h[u],t.search_match=!1,r=null,this.include_option_in_results(t)&&(t.group&&(t.group_match=!1,t.active_options=0),null!=t.group_array_index&&this.results_data[t.group_array_index]&&(r=this.results_data[t.group_array_index],0===r.active_options&&r.search_match&&(s+=1),r.active_options+=1),(!t.group||this.group_search)&&(t.search_text=t.group?t.label:t.html,t.search_match=this.search_string_match(t.search_text,n),t.search_match&&!t.group&&(s+=1),t.search_match?(a.length&&(o=t.search_text.search(c),l=t.search_text.substr(0,o+a.length)+"</em>"+t.search_text.substr(o+a.length),t.search_text=l.substr(0,o)+"<em>"+l.substr(o)),null!=r&&(r.group_match=!0)):null!=t.group_array_index&&this.results_data[t.group_array_index].search_match&&(t.search_match=!0)));return this.result_clear_highlight(),1>s&&a.length?(this.update_results_content(""),this.no_results(a)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},e.prototype.search_string_match=function(e,t){var n,i,s,r;if(t.test(e))return!0;if(this.enable_split_word_search&&(e.indexOf(" ")>=0||0===e.indexOf("["))&&(i=e.replace(/\[|\]/g,"").split(" "),i.length))for(s=0,r=i.length;r>s;s++)if(n=i[s],t.test(n))return!0},e.prototype.choices_count=function(){var e,t,n,i;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,i=this.form_field.options,t=0,n=i.length;n>t;t++)e=i[t],e.selected&&(this.selected_option_count+=1);return this.selected_option_count},e.prototype.choices_click=function(e){return e.preventDefault(),this.results_showing||this.is_disabled?void 0:this.results_show()},e.prototype.keyup_checker=function(e){var t,n;switch(t=null!=(n=e.which)?n:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.clipboard_event_checker=function(){var e=this;return setTimeout(function(){return e.results_search()},50)},e.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},e.prototype.include_option_in_results=function(e){return this.is_multiple&&!this.display_selected_options&&e.selected?!1:!this.display_disabled_options&&e.disabled?!1:e.empty?!1:!0},e.prototype.search_results_touchstart=function(e){return this.touch_started=!0,this.search_results_mouseover(e)},e.prototype.search_results_touchmove=function(e){return this.touch_started=!1,this.search_results_mouseout(e)},e.prototype.search_results_touchend=function(e){return this.touch_started?this.search_results_mouseup(e):void 0},e.prototype.outerHTML=function(e){var t;return e.outerHTML?e.outerHTML:(t=document.createElement("div"),t.appendChild(e),t.innerHTML)},e.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)?!1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:!0},e.default_multiple_text="Select Some Options",e.default_single_text="Select an Option",e.default_no_result_text="No results match",e}(),e=jQuery,e.fn.extend({chosen:function(i){return t.browser_is_supported()?this.each(function(){var t,s;t=e(this),s=t.data("chosen"),"destroy"===i&&s?s.destroy():s||t.data("chosen",new n(this,i))}):this}}),n=function(t){function n(){return s=n.__super__.constructor.apply(this,arguments)}return a(n,t),n.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},n.prototype.set_up_html=function(){var t,n;return t=["chosen-container"],t.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),n={"class":t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(n.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=e("<div />",n),this.container.html(this.is_multiple?'<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>':'<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><i class="icon i9-4 ico-dparrow"></i></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},n.prototype.register_observers=function(){var t=this;return this.container.bind("mousedown.chosen",function(e){t.container_mousedown(e)}),this.container.bind("mouseup.chosen",function(e){t.container_mouseup(e)}),this.container.bind("mouseenter.chosen",function(e){t.mouse_enter(e)}),this.container.bind("mouseleave.chosen",function(e){t.mouse_leave(e)}),this.search_results.bind("mouseup.chosen",function(e){t.search_results_mouseup(e)}),this.search_results.bind("mouseover.chosen",function(e){t.search_results_mouseover(e)}),this.search_results.bind("mouseout.chosen",function(e){t.search_results_mouseout(e)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(e){t.search_results_mousewheel(e)}),this.search_results.bind("touchstart.chosen",function(e){t.search_results_touchstart(e)}),this.search_results.bind("touchmove.chosen",function(e){t.search_results_touchmove(e)}),this.search_results.bind("touchend.chosen",function(e){t.search_results_touchend(e)}),this.form_field_jq.bind("chosen:updated.chosen",function(e){t.results_update_field(e)}),this.form_field_jq.bind("chosen:activate.chosen",function(e){t.activate_field(e)}),this.form_field_jq.bind("chosen:open.chosen",function(e){t.container_mousedown(e)}),this.form_field_jq.bind("chosen:close.chosen",function(e){t.input_blur(e)}),this.search_field.bind("blur.chosen",function(e){t.input_blur(e)}),this.search_field.bind("keyup.chosen",function(e){t.keyup_checker(e)}),this.search_field.bind("keydown.chosen",function(e){t.keydown_checker(e)}),this.search_field.bind("focus.chosen",function(e){t.input_focus(e)}),this.search_field.bind("cut.chosen",function(e){t.clipboard_event_checker(e)}),this.search_field.bind("paste.chosen",function(e){t.clipboard_event_checker(e)}),this.is_multiple?this.search_choices.bind("click.chosen",function(e){t.choices_click(e)}):this.container.bind("click.chosen",function(t){t.preventDefault(),"LI"==t.target.tagName&&e(t.target).parents("div").parents("div:eq(0)").prev().blur()})},n.prototype.destroy=function(){return e(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},n.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},n.prototype.container_mousedown=function(t){return this.is_disabled||(t&&"mousedown"===t.type&&!this.results_showing&&t.preventDefault(),null!=t&&e(t.target).hasClass("search-choice-close"))?void 0:(this.active_field?this.is_multiple||!t||e(t.target)[0]!==this.selected_item[0]&&!e(t.target).parents("a.chosen-single").length||(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field())},n.prototype.container_mouseup=function(e){return"ABBR"!==e.target.nodeName||this.is_disabled?void 0:this.results_reset(e)},n.prototype.search_results_mousewheel=function(e){var t;return e.originalEvent&&(t=-e.originalEvent.wheelDelta||e.originalEvent.detail),null!=t?(e.preventDefault(),"DOMMouseScroll"===e.type&&(t=40*t),this.search_results.scrollTop(t+this.search_results.scrollTop())):void 0},n.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chosen-container-active")?this.close_field():void 0},n.prototype.close_field=function(){return e(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},n.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},n.prototype.test_active_click=function(t){var n;return n=e(t.target).closest(".chosen-container"),n.length&&this.container[0]===n[0]?this.active_field=!0:this.close_field()},n.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=i.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},n.prototype.result_do_highlight=function(e){var t,n,i,s,r;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),i=parseInt(this.search_results.css("maxHeight"),10),r=this.search_results.scrollTop(),s=i+r,n=this.result_highlight.position().top+this.search_results.scrollTop(),t=n+this.result_highlight.outerHeight(),t>=s)return this.search_results.scrollTop(t-i>0?t-i:0);if(r>n)return this.search_results.scrollTop(n)}},n.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},n.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},n.prototype.update_results_content=function(e){return this.search_results.html(e)},n.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},n.prototype.set_tab_index=function(){var e;return this.form_field.tabIndex?(e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e):void 0},n.prototype.set_label_behavior=function(){var t=this;return this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=e("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0?this.form_field_label.bind("click.chosen",function(e){return t.is_multiple?t.container_mousedown(e):t.activate_field()}):void 0},n.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},n.prototype.search_results_mouseup=function(t){var n;return n=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),n.length?(this.result_highlight=n,this.result_select(t),this.search_field.focus()):void 0},n.prototype.search_results_mouseover=function(t){var n;return n=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),n?this.result_do_highlight(n):void 0},n.prototype.search_results_mouseout=function(t){return e(t.target).hasClass("active-result")?this.result_clear_highlight():void 0},n.prototype.choice_build=function(t){var n,i,s=this;return n=e("<li />",{"class":"search-choice"}).html("<span>"+t.html+"</span>"),t.disabled?n.addClass("search-choice-disabled"):(i=e("<a />",{"class":"search-choice-close","data-option-array-index":t.array_index}),i.bind("click.chosen",function(e){return s.choice_destroy_link_click(e)}),n.append(i)),this.search_container.before(n)},n.prototype.choice_destroy_link_click=function(t){return t.preventDefault(),t.stopPropagation(),this.is_disabled?void 0:this.choice_destroy(e(t.target))},n.prototype.choice_destroy=function(e){return this.result_deselect(e[0].getAttribute("data-option-array-index"))?(this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()):void 0},n.prototype.results_reset=function(){return this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},n.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},n.prototype.result_select=function(e){var t,n;return this.result_highlight?(t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):this.reset_single_select_options(),n=this.results_data[t[0].getAttribute("data-option-array-index")],n.selected=!0,this.form_field.options[n.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(n):this.single_set_selected_text(n.text),(e.metaKey||e.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[n.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())):void 0},n.prototype.single_set_selected_text=function(e){return null==e&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(e)},n.prototype.result_deselect=function(e){var t;return t=this.results_data[e],this.form_field.options[t.options_index].disabled?!1:(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},n.prototype.single_deselect_control_build=function(){return this.allow_single_deselect?(this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close icon i-top-close i8"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")):void 0},n.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html()},n.prototype.winnow_results_set_highlight=function(){var e,t;return t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=t.length?t.first():this.search_results.find(".active-result").first(),null!=e?this.result_do_highlight(e):void 0},n.prototype.no_results=function(t){var n;return n=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),n.find("span").first().html(t),this.search_results.append(n),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},n.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},n.prototype.keydown_arrow=function(){var e;return this.results_showing&&this.result_highlight?(e=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(e):void 0:this.results_show()},n.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result"),e.length?this.result_do_highlight(e.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},n.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last(),e.length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},n.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},n.prototype.keydown_checker=function(e){var t,n;switch(t=null!=(n=e.which)?n:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},n.prototype.search_field_scale=function(){var t,n,i,s,r,a,o,l,c;if(this.is_multiple){for(i=0,o=0,r="position:absolute; left: -1000px; top: -1000px; display:none;",a=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],l=0,c=a.length;c>l;l++)s=a[l],r+=s+":"+this.search_field.css(s)+";";return t=e("<div />",{style:r}),t.text(this.search_field.val()),e("body").append(t),o=t.width()+25,t.remove(),n=this.container.outerWidth(),o>n-10&&(o=n-10),this.search_field.css({width:o+"px"})}},n}(t)}.call(this),define("chosen",["jquery"],function(e){return function(){var t;return t||e.chosen}}(this)),define("plugins/miscs",["jquery","config","uploadify","json3","popup","hbs!plugins/template/uploadComplete","hbs!plugins/template/uploading","chosen"],function(e,t,n,i,s,r,a){return e.fn.hoverDelay=function(t){var n,i,s={hoverDuring:200,outDuring:200,hoverEvent:function(){e.noop()},outEvent:function(){e.noop()}},r=e.extend(s,t||{});return e(this).each(function(){e(this).hover(function(){clearTimeout(i),n=setTimeout(r.hoverEvent,r.hoverDuring)},function(){clearTimeout(n),i=setTimeout(r.outEvent,r.outDuring)})})},{autoIframeHeight:function(){for(var t=e("iframe.autoHeight"),n=0;n<t.length;n++){var i=t[n];i.height=i.contentDocument.body.offsetHeight+20}},initSingleUploadify:function(n){n=e(n);var s=n.prop("name");n.removeProp("name");var o=e.extend({},{swf:t.ctx+"/resources/lib/uploadify/uploadify.swf",formData:{jsessionid:t.jsessionid},fileObjName:"file",fileTypeExts:"*.jpg;*.png;*.gif",fileTypeDesc:"Image Files",multi:!1,fileSizeLimit:"2MB",itemTemplate:!1,overrideEvents:["onSelect"],removeCompleted:!1,onSelect:function(t){e("#bizLicenceFileErrorId").addClass("hide"),e("#orgCodeFileErrorId").addClass("hide"),e("#taxRegFileErrorId").addClass("hide"),e("#identityPath1ErrorId").addClass("hide");var n=this.settings,i={fileID:t.id,instanceID:n.id};e("#"+n.queueID).append(a(i));var s=e("#"+n.id);s.find(".uploadify-button").hide(),s.css("width",0),s.find("object").attr("width",0)},onUploadProgress:function(t,n,i,s){var r=s?Math.ceil(100*i/s):0,a=e("#"+t.id);a.find(".progressbar .probar-blue").css("width",r+"%"),a.find(".progressbar .percent").text(r+"%")},onUploadSuccess:function(n,s){var a=this.settings,o=i.parse(s),l={fileID:n.id,fileName:n.name,instanceID:a.id,resID:o.fileId,previewURL:t.resourceServerUrl+"preview/"+o.fileId+"?height=28&width=48",hiddenName:a.hiddenName},c=i.parse(s),u=({fileID:n.id,fileName:n.name,instanceID:a.id,resID:c.fileId,previewURL:t.resourceServerUrl+"preview/"+c.fileId+"?height=28&width=48",hiddenName:a.hiddenName},i.parse(s)),d=({fileID:n.id,fileName:n.name,instanceID:a.id,resID:u.fileId,previewURL:t.resourceServerUrl+"preview/"+u.fileId+"?height=28&width=48",hiddenName:a.hiddenName},e("#imgJscrop"));if(0!=d.length){var h=e("#"+a.id);h.find(".uploadify-button").show(),e("#uploadifyPhote-queue").hide(),h=null,d.attr("src","<stateImg:staticResource  attachId='"+o.fileId+"'/>"),e("#imgJscrop").next().find("img").attr("src",t.resourceServerUrl+"preview/"+o.fileId),e("#imgJscropPreview").attr("src",t.resourceServerUrl+"/preview/"+o.fileId)}else e("#"+n.id).replaceWith(r(l));if(!e("#idCard1").hasClass("hide")){var p=e("#imgCard1");if(0!=p.length){var h=e("#"+a.id);h.find(".uploadify-button").show(),e("#idUpCard1-queue").hide(),h=null,p.attr("src",t.resourceServerUrl+"preview/"+c.fileId),e("#imgCardId1").attr("src",t.resourceServerUrl+"preview/"+c.fileId),e("#identityPath1Id").val(c.fileId),e("#resText4").empty();var f='<span class="fmtit"><i class="icon i24 ico-cerstatus"></i>未认证</span><span class="fmcont">申请人身份证</span><div class="fmright upsucess"><span class="fr"><a href="javascript:void(0);" class="close" title="删除文件" id="deleteorgCodeFileId"></a></span><span class="sucess"><span class="sucimg pr"><i class="icon i14 ico-ok pa"></i><img src="'+t.resourceServerUrl+"preview/"+c.fileId+'"/> </span></span></div>';e("#resText4").html(f)}}if(!e("#idCard2").hasClass("hide")){var m=e("#imgCard2");if(0!=m.length){var h=e("#"+a.id);h.find(".uploadify-button").show(),e("#idUpCard2-queue").hide(),h=null,m.attr("src",t.resourceServerUrl+"preview/"+u.fileId),e("#imgCardId2").attr("src",t.resourceServerUrl+"preview/"+u.fileId),e("#identityPath2Id").val(u.fileId);var f='<span class="sucimg pr"><i class="icon i14 ico-ok pa"></i><img src="'+t.resourceServerUrl+"preview/"+u.fileId+'"/></span>';e("#resText4").find(".sucess").append(f)}}},onUploadError:function(){},onCancel:function(){var t=e("#"+this.settings.id);t.delay(1500).fadeIn(500,function(){t.find(".uploadify-button").show(),t.css("width",this.width),t.find("object").prop("width",this.width),t=null})},onClearQueue:function(){var e=this,t=e.data("uploadify").settings.width;e.delay(1500).fadeIn(500,function(){e.find(".uploadify-button").show(),e.css("width",t),e.find("object").prop("width",t),e=null})}},n.data(),{hiddenName:s});n.uploadify(o)},uploadify:function(){for(var t=e("input[type=file].fileUpload"),n=0;n<t.length;n++)this.initSingleUploadify(t[n])},hoverDelay:function(){e(".menu-down").hoverDelay({hoverEvent:function(){e(".menu-cur").addClass("nav-hover"),e(".menu-hd").removeClass("hide")},outEvent:function(){e(".menu-cur").removeClass("nav-hover"),e(".menu-hd").addClass("hide")}})},choosenModify:function(){var t={".chosen":{},".chosen-with-deselect":{allow_single_deselect:!0}};for(var n in t)e(n).chosen(t[n]),e(n).next().css({width:"152px"})},alert:function(e){if(e){var t,n;t=e.title?e.title:"系统信息",n=e.iconCls?e.iconCls:"sd-ok",e.title,e.title,e.title,e.title}},mCustomScrollbar:function(){e(".scrollable").mCustomScrollbar()},tooltip_global_warning:function(e,t){var n=e.parent();n.hasClass("pr")||e.wrap("<div class='pr'></div>"),n=e.parent(),n.find("i").remove(),n.find("strong").remove(),n.append("<i class='icon i14 pa ico-warning'></i>"),n.append("<strong class='wntext br3 pa'><i class='num-san pa'></i>"+t+"</strong>")},tooltip_global_ok:function(e){var t=e.parent();t.hasClass("pr")||e.wrap("<div class='pr'></div>"),t=e.parent(),t.find("i").remove(),t.find("strong").remove(),t.append("<i class='icon i14 pa ico-ok'></i>")},tooltip_input_warning:function(t,n){var i=e("input[name='"+t+"']");this.tooltip_global_warning(i,n)},tooltip_input_ok:function(t){var n=e("input[name='"+t+"']");this.tooltip_global_ok(n)},tooltip_select_warning:function(t,n){var i=e("select[name='"+t+"']");this.tooltip_global_warning(i,n)},tooltip_select_ok:function(t){var n=e("select[name='"+t+"']");this.tooltip_global_ok(n)},validation_errorHandle:function(t,n){if("textarea"==n.context.localName)n.addClass("mbwarning");else if("select"==n.context.localName){var i=e(n),s=i.attr("name"),r=t[0];this.tooltip_select_warning(s,r.innerHTML)}else{var i=e(n),s=i.attr("name"),r=t[0];this.tooltip_input_warning(s,r.innerHTML)}},validation_unhighlight:function(t){var n=e(t),i=n.attr("name");t.tagName&&"SELECT"==t.tagName?this.tooltip_select_ok(i):n.hasClass("ignore")||this.tooltip_input_ok(i)},verify_empty:function(t){var n=e(t).val();return n?!0:!1},minheight:function(){var t=e(window).height(),n=e(".header").outerHeight(),i=e(".breadquick").outerHeight()||0,s=e(".footer").outerHeight();e(".container .innerwp").css("min-height",t-n-i-s)}}}),define("plugins/validation",["jquery","jQvalidation","jQmessage","jQvalidationRule","plugins/miscs"],function(e,t,n,i,s){var r={submitHandler:function(e){e.submit()},errorPlacement:function(e,t){s.validation_errorHandle(e,t)},unhighlight:function(e){s.validation_unhighlight(e)},focusCleanup:!1,focusInvalid:!1,ignore:".chzn-search input",invalidHandler:function(t,n){var i=n.numberOfInvalids(),s=t.target;if(i){var r="<li>表单中有错误，请完善表单后再提交。</li>";s?(e("ul.error_container",s).html(r),e(".error_message",s).show()):(e("ul.error_container","#error_message").html(r),e("#error_message").show())}else s?e("div.error",s).hide():e("div.error","#error_message").hide()},onkeyup:function(){},debug:!0};return{init:function(){e.validator.setDefaults(r)}}}),function(e,t){function n(){return new Date(Date.UTC.apply(Date,arguments))}function i(){var e=new Date;return n(e.getFullYear(),e.getMonth(),e.getDate())}function s(e){return function(){return this[e].apply(this,arguments)}}function r(t,n){function i(e,t){return t.toLowerCase()}var s,r=e(t).data(),a={},o=new RegExp("^"+n.toLowerCase()+"([A-Z])");n=new RegExp("^"+n.toLowerCase());for(var l in r)n.test(l)&&(s=l.replace(o,i),a[s]=r[l]);return a}function a(t){var n={};if(f[t]||(t=t.split("-")[0],f[t])){var i=f[t];return e.each(p,function(e,t){t in i&&(n[t]=i[t])}),n}}var o=e(window),l=function(){var t={get:function(e){return this.slice(e)[0]},contains:function(e){for(var t=e&&e.valueOf(),n=0,i=this.length;i>n;n++)if(this[n].valueOf()===t)return n;return-1},remove:function(e){this.splice(e,1)},replace:function(t){t&&(e.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t))},clear:function(){this.length=0},copy:function(){var e=new l;return e.replace(this),e}};return function(){var n=[];return n.push.apply(n,arguments),e.extend(n,t),n}}(),c=function(t,n){this.dates=new l,this.viewDate=i(),this.focusDate=null,this._process_options(n),this.element=e(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=e(m.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};c.prototype={constructor:c,_process_options:function(t){this._o=e.extend({},this._o,t);
var n=this.o=e.extend({},this._o),i=n.language;switch(f[i]||(i=i.split("-")[0],f[i]||(i=h.language)),n.language=i,n.startView){case 2:case"decade":n.startView=2;break;case 1:case"year":n.startView=1;break;default:n.startView=0}switch(n.minViewMode){case 1:case"months":n.minViewMode=1;break;case 2:case"years":n.minViewMode=2;break;default:n.minViewMode=0}n.startView=Math.max(n.startView,n.minViewMode),n.multidate!==!0&&(n.multidate=Number(n.multidate)||!1,n.multidate=n.multidate!==!1?Math.max(0,n.multidate):1),n.multidateSeparator=String(n.multidateSeparator),n.weekStart%=7,n.weekEnd=(n.weekStart+6)%7;var s=m.parseFormat(n.format);n.startDate!==-1/0&&(n.startDate=n.startDate?n.startDate instanceof Date?this._local_to_utc(this._zero_time(n.startDate)):m.parseDate(n.startDate,s,n.language):-1/0),1/0!==n.endDate&&(n.endDate=n.endDate?n.endDate instanceof Date?this._local_to_utc(this._zero_time(n.endDate)):m.parseDate(n.endDate,s,n.language):1/0),n.daysOfWeekDisabled=n.daysOfWeekDisabled||[],e.isArray(n.daysOfWeekDisabled)||(n.daysOfWeekDisabled=n.daysOfWeekDisabled.split(/[,\s]*/)),n.daysOfWeekDisabled=e.map(n.daysOfWeekDisabled,function(e){return parseInt(e,10)});var r=String(n.orientation).toLowerCase().split(/\s+/g),a=n.orientation.toLowerCase();if(r=e.grep(r,function(e){return/^auto|left|right|top|bottom$/.test(e)}),n.orientation={x:"auto",y:"auto"},a&&"auto"!==a)if(1===r.length)switch(r[0]){case"top":case"bottom":n.orientation.y=r[0];break;case"left":case"right":n.orientation.x=r[0]}else a=e.grep(r,function(e){return/^left|right$/.test(e)}),n.orientation.x=a[0]||"auto",a=e.grep(r,function(e){return/^top|bottom$/.test(e)}),n.orientation.y=a[0]||"auto";else;},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var n,i,s,r=0;r<e.length;r++)n=e[r][0],2===e[r].length?(i=t,s=e[r][1]):3===e[r].length&&(i=e[r][1],s=e[r][2]),n.on(s,i)},_unapplyEvents:function(e){for(var n,i,s,r=0;r<e.length;r++)n=e[r][0],2===e[r].length?(s=t,i=e[r][1]):3===e[r].length&&(s=e[r][1],i=e[r][2]),n.off(i,s)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:e.proxy(this.show,this),keyup:e.proxy(function(t){-1===e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:e.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:e.proxy(this.show,this),keyup:e.proxy(function(t){-1===e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:e.proxy(this.keydown,this)}],[this.component,{click:e.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:e.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:e.proxy(function(e){this._focused_from=e.target},this)}]),this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{"mousedown touchstart":e.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,n){var i=n||this.dates.get(-1),s=this._utc_to_local(i);this.element.trigger({type:t,date:s,dates:e.map(this.dates,this._utc_to_local),format:e.proxy(function(e,t){0===arguments.length?(e=this.dates.length-1,t=this.o.format):"string"==typeof e&&(t=e,e=this.dates.length-1),t=t||this.o.format;var n=this.dates.get(e);return m.formatDate(n,t,this.o.language)},this)})},show:function(){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.place(),this._attachSecondaryEvents(),this._trigger("show")},hide:function(){this.isInline||this.picker.is(":visible")&&(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"))},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(e){return e&&new Date(e.getTime()+6e4*e.getTimezoneOffset())},_local_to_utc:function(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},getDates:function(){return e.map(this.dates,this._utc_to_local)},getUTCDates:function(){return e.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,t),this._trigger("changeDate"),this.setValue()},setUTCDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,e.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue()},setDate:s("setDates"),setUTCDate:s("setUTCDates"),setValue:function(){var e=this.getFormattedDate();this.isInput?this.element.val(e).change():this.component&&this.element.find("input").val(e).change()},getFormattedDate:function(n){n===t&&(n=this.o.format);var i=this.o.language;return e.map(this.dates,function(e){return m.formatDate(e,n,i)}).join(this.o.multidateSeparator)},setStartDate:function(e){this._process_options({startDate:e}),this.update(),this.updateNavArrows()},setEndDate:function(e){this._process_options({endDate:e}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(e){this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows()},place:function(){if(!this.isInline){var t=this.picker.outerWidth(),n=this.picker.outerHeight(),i=10,s=o.width(),r=o.height(),a=o.scrollTop(),l=parseInt(this.element.parents().filter(function(){return"auto"!==e(this).css("z-index")}).first().css("z-index",900)),c=this.component?this.component.parent().offset():this.element.offset(),u=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),d=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),h=c.left,p=c.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(h-=t-d)):(this.picker.addClass("datepicker-orient-left"),c.left<0?h-=c.left-i:c.left+t>s&&(h=s-t-i));var f,m,g=this.o.orientation.y;"auto"===g&&(f=-a+c.top-n,m=a+r-(c.top+u+n),g=Math.max(f,m)===m?"top":"bottom"),this.picker.addClass("datepicker-orient-"+g),"top"===g?p+=u:p-=n+parseInt(this.picker.css("padding-top")),this.picker.css({top:p,left:h,zIndex:l})}},_allow_update:!0,update:function(){if(this._allow_update){var t=this.dates.copy(),n=[],i=!1;arguments.length?(e.each(arguments,e.proxy(function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),n.push(t)},this)),i=!0):(n=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),n=n&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=e.map(n,e.proxy(function(e){return m.parseDate(e,this.o.format,this.o.language)},this)),n=e.grep(n,e.proxy(function(e){return e<this.o.startDate||e>this.o.endDate||!e},this),!0),this.dates.replace(n),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),i?this.setValue():n.length&&String(t)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&t.length&&this._trigger("clearDate"),this.fill()}},fillDow:function(){var e=this.o.weekStart,t="<tr>";if(this.o.calendarWeeks){var n='<th class="cw">&nbsp;</th>';t+=n,this.picker.find(".datepicker-days thead tr:first-child").prepend(n)}for(;e<this.o.weekStart+7;)t+='<th class="dow">'+f[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var e="",t=0;12>t;)e+='<span class="month">'+f[this.o.language].monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(t){t&&t.length?this.range=e.map(t,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(t){var n=[],i=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),r=new Date;return t.getUTCFullYear()<i||t.getUTCFullYear()===i&&t.getUTCMonth()<s?n.push("old"):(t.getUTCFullYear()>i||t.getUTCFullYear()===i&&t.getUTCMonth()>s)&&n.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===r.getFullYear()&&t.getUTCMonth()===r.getMonth()&&t.getUTCDate()===r.getDate()&&n.push("today"),-1!==this.dates.contains(t)&&n.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||-1!==e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled))&&n.push("disabled"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&n.push("range"),-1!==e.inArray(t.valueOf(),this.range)&&n.push("selected")),n},fill:function(){var i,s=new Date(this.viewDate),r=s.getUTCFullYear(),a=s.getUTCMonth(),o=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,l=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,c=1/0!==this.o.endDate?this.o.endDate.getUTCFullYear():1/0,u=1/0!==this.o.endDate?this.o.endDate.getUTCMonth():1/0,d=f[this.o.language].today||f.en.today||"",h=f[this.o.language].clear||f.en.clear||"";this.picker.find(".datepicker-days thead th.datepicker-switch").text(f[this.o.language].months[a]+" "+r),this.picker.find("tfoot th.today").text(d).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(h).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var p=n(r,a-1,28),g=m.getDaysInMonth(p.getUTCFullYear(),p.getUTCMonth());p.setUTCDate(g),p.setUTCDate(g-(p.getUTCDay()-this.o.weekStart+7)%7);var v=new Date(p);v.setUTCDate(v.getUTCDate()+42),v=v.valueOf();for(var _,y=[];p.valueOf()<v;){if(p.getUTCDay()===this.o.weekStart&&(y.push("<tr>"),this.o.calendarWeeks)){var b=new Date(+p+(this.o.weekStart-p.getUTCDay()-7)%7*864e5),w=new Date(Number(b)+(11-b.getUTCDay())%7*864e5),x=new Date(Number(x=n(w.getUTCFullYear(),0,1))+(11-x.getUTCDay())%7*864e5),k=(w-x)/864e5/7+1;y.push('<td class="cw">'+k+"</td>")}if(_=this.getClassNames(p),_.push("day"),this.o.beforeShowDay!==e.noop){var S=this.o.beforeShowDay(this._utc_to_local(p));S===t?S={}:"boolean"==typeof S?S={enabled:S}:"string"==typeof S&&(S={classes:S}),S.enabled===!1&&_.push("disabled"),S.classes&&(_=_.concat(S.classes.split(/\s+/))),S.tooltip&&(i=S.tooltip)}_=e.unique(_),y.push('<td class="'+_.join(" ")+'"'+(i?' title="'+i+'"':"")+">"+p.getUTCDate()+"</td>"),p.getUTCDay()===this.o.weekEnd&&y.push("</tr>"),p.setUTCDate(p.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(y.join(""));var C=this.picker.find(".datepicker-months").find("th:eq(1)").text(r).end().find("span").removeClass("active");e.each(this.dates,function(e,t){t.getUTCFullYear()===r&&C.eq(t.getUTCMonth()).addClass("active")}),(o>r||r>c)&&C.addClass("disabled"),r===o&&C.slice(0,l).addClass("disabled"),r===c&&C.slice(u+1).addClass("disabled"),y="",r=10*parseInt(r/10,10);var T=this.picker.find(".datepicker-years").find("th:eq(1)").text(r+"-"+(r+9)).end().find("td");r-=1;for(var D,E=e.map(this.dates,function(e){return e.getUTCFullYear()}),F=-1;11>F;F++)D=["year"],-1===F?D.push("old"):10===F&&D.push("new"),-1!==e.inArray(r,E)&&D.push("active"),(o>r||r>c)&&D.push("disabled"),y+='<span class="'+D.join(" ")+'">'+r+"</span>",r+=1;T.html(y)},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),t=e.getUTCFullYear(),n=e.getUTCMonth();switch(this.viewMode){case 0:this.picker.find(".prev").css(this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&t>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?{visibility:"hidden"}:{visibility:"visible"});break;case 1:case 2:this.picker.find(".prev").css(this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"}),this.picker.find(".next").css(1/0!==this.o.endDate&&t>=this.o.endDate.getUTCFullYear()?{visibility:"hidden"}:{visibility:"visible"})}}},click:function(t){t.preventDefault();var i,s,r,a=e(t.target).closest("span, td, th");if(1===a.length)switch(a[0].nodeName.toLowerCase()){case"th":switch(a[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var o=m.modes[this.viewMode].navStep*("prev"===a[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,o),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,o),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var l=new Date;l=n(l.getFullYear(),l.getMonth(),l.getDate(),0,0,0),this.showMode(-2);var c="linked"===this.o.todayBtn?null:"view";this._setDate(l,c);break;case"clear":var u;this.isInput?u=this.element:this.component&&(u=this.element.find("input")),u&&u.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()}break;case"span":a.is(".disabled")||(this.viewDate.setUTCDate(1),a.is(".month")?(r=1,s=a.parent().find("span").index(a),i=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(s),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(n(i,s,r))):(r=1,s=0,i=parseInt(a.text(),10)||0,this.viewDate.setUTCFullYear(i),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(n(i,s,r))),this.showMode(-1),this.fill());break;case"td":a.is(".day")&&!a.is(".disabled")&&(r=parseInt(a.text(),10)||1,i=this.viewDate.getUTCFullYear(),s=this.viewDate.getUTCMonth(),a.is(".old")?0===s?(s=11,i-=1):s-=1:a.is(".new")&&(11===s?(s=0,i+=1):s+=1),this._setDate(n(i,s,r)))}this.picker.is(":visible")&&this._focused_from&&e(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e?-1!==t?this.dates.remove(t):this.dates.push(e):this.dates.clear(),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),t&&"view"!==t||(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),this._trigger("changeDate");var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&n.change(),!this.o.autoclose||t&&"date"!==t||this.hide()},moveMonth:function(e,n){if(!e)return t;if(!n)return e;var i,s,r=new Date(e.valueOf()),a=r.getUTCDate(),o=r.getUTCMonth(),l=Math.abs(n);if(n=n>0?1:-1,1===l)s=-1===n?function(){return r.getUTCMonth()===o}:function(){return r.getUTCMonth()!==i},i=o+n,r.setUTCMonth(i),(0>i||i>11)&&(i=(i+12)%12);else{for(var c=0;l>c;c++)r=this.moveMonth(r,n);i=r.getUTCMonth(),r.setUTCDate(a),s=function(){return i!==r.getUTCMonth()}}for(;s();)r.setUTCDate(--a),r.setUTCMonth(i);return r},moveYear:function(e,t){return this.moveMonth(e,12*t)},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(this.picker.is(":not(:visible)"))return void(27===e.keyCode&&this.show());var t,n,s,r=!1,a=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;t=37===e.keyCode?-1:1,e.ctrlKey?(n=this.moveYear(this.dates.get(-1)||i(),t),s=this.moveYear(a,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(n=this.moveMonth(this.dates.get(-1)||i(),t),s=this.moveMonth(a,t),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.dates.get(-1)||i()),n.setUTCDate(n.getUTCDate()+t),s=new Date(a),s.setUTCDate(a.getUTCDate()+t)),this.dateWithinRange(n)&&(this.focusDate=this.viewDate=s,this.setValue(),this.fill(),e.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;t=38===e.keyCode?-1:1,e.ctrlKey?(n=this.moveYear(this.dates.get(-1)||i(),t),s=this.moveYear(a,t),this._trigger("changeYear",this.viewDate)):e.shiftKey?(n=this.moveMonth(this.dates.get(-1)||i(),t),s=this.moveMonth(a,t),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.dates.get(-1)||i()),n.setUTCDate(n.getUTCDate()+7*t),s=new Date(a),s.setUTCDate(a.getUTCDate()+7*t)),this.dateWithinRange(n)&&(this.focusDate=this.viewDate=s,this.setValue(),this.fill(),e.preventDefault());break;case 32:break;case 13:a=this.focusDate||this.dates.get(-1)||this.viewDate,this._toggle_multidate(a),r=!0,this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(r){this._trigger(this.dates.length?"changeDate":"clearDate");var o;this.isInput?o=this.element:this.component&&(o=this.element.find("input")),o&&o.change()}},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+e))),this.picker.find(">div").hide().filter(".datepicker-"+m.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var u=function(t,n){this.element=e(t),this.inputs=e.map(n.inputs,function(e){return e.jquery?e[0]:e}),delete n.inputs,e(this.inputs).datepicker(n).bind("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e(t).data("datepicker")}),this.updateDates()};u.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,n){n.setRange(t)})},dateUpdated:function(t){if(!this.updating){this.updating=!0;var n=e(t.target).data("datepicker"),i=n.getUTCDate(),s=e.inArray(t.target,this.inputs),r=this.inputs.length;if(-1!==s){if(e.each(this.pickers,function(e,t){t.getUTCDate()||t.setUTCDate(i)}),i<this.dates[s])for(;s>=0&&i<this.dates[s];)this.pickers[s--].setUTCDate(i);else if(i>this.dates[s])for(;r>s&&i>this.dates[s];)this.pickers[s++].setUTCDate(i);this.updateDates(),delete this.updating}}},remove:function(){e.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}};var d=e.fn.datepicker;e.fn.datepicker=function(n){var i=Array.apply(null,arguments);i.shift();var s;return this.each(function(){var o=e(this),l=o.data("datepicker"),d="object"==typeof n&&n;if(!l){var p=r(this,"date"),f=e.extend({},h,p,d),m=a(f.language),g=e.extend({},h,m,p,d);if(o.is(".input-daterange")||g.inputs){var v={inputs:g.inputs||o.find("input").toArray()};o.data("datepicker",l=new u(this,e.extend(g,v)))}else o.data("datepicker",l=new c(this,g))}return"string"==typeof n&&"function"==typeof l[n]&&(s=l[n].apply(l,i),s!==t)?!1:void 0}),s!==t?s:this};var h=e.fn.datepicker.defaults={autoclose:!1,beforeShowDay:e.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},p=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=c;var f=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},m={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,m.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var t=e.replace(this.validParts,"\x00").split("\x00"),n=e.match(this.validParts);if(!t||!t.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:t,parts:n}},parseDate:function(i,s,r){function a(){var e=this.slice(0,h[u].length),t=h[u].slice(0,e.length);return e===t}if(!i)return t;if(i instanceof Date)return i;"string"==typeof s&&(s=m.parseFormat(s));var o,l,u,d=/([\-+]\d+)([dmwy])/,h=i.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(i)){for(i=new Date,u=0;u<h.length;u++)switch(o=d.exec(h[u]),l=parseInt(o[1]),o[2]){case"d":i.setUTCDate(i.getUTCDate()+l);break;case"m":i=c.prototype.moveMonth.call(c.prototype,i,l);break;case"w":i.setUTCDate(i.getUTCDate()+7*l);break;case"y":i=c.prototype.moveYear.call(c.prototype,i,l)}return n(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate(),0,0,0)}h=i&&i.match(this.nonpunctuation)||[],i=new Date;var p,g,v={},_=["yyyy","yy","M","MM","m","mm","d","dd"],y={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){if(isNaN(e))return e;for(t-=1;0>t;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};y.M=y.MM=y.mm=y.m,y.dd=y.d,i=n(i.getFullYear(),i.getMonth(),i.getDate(),0,0,0);var b=s.parts.slice();if(h.length!==b.length&&(b=e(b).filter(function(t,n){return-1!==e.inArray(n,_)}).toArray()),h.length===b.length){var w;for(u=0,w=b.length;w>u;u++){if(p=parseInt(h[u],10),o=b[u],isNaN(p))switch(o){case"MM":g=e(f[r].months).filter(a),p=e.inArray(g[0],f[r].months)+1;break;case"M":g=e(f[r].monthsShort).filter(a),p=e.inArray(g[0],f[r].monthsShort)+1}v[o]=p}var x,k;for(u=0;u<_.length;u++)k=_[u],k in v&&!isNaN(v[k])&&(x=new Date(i),y[k](x,v[k]),isNaN(x)||(i=x))}return i},formatDate:function(t,n,i){if(!t)return"";"string"==typeof n&&(n=m.parseFormat(n));var s={d:t.getUTCDate(),D:f[i].daysShort[t.getUTCDay()],DD:f[i].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:f[i].monthsShort[t.getUTCMonth()],MM:f[i].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};s.dd=(s.d<10?"0":"")+s.d,s.mm=(s.m<10?"0":"")+s.m,t=[];for(var r=e.extend([],n.separators),a=0,o=n.parts.length;o>=a;a++)r.length&&t.push(r.shift()),t.push(s[n.parts[a]]);return t.join("")},headTemplate:'<thead><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};m.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+m.headTemplate+"<tbody></tbody>"+m.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+m.headTemplate+m.contTemplate+m.footTemplate+"</table></div></div>",e.fn.datepicker.DPGlobal=m,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=d,this},e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var n=e(this);n.data("datepicker")||(t.preventDefault(),n.datepicker("show"))}),e(function(){e('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery),define("datepicker",["jquery"],function(e){return function(){var t;return t||e.datepicker}}(this)),function(e){e.fn.datepicker.dates["zh-CN"]={days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六","星期日"],daysShort:["周日","周一","周二","周三","周四","周五","周六","周日"],daysMin:["日","一","二","三","四","五","六","日"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthsShort:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],today:"今日",format:"yyyy年mm月dd日",weekStart:1}}(jQuery),define("datepickerCn",["jquery","datepicker"],function(e){return function(){var t;return t||e.datepickerCn}}(this)),define("plugins/datepicker",["jquery","datepicker","datepickerCn","config"],function(e,t,n,i){return{init:function(){for(var t=e(".date"),n=0;n<t.length;n++){var s=e(t[n]);s.datepicker({language:"zh-CN",format:i.dateFormats.date}).on("change",function(t){var n=e(t.target),i=n.data("beforeDate"),s=n.data("afterDate");e(i).datepicker("setStartDate",n.val()),e(s).datepicker("setEndDate",n.val())});var r=s.data("beforeDate"),a=s.data("afterDate");s.datepicker("setEndDate",e(r).val()),s.datepicker("setStartDate",e(a).val())}}}}),function(){var e=this,t=e._,n={},i=Array.prototype,s=Object.prototype,r=Function.prototype,a=i.push,o=i.slice,l=i.concat,c=s.toString,u=s.hasOwnProperty,d=i.forEach,h=i.map,p=i.reduce,f=i.reduceRight,m=i.filter,g=i.every,v=i.some,_=i.indexOf,y=i.lastIndexOf,b=Array.isArray,w=Object.keys,x=r.bind,k=function(e){return e instanceof k?e:this instanceof k?void(this._wrapped=e):new k(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=k),exports._=k):e._=k,k.VERSION="1.6.0";var S=k.each=k.forEach=function(e,t,i){if(null==e)return e;if(d&&e.forEach===d)e.forEach(t,i);else if(e.length===+e.length){for(var s=0,r=e.length;r>s;s++)if(t.call(i,e[s],s,e)===n)return}else for(var a=k.keys(e),s=0,r=a.length;r>s;s++)if(t.call(i,e[a[s]],a[s],e)===n)return;return e};k.map=k.collect=function(e,t,n){var i=[];return null==e?i:h&&e.map===h?e.map(t,n):(S(e,function(e,s,r){i.push(t.call(n,e,s,r))}),i)};var C="Reduce of empty array with no initial value";k.reduce=k.foldl=k.inject=function(e,t,n,i){var s=arguments.length>2;if(null==e&&(e=[]),p&&e.reduce===p)return i&&(t=k.bind(t,i)),s?e.reduce(t,n):e.reduce(t);if(S(e,function(e,r,a){s?n=t.call(i,n,e,r,a):(n=e,s=!0)}),!s)throw new TypeError(C);return n},k.reduceRight=k.foldr=function(e,t,n,i){var s=arguments.length>2;if(null==e&&(e=[]),f&&e.reduceRight===f)return i&&(t=k.bind(t,i)),s?e.reduceRight(t,n):e.reduceRight(t);var r=e.length;if(r!==+r){var a=k.keys(e);r=a.length}if(S(e,function(o,l,c){l=a?a[--r]:--r,s?n=t.call(i,n,e[l],l,c):(n=e[l],s=!0)}),!s)throw new TypeError(C);return n},k.find=k.detect=function(e,t,n){var i;return T(e,function(e,s,r){return t.call(n,e,s,r)?(i=e,!0):void 0}),i},k.filter=k.select=function(e,t,n){var i=[];return null==e?i:m&&e.filter===m?e.filter(t,n):(S(e,function(e,s,r){t.call(n,e,s,r)&&i.push(e)}),i)},k.reject=function(e,t,n){return k.filter(e,function(e,i,s){return!t.call(n,e,i,s)},n)},k.every=k.all=function(e,t,i){t||(t=k.identity);var s=!0;return null==e?s:g&&e.every===g?e.every(t,i):(S(e,function(e,r,a){return(s=s&&t.call(i,e,r,a))?void 0:n}),!!s)};var T=k.some=k.any=function(e,t,i){t||(t=k.identity);var s=!1;return null==e?s:v&&e.some===v?e.some(t,i):(S(e,function(e,r,a){return s||(s=t.call(i,e,r,a))?n:void 0}),!!s)};k.contains=k.include=function(e,t){return null==e?!1:_&&e.indexOf===_?-1!=e.indexOf(t):T(e,function(e){return e===t})},k.invoke=function(e,t){var n=o.call(arguments,2),i=k.isFunction(t);return k.map(e,function(e){return(i?t:e[t]).apply(e,n)})},k.pluck=function(e,t){return k.map(e,k.property(t))},k.where=function(e,t){return k.filter(e,k.matches(t))},k.findWhere=function(e,t){return k.find(e,k.matches(t))},k.max=function(e,t,n){if(!t&&k.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var i=-1/0,s=-1/0;return S(e,function(e,r,a){var o=t?t.call(n,e,r,a):e;o>s&&(i=e,s=o)}),i},k.min=function(e,t,n){if(!t&&k.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);var i=1/0,s=1/0;return S(e,function(e,r,a){var o=t?t.call(n,e,r,a):e;s>o&&(i=e,s=o)}),i},k.shuffle=function(e){var t,n=0,i=[];return S(e,function(e){t=k.random(n++),i[n-1]=i[t],i[t]=e}),i},k.sample=function(e,t,n){return null==t||n?(e.length!==+e.length&&(e=k.values(e)),e[k.random(e.length-1)]):k.shuffle(e).slice(0,Math.max(0,t))};var D=function(e){return null==e?k.identity:k.isFunction(e)?e:k.property(e)};k.sortBy=function(e,t,n){return t=D(t),k.pluck(k.map(e,function(e,i,s){return{value:e,index:i,criteria:t.call(n,e,i,s)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index-t.index}),"value")};var E=function(e){return function(t,n,i){var s={};return n=D(n),S(t,function(r,a){var o=n.call(i,r,a,t);e(s,o,r)}),s}};k.groupBy=E(function(e,t,n){k.has(e,t)?e[t].push(n):e[t]=[n]}),k.indexBy=E(function(e,t,n){e[t]=n}),k.countBy=E(function(e,t){k.has(e,t)?e[t]++:e[t]=1}),k.sortedIndex=function(e,t,n,i){n=D(n);for(var s=n.call(i,t),r=0,a=e.length;a>r;){var o=r+a>>>1;n.call(i,e[o])<s?r=o+1:a=o}return r},k.toArray=function(e){return e?k.isArray(e)?o.call(e):e.length===+e.length?k.map(e,k.identity):k.values(e):[]},k.size=function(e){return null==e?0:e.length===+e.length?e.length:k.keys(e).length},k.first=k.head=k.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:0>t?[]:o.call(e,0,t)},k.initial=function(e,t,n){return o.call(e,0,e.length-(null==t||n?1:t))},k.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:o.call(e,Math.max(e.length-t,0))},k.rest=k.tail=k.drop=function(e,t,n){return o.call(e,null==t||n?1:t)},k.compact=function(e){return k.filter(e,k.identity)};var F=function(e,t,n){return t&&k.every(e,k.isArray)?l.apply(n,e):(S(e,function(e){k.isArray(e)||k.isArguments(e)?t?a.apply(n,e):F(e,t,n):n.push(e)}),n)};k.flatten=function(e,t){return F(e,t,[])},k.without=function(e){return k.difference(e,o.call(arguments,1))},k.partition=function(e,t){var n=[],i=[];return S(e,function(e){(t(e)?n:i).push(e)}),[n,i]},k.uniq=k.unique=function(e,t,n,i){k.isFunction(t)&&(i=n,n=t,t=!1);var s=n?k.map(e,n,i):e,r=[],a=[];return S(s,function(n,i){(t?i&&a[a.length-1]===n:k.contains(a,n))||(a.push(n),r.push(e[i]))}),r},k.union=function(){return k.uniq(k.flatten(arguments,!0))},k.intersection=function(e){var t=o.call(arguments,1);return k.filter(k.uniq(e),function(e){return k.every(t,function(t){return k.contains(t,e)})})},k.difference=function(e){var t=l.apply(i,o.call(arguments,1));return k.filter(e,function(e){return!k.contains(t,e)})},k.zip=function(){for(var e=k.max(k.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;e>n;n++)t[n]=k.pluck(arguments,""+n);return t},k.object=function(e,t){if(null==e)return{};for(var n={},i=0,s=e.length;s>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},k.indexOf=function(e,t,n){if(null==e)return-1;var i=0,s=e.length;if(n){if("number"!=typeof n)return i=k.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,s+n):n}if(_&&e.indexOf===_)return e.indexOf(t,n);for(;s>i;i++)if(e[i]===t)return i;return-1},k.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=null!=n;if(y&&e.lastIndexOf===y)return i?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var s=i?n:e.length;s--;)if(e[s]===t)return s;return-1},k.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),s=0,r=new Array(i);i>s;)r[s++]=e,e+=n;return r};var I=function(){};
k.bind=function(e,t){var n,i;if(x&&e.bind===x)return x.apply(e,o.call(arguments,1));if(!k.isFunction(e))throw new TypeError;return n=o.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,n.concat(o.call(arguments)));I.prototype=e.prototype;var s=new I;I.prototype=null;var r=e.apply(s,n.concat(o.call(arguments)));return Object(r)===r?r:s}},k.partial=function(e){var t=o.call(arguments,1);return function(){for(var n=0,i=t.slice(),s=0,r=i.length;r>s;s++)i[s]===k&&(i[s]=arguments[n++]);for(;n<arguments.length;)i.push(arguments[n++]);return e.apply(this,i)}},k.bindAll=function(e){var t=o.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return S(t,function(t){e[t]=k.bind(e[t],e)}),e},k.memoize=function(e,t){var n={};return t||(t=k.identity),function(){var i=t.apply(this,arguments);return k.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},k.delay=function(e,t){var n=o.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},k.defer=function(e){return k.delay.apply(k,[e,1].concat(o.call(arguments,1)))},k.throttle=function(e,t,n){var i,s,r,a=null,o=0;n||(n={});var l=function(){o=n.leading===!1?0:k.now(),a=null,r=e.apply(i,s),i=s=null};return function(){var c=k.now();o||n.leading!==!1||(o=c);var u=t-(c-o);return i=this,s=arguments,0>=u?(clearTimeout(a),a=null,o=c,r=e.apply(i,s),i=s=null):a||n.trailing===!1||(a=setTimeout(l,u)),r}},k.debounce=function(e,t,n){var i,s,r,a,o,l=function(){var c=k.now()-a;t>c?i=setTimeout(l,t-c):(i=null,n||(o=e.apply(r,s),r=s=null))};return function(){r=this,s=arguments,a=k.now();var c=n&&!i;return i||(i=setTimeout(l,t)),c&&(o=e.apply(r,s),r=s=null),o}},k.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},k.wrap=function(e,t){return k.partial(t,e)},k.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},k.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},k.keys=function(e){if(!k.isObject(e))return[];if(w)return w(e);var t=[];for(var n in e)k.has(e,n)&&t.push(n);return t},k.values=function(e){for(var t=k.keys(e),n=t.length,i=new Array(n),s=0;n>s;s++)i[s]=e[t[s]];return i},k.pairs=function(e){for(var t=k.keys(e),n=t.length,i=new Array(n),s=0;n>s;s++)i[s]=[t[s],e[t[s]]];return i},k.invert=function(e){for(var t={},n=k.keys(e),i=0,s=n.length;s>i;i++)t[e[n[i]]]=n[i];return t},k.functions=k.methods=function(e){var t=[];for(var n in e)k.isFunction(e[n])&&t.push(n);return t.sort()},k.extend=function(e){return S(o.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},k.pick=function(e){var t={},n=l.apply(i,o.call(arguments,1));return S(n,function(n){n in e&&(t[n]=e[n])}),t},k.omit=function(e){var t={},n=l.apply(i,o.call(arguments,1));for(var s in e)k.contains(n,s)||(t[s]=e[s]);return t},k.defaults=function(e){return S(o.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},k.clone=function(e){return k.isObject(e)?k.isArray(e)?e.slice():k.extend({},e):e},k.tap=function(e,t){return t(e),e};var N=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof k&&(e=e._wrapped),t instanceof k&&(t=t._wrapped);var s=c.call(e);if(s!=c.call(t))return!1;switch(s){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var r=n.length;r--;)if(n[r]==e)return i[r]==t;var a=e.constructor,o=t.constructor;if(a!==o&&!(k.isFunction(a)&&a instanceof a&&k.isFunction(o)&&o instanceof o)&&"constructor"in e&&"constructor"in t)return!1;n.push(e),i.push(t);var l=0,u=!0;if("[object Array]"==s){if(l=e.length,u=l==t.length)for(;l--&&(u=N(e[l],t[l],n,i)););}else{for(var d in e)if(k.has(e,d)&&(l++,!(u=k.has(t,d)&&N(e[d],t[d],n,i))))break;if(u){for(d in t)if(k.has(t,d)&&!l--)break;u=!l}}return n.pop(),i.pop(),u};k.isEqual=function(e,t){return N(e,t,[],[])},k.isEmpty=function(e){if(null==e)return!0;if(k.isArray(e)||k.isString(e))return 0===e.length;for(var t in e)if(k.has(e,t))return!1;return!0},k.isElement=function(e){return!(!e||1!==e.nodeType)},k.isArray=b||function(e){return"[object Array]"==c.call(e)},k.isObject=function(e){return e===Object(e)},S(["Arguments","Function","String","Number","Date","RegExp"],function(e){k["is"+e]=function(t){return c.call(t)=="[object "+e+"]"}}),k.isArguments(arguments)||(k.isArguments=function(e){return!(!e||!k.has(e,"callee"))}),"function"!=typeof/./&&(k.isFunction=function(e){return"function"==typeof e}),k.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},k.isNaN=function(e){return k.isNumber(e)&&e!=+e},k.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==c.call(e)},k.isNull=function(e){return null===e},k.isUndefined=function(e){return void 0===e},k.has=function(e,t){return u.call(e,t)},k.noConflict=function(){return e._=t,this},k.identity=function(e){return e},k.constant=function(e){return function(){return e}},k.property=function(e){return function(t){return t[e]}},k.matches=function(e){return function(t){if(t===e)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},k.times=function(e,t,n){for(var i=Array(Math.max(0,e)),s=0;e>s;s++)i[s]=t.call(n,s);return i},k.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},k.now=Date.now||function(){return(new Date).getTime()};var A={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};A.unescape=k.invert(A.escape);var L={escape:new RegExp("["+k.keys(A.escape).join("")+"]","g"),unescape:new RegExp("("+k.keys(A.unescape).join("|")+")","g")};k.each(["escape","unescape"],function(e){k[e]=function(t){return null==t?"":(""+t).replace(L[e],function(t){return A[e][t]})}}),k.result=function(e,t){if(null==e)return void 0;var n=e[t];return k.isFunction(n)?n.call(e):n},k.mixin=function(e){S(k.functions(e),function(t){var n=k[t]=e[t];k.prototype[t]=function(){var e=[this._wrapped];return a.apply(e,arguments),R.call(this,n.apply(k,e))}})};var U=0;k.uniqueId=function(e){var t=++U+"";return e?e+t:t},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var O=/(.)^/,M={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;k.template=function(e,t,n){var i;n=k.defaults({},n,k.templateSettings);var s=new RegExp([(n.escape||O).source,(n.interpolate||O).source,(n.evaluate||O).source].join("|")+"|$","g"),r=0,a="__p+='";e.replace(s,function(t,n,i,s,o){return a+=e.slice(r,o).replace(j,function(e){return"\\"+M[e]}),n&&(a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(a+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),s&&(a+="';\n"+s+"\n__p+='"),r=o+t.length,t}),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{i=new Function(n.variable||"obj","_",a)}catch(o){throw o.source=a,o}if(t)return i(t,k);var l=function(e){return i.call(this,e,k)};return l.source="function("+(n.variable||"obj")+"){\n"+a+"}",l},k.chain=function(e){return k(e).chain()};var R=function(e){return this._chain?k(e).chain():e};k.mixin(k),S(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];k.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],R.call(this,n)}}),S(["concat","join","slice"],function(e){var t=i[e];k.prototype[e]=function(){return R.call(this,t.apply(this._wrapped,arguments))}}),k.extend(k.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}}),"function"==typeof define&&define.amd&&define("underscore",[],function(){return k})}.call(this),define("_",function(e){return function(){var t;return t||e._}}(this)),function(e,t){if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(n,i,s){e.Backbone=t(e,s,n,i)});else if("undefined"!=typeof exports){var n=require("underscore");t(e,exports,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,n,i){{var s=e.Backbone,r=[],a=(r.push,r.slice);r.splice}t.VERSION="1.1.2",t.$=i,t.noConflict=function(){return e.Backbone=s,this},t.emulateHTTP=!1,t.emulateJSON=!1;var o=t.Events={on:function(e,t,n){if(!c(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,i){if(!c(this,"once",e,[t,i])||!t)return this;var s=this,r=n.once(function(){s.off(e,r),t.apply(this,arguments)});return r._callback=t,this.on(e,r,i)},off:function(e,t,i){var s,r,a,o,l,u,d,h;if(!this._events||!c(this,"off",e,[t,i]))return this;if(!e&&!t&&!i)return this._events=void 0,this;for(o=e?[e]:n.keys(this._events),l=0,u=o.length;u>l;l++)if(e=o[l],a=this._events[e]){if(this._events[e]=s=[],t||i)for(d=0,h=a.length;h>d;d++)r=a[d],(t&&t!==r.callback&&t!==r.callback._callback||i&&i!==r.context)&&s.push(r);s.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=a.call(arguments,1);if(!c(this,"trigger",e,t))return this;var n=this._events[e],i=this._events.all;return n&&u(n,t),i&&u(i,arguments),this},stopListening:function(e,t,i){var s=this._listeningTo;if(!s)return this;var r=!t&&!i;i||"object"!=typeof t||(i=this),e&&((s={})[e._listenId]=e);for(var a in s)e=s[a],e.off(t,i,this),(r||n.isEmpty(e._events))&&delete this._listeningTo[a];return this}},l=/\s+/,c=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(var s in n)e[t].apply(e,[s,n[s]].concat(i));return!1}if(l.test(n)){for(var r=n.split(l),a=0,o=r.length;o>a;a++)e[t].apply(e,[r[a]].concat(i));return!1}return!0},u=function(e,t){var n,i=-1,s=e.length,r=t[0],a=t[1],o=t[2];switch(t.length){case 0:for(;++i<s;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<s;)(n=e[i]).callback.call(n.ctx,r);return;case 2:for(;++i<s;)(n=e[i]).callback.call(n.ctx,r,a);return;case 3:for(;++i<s;)(n=e[i]).callback.call(n.ctx,r,a,o);return;default:for(;++i<s;)(n=e[i]).callback.apply(n.ctx,t);return}},d={listenTo:"on",listenToOnce:"once"};n.each(d,function(e,t){o[t]=function(t,i,s){var r=this._listeningTo||(this._listeningTo={}),a=t._listenId||(t._listenId=n.uniqueId("l"));return r[a]=t,s||"object"!=typeof i||(s=this),t[e](i,s,this),this}}),o.bind=o.on,o.unbind=o.off,n.extend(t,o);var h=t.Model=function(e,t){var i=e||{};t||(t={}),this.cid=n.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(i=this.parse(i,t)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(h.prototype,o,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,i){var s,r,a,o,l,c,u,d;if(null==e)return this;if("object"==typeof e?(r=e,i=t):(r={})[e]=t,i||(i={}),!this._validate(r,i))return!1;a=i.unset,l=i.silent,o=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=n.clone(this.attributes),this.changed={}),d=this.attributes,u=this._previousAttributes,this.idAttribute in r&&(this.id=r[this.idAttribute]);for(s in r)t=r[s],n.isEqual(d[s],t)||o.push(s),n.isEqual(u[s],t)?delete this.changed[s]:this.changed[s]=t,a?delete d[s]:d[s]=t;if(!l){o.length&&(this._pending=i);for(var h=0,p=o.length;p>h;h++)this.trigger("change:"+o[h],this,d[o[h]],i)}if(c)return this;if(!l)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t,i=!1,s=this._changing?this._previousAttributes:this.attributes;for(var r in e)n.isEqual(s[r],t=e[r])||((i||(i={}))[r]=t);return i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=e?n.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,i=e.success;return e.success=function(n){return t.set(t.parse(n,e),e)?(i&&i(t,n,e),void t.trigger("sync",t,n,e)):!1},j(this,e),this.sync("read",this,e)},save:function(e,t,i){var s,r,a,o=this.attributes;if(null==e||"object"==typeof e?(s=e,i=t):(s={})[e]=t,i=n.extend({validate:!0},i),s&&!i.wait){if(!this.set(s,i))return!1}else if(!this._validate(s,i))return!1;s&&i.wait&&(this.attributes=n.extend({},o,s)),void 0===i.parse&&(i.parse=!0);var l=this,c=i.success;return i.success=function(e){l.attributes=o;var t=l.parse(e,i);return i.wait&&(t=n.extend(s||{},t)),n.isObject(t)&&!l.set(t,i)?!1:(c&&c(l,e,i),void l.trigger("sync",l,e,i))},j(this,i),r=this.isNew()?"create":i.patch?"patch":"update","patch"===r&&(i.attrs=s),a=this.sync(r,this,i),s&&i.wait&&(this.attributes=o),a},destroy:function(e){e=e?n.clone(e):{};var t=this,i=e.success,s=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(n){(e.wait||t.isNew())&&s(),i&&i(t,n,e),t.isNew()||t.trigger("sync",t,n,e)},this.isNew())return e.success(),!1;j(this,e);var r=this.sync("delete",this,e);return e.wait||s(),r},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||M();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return i?(this.trigger("invalid",this,i,n.extend(t,{validationError:i})),!1):!0}});var p=["keys","values","pairs","invert","pick","omit"];n.each(p,function(e){h.prototype[e]=function(){var t=a.call(arguments);return t.unshift(this.attributes),n[e].apply(n,t)}});var f=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},m={add:!0,remove:!0,merge:!0},g={add:!0,remove:!1};n.extend(f.prototype,o,{model:h,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,g))},remove:function(e,t){var i=!n.isArray(e);e=i?[e]:n.clone(e),t||(t={});var s,r,a,o;for(s=0,r=e.length;r>s;s++)o=e[s]=this.get(e[s]),o&&(delete this._byId[o.id],delete this._byId[o.cid],a=this.indexOf(o),this.models.splice(a,1),this.length--,t.silent||(t.index=a,o.trigger("remove",o,this,t)),this._removeReference(o,t));return i?e[0]:e},set:function(e,t){t=n.defaults({},t,m),t.parse&&(e=this.parse(e,t));var i=!n.isArray(e);e=i?e?[e]:[]:n.clone(e);var s,r,a,o,l,c,u,d=t.at,p=this.model,f=this.comparator&&null==d&&t.sort!==!1,g=n.isString(this.comparator)?this.comparator:null,v=[],_=[],y={},b=t.add,w=t.merge,x=t.remove,k=!f&&b&&x?[]:!1;for(s=0,r=e.length;r>s;s++){if(l=e[s]||{},a=l instanceof h?o=l:l[p.prototype.idAttribute||"id"],c=this.get(a))x&&(y[c.cid]=!0),w&&(l=l===o?o.attributes:l,t.parse&&(l=c.parse(l,t)),c.set(l,t),f&&!u&&c.hasChanged(g)&&(u=!0)),e[s]=c;else if(b){if(o=e[s]=this._prepareModel(l,t),!o)continue;v.push(o),this._addReference(o,t)}o=c||o,!k||!o.isNew()&&y[o.id]||k.push(o),y[o.id]=!0}if(x){for(s=0,r=this.length;r>s;++s)y[(o=this.models[s]).cid]||_.push(o);_.length&&this.remove(_,t)}if(v.length||k&&k.length)if(f&&(u=!0),this.length+=v.length,null!=d)for(s=0,r=v.length;r>s;s++)this.models.splice(d+s,0,v[s]);else{k&&(this.models.length=0);var S=k||v;for(s=0,r=S.length;r>s;s++)this.models.push(S[s])}if(u&&this.sort({silent:!0}),!t.silent){for(s=0,r=v.length;r>s;s++)(o=v[s]).trigger("add",o,this,t);(u||k&&k.length)&&this.trigger("sort",this,t)}return i?e[0]:e},reset:function(e,t){t||(t={});for(var i=0,s=this.models.length;s>i;i++)this._removeReference(this.models[i],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return a.apply(this.models,arguments)},get:function(e){return null==e?void 0:this._byId[e]||this._byId[e.id]||this._byId[e.cid]},at:function(e){return this.models[e]},where:function(e,t){return n.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=e?n.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,i=this;return e.success=function(n){var s=e.reset?"reset":"set";i[s](n,e),t&&t(i,n,e),i.trigger("sync",i,n,e)},j(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?n.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var i=this,s=t.success;return t.success=function(e,n){t.wait&&i.add(e,t),s&&s(e,n,t)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof h)return e;t=t?n.clone(t):{},t.collection=this;var i=new this.model(e,t);return i.validationError?(this.trigger("invalid",this,i.validationError,t),!1):i},_addReference:function(e){this._byId[e.cid]=e,null!=e.id&&(this._byId[e.id]=e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,i),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var v=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.each(v,function(e){f.prototype[e]=function(){var t=a.call(arguments);return t.unshift(this.models),n[e].apply(n,t)}});var _=["groupBy","countBy","sortBy","indexBy"];n.each(_,function(e){f.prototype[e]=function(t,i){var s=n.isFunction(t)?t:function(e){return e.get(t)};return n[e](this.models,s,i)}});var y=t.View=function(e){this.cid=n.uniqueId("view"),e||(e={}),n.extend(this,n.pick(e,w)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},b=/^(\S+)\s*(.*)$/,w=["model","collection","el","id","attributes","className","tagName","events"];n.extend(y.prototype,o,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=n.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var i=e[t];if(n.isFunction(i)||(i=this[e[t]]),i){var s=t.match(b),r=s[1],a=s[2];i=n.bind(i,this),r+=".delegateEvents"+this.cid,""===a?this.$el.on(r,i):this.$el.on(r,a,i)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className"));var i=t.$("<"+n.result(this,"tagName")+">").attr(e);this.setElement(i,!1)}}}),t.sync=function(e,i,s){var r=k[e];n.defaults(s||(s={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var a={type:r,dataType:"json"};if(s.url||(a.url=n.result(i,"url")||M()),null!=s.data||!i||"create"!==e&&"update"!==e&&"patch"!==e||(a.contentType="application/json",a.data=JSON.stringify(s.attrs||i.toJSON(s))),s.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),s.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){a.type="POST",s.emulateJSON&&(a.data._method=r);var o=s.beforeSend;s.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",r),o?o.apply(this,arguments):void 0}}"GET"===a.type||s.emulateJSON||(a.processData=!1),"PATCH"===a.type&&x&&(a.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var l=s.xhr=t.ajax(n.extend(a,s));return i.trigger("request",i,l,s),l};var x=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),k={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var S=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},C=/\((.*?)\)/g,T=/(\(\?)?:\w+/g,D=/\*\w+/g,E=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(S.prototype,o,{initialize:function(){},route:function(e,i,s){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(i)&&(s=i,i=""),s||(s=this[i]);var r=this;return t.history.route(e,function(n){var a=r._extractParameters(e,n);r.execute(s,a),r.trigger.apply(r,["route:"+i].concat(a)),r.trigger("route",i,a),t.history.trigger("route",r,i,a)}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(E,"\\$&").replace(C,"(?:$1)?").replace(T,function(e,t){return t?e:"([^/?]+)"}).replace(D,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return n.map(i,function(e,t){return t===i.length-1?e||null:e?decodeURIComponent(e):null})}});var F=t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},I=/^[#\/]|\s+$/g,N=/^\/+|\/+$/g,A=/msie [\w.]+/,L=/\/$/,U=/#.*$/;F.started=!1,n.extend(F.prototype,o,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(L,"");e.indexOf(n)||(e=e.slice(n.length))}else e=this.getHash();return e.replace(I,"")},start:function(e){if(F.started)throw new Error("Backbone.history has already been started");F.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=this.getFragment(),s=document.documentMode,r=A.exec(navigator.userAgent.toLowerCase())&&(!s||7>=s);if(this.root=("/"+this.root+"/").replace(N,"/"),r&&this._wantsHashChange){var a=t.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=a.hide().appendTo("body")[0].contentWindow,this.navigate(i)}this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=i;var o=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&o.hash&&(this.fragment=this.getHash().replace(I,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),F.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(e){return e=this.fragment=this.getFragment(e),n.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})},navigate:function(e,t){if(!F.started)return!1;t&&t!==!0||(t={trigger:!!t});var n=this.root+(e=this.getFragment(e||""));if(e=e.replace(U,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),t.history=new F;var O=function(e,t){var i,s=this;i=e&&n.has(e,"constructor")?e.constructor:function(){return s.apply(this,arguments)},n.extend(i,s,t);var r=function(){this.constructor=i};return r.prototype=s.prototype,i.prototype=new r,e&&n.extend(i.prototype,e),i.__super__=s.prototype,i};h.extend=f.extend=S.extend=y.extend=F.extend=O;var M=function(){throw new Error('A "url" property or function must be specified')},j=function(e,t){var n=t.error;t.error=function(i){n&&n(e,i,t),e.trigger("error",e,i,t)}};return t}),define("plugins/models",["backbone","_"],function(e,t){var n=e.Model.extend({defaults:{selected:!1,disabled:!1},isSelected:function(){return this.get("selected")},isDisabled:function(){return this.get("disabled")},disable:function(){this.set("disabled",!0),this.collection.trigger("itemDisabled",this)},enable:function(){this.set("disabled",!1),this.collection.trigger("itemEnabled",this)},select:function(){var e=arguments.length>0?arguments[0]:!0;this.collection.clearSelected(),this.set("selected",!0),e&&this.collection.trigger("selectChanged",this)},deselect:function(){this.set("selected",!1)}}),i=e.Collection.extend({model:n,pageSize:16,currentSelected:function(){return t.find(this.models,function(e){return e.isSelected()})},clearSelected:function(){t.each(this.models,function(e){e.isSelected()&&e.deselect()})},disableById:function(e){var t=this.findById(e);t&&t.disable()},enableById:function(e){var t=this.findById(e);t&&t.enable()},selectById:function(e,t){t=arguments.length>1?arguments[1]:!0;var n=this.findById(e);n&&n.select(t)},findById:function(e){return t.find(this.models,function(t){return t.get("id")==e})},locateCurrent:function(){var e=this.currentSelected();if(e)return this.locate(e.get("id"))},locate:function(e){if(!e)return 1;var n=this.findById(e);if(n){var i=t.indexOf(this.models,n);return Math.ceil((i+1)/this.pageSize)}return 1},pageAt:function(e){var n=this.models.length,i=this.pageSize;if(i>=n)return this.currentPage=1,this.models;var s=Math.ceil(n/i);1>e&&(e=1),e>s&&(e=s);var r=(e-1)*i,a=r+i;return a>n&&(a=n),this.currentPage=e,t.map(this.models.slice(r,a),function(e){return e})},isLastPage:function(){var e=this.models.length,t=this.pageSize;if(t>=e)return!0;var n=Math.ceil(e/t);return this.currentPage==n},isFirstPage:function(){return this.currentPage<=1},nextPage:function(){return this.pageAt(this.currentPage+1)},prevPage:function(){return this.pageAt(this.currentPage-1)},search:function(e){return $.isFunction(e)?t.map(t.filter(this.models,function(t){return e(t)}),function(e){return e.toJSON()}):[]}}),s=n.extend({defaults:{selected:!1,disabled:!1},select:function(){var e=arguments.length>0?arguments[0]:!0;this.set("selected",!0),e&&this.collection.trigger("selectChanged",this)}}),r=i.extend({model:s,currentSelected:function(){return t.filter(this.models,function(e){return e.isSelected()})},selectAll:function(){t.each(this.models,function(e){e.select()})}});return{List:i,Item:n,MultipleSelectItem:s,MultipleSelectList:r}}),define("hbs!plugins/template/regions",["handlebars"],function(e){return e.template(function(e,t,n,i,s){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{},'<div class="prev"><a href="javascript:void(0);">&lt;&lt;</a></div>\r\n<p class="reglist"></p>\r\n<div class="next"><a href="javascript:void(0);">&gt;&gt;</a></div>'})}),define("hbs!plugins/template/region",["handlebars"],function(e){return e.template(function(e,t,n,i,s){function r(){return"class='selected'"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var a,o,l,c="",u="function",d=this.escapeExpression,h=this,p=n.blockHelperMissing;return c+='<a title="',(o=n.name)?a=o.call(t,{hash:{},data:s}):(o=t&&t.name,a=typeof o===u?o.call(t,{hash:{},data:s}):o),c+=d(a)+'" href="javascript:void(0);" data-region-id="',(o=n.id)?a=o.call(t,{hash:{},data:s}):(o=t&&t.id,a=typeof o===u?o.call(t,{hash:{},data:s}):o),c+=d(a)+'"\r\n',l={hash:{},inverse:h.noop,fn:h.program(1,r,s),data:s},(o=n.selected)?a=o.call(t,l):(o=t&&t.selected,a=typeof o===u?o.call(t,l):o),n.selected||(a=p.call(t,a,{hash:{},inverse:h.noop,fn:h.program(1,r,s),data:s})),(a||0===a)&&(c+=a),c+=">",(o=n.name)?a=o.call(t,{hash:{},data:s}):(o=t&&t.name,a=typeof o===u?o.call(t,{hash:{},data:s}):o),c+=d(a)+"</a>"})}),define("hbs!plugins/template/tab",["handlebars"],function(e){return e.template(function(e,t,n,i,s){function r(){return"selected"}function a(){return"disabled"}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l,c,u="",d=this,h="function",p=n.blockHelperMissing,f=this.escapeExpression;return u+='<a href="javascript:void(0);" class="',c={hash:{},inverse:d.noop,fn:d.program(1,r,s),data:s},(l=n.selected)?o=l.call(t,c):(l=t&&t.selected,o=typeof l===h?l.call(t,c):l),n.selected||(o=p.call(t,o,{hash:{},inverse:d.noop,fn:d.program(1,r,s),data:s})),(o||0===o)&&(u+=o),c={hash:{},inverse:d.noop,fn:d.program(3,a,s),data:s},(l=n.disabled)?o=l.call(t,c):(l=t&&t.disabled,o=typeof l===h?l.call(t,c):l),n.disabled||(o=p.call(t,o,{hash:{},inverse:d.noop,fn:d.program(3,a,s),data:s})),(o||0===o)&&(u+=o),u+='">',(l=n.name)?o=l.call(t,{hash:{},data:s}):(l=t&&t.name,o=typeof l===h?l.call(t,{hash:{},data:s}):l),u+=f(o)+"</a>\r\n\r\n"
})}),define("hbs!plugins/template/dropdown",["handlebars"],function(e){return e.template(function(e,t,n,i,s){function r(e,t,i){var s,r,o,l="";return l+='\r\n    <a href="javascript:void(0)" data-region-id="',(r=n.id)?s=r.call(e,{hash:{},data:t}):(r=e&&e.id,s=typeof r===c?r.call(e,{hash:{},data:t}):r),l+=u(s)+'">',r=n.highlight||e&&e.highlight,o={hash:{},inverse:d.noop,fn:d.program(2,a,t),data:t},s=r?r.call(e,(s=e&&e.parent,null==s||s===!1?s:s.name),i&&i.keyword,o):h.call(e,"highlight",(s=e&&e.parent,null==s||s===!1?s:s.name),i&&i.keyword,o),(s||0===s)&&(l+=s),l+="-",r=n.highlight||e&&e.highlight,o={hash:{},inverse:d.noop,fn:d.program(2,a,t),data:t},s=r?r.call(e,e&&e.name,i&&i.keyword,o):h.call(e,"highlight",e&&e.name,i&&i.keyword,o),(s||0===s)&&(l+=s),l+="(",r=n.highlight||e&&e.highlight,o={hash:{},inverse:d.noop,fn:d.program(2,a,t),data:t},s=r?r.call(e,e&&e.pinyin,i&&i.keyword,o):h.call(e,"highlight",e&&e.pinyin,i&&i.keyword,o),(s||0===s)&&(l+=s),l+=")</a>\r\n"}function a(){var e="";return e}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l="",c="function",u=this.escapeExpression,d=this,h=n.helperMissing;return l+='<p class="suglist">\r\n',o=n.each.call(t,t&&t.regions,{hash:{},inverse:d.noop,fn:d.programWithDepth(1,r,s,t),data:s}),(o||0===o)&&(l+=o),l+="\r\n</p>"})}),define("plugins/citySelector",["jquery","config","backbone","_","json3","plugins/models","hbs!plugins/template/regions","hbs!plugins/template/region","hbs!plugins/template/tab","hbs!plugins/template/dropdown"],function(e,t,n,i,s,r,a,o,l,c){var u=38,d=40,h=13,p=1,f=e(".citySelector");if(!f&&f.length<1)return{init:function(){}};for(var m=n.View.extend({events:{click:"click",keyup:"keyup"},rendered:!1,initialize:function(e){this.citySelectorContainerView=e.citySelectorContainerView,this.citySuggestionView=e.citySuggestionView,this.suggestionRegions=e.suggestionRegions,this.areasRegions=e.areasRegions,this.tabs=e.tabs,this.suggestionRegions.on("selectChanged",i.bind(this.suggestionSelected,this)),this.areasRegions.on("selectChanged",i.bind(this.areasSelected,this)),this.show=i.throttle(this.show,500)},areasSelected:function(e){this.updateInput(e.toJSON())},suggestionSelected:function(e){"cities"==e.get("type")&&(this.showSelector(),this.tabs.selectById("areas")),this.updateInput(e.toJSON())},updateInput:function(t){for(var n=[],i=t;i;)n.push(i.name),i=i.parent;var s=e(this.el);s.val(n.reverse().join("-"));var r=s.attr("name")||s.data("name");if(!r)throw Error("input NAME must be specified");s.removeAttr("name").data("name",r);var a=e("[name='"+r+"']");a&&0==a.length?e("<input type='hidden' name='"+r+"' value='"+t.id+"'>").insertAfter(s):a.val(t.id)},showSuggestion:function(){this.citySelectorContainerView.hide(),this.citySuggestionView.search(this.$el.val()),this.citySuggestionView.show(),this.citySuggestionView.positionBelow(this.$el)},showSelector:function(){this.citySuggestionView.hide(),this.citySelectorContainerView.show(),this.citySelectorContainerView.positionBelow(this.$el)},click:function(t){t.preventDefault(),t.stopPropagation(),this.render();var n=e(t.target).val();if(n&&n.length>0){var i=n.split("-"),s=i[i.length-1],r=this.suggestionRegions.search(this.searchByNameType(s,"cities"));r&&1==r.length?this.suggestionRegions.selectById(r[0].id):this.showSuggestion()}else this.tabs.reset(E),this.showSelector();return e(".citySelector ").each(function(n,i){var s=e(i).data("cityobj");i.id!=e(t.target).attr("id")&&s.hide()}),!1},keyup:function(e){switch(e.preventDefault(),e.stopPropagation(),this.render(),e.which){case u:this.up();break;case d:this.down();break;case h:this.enter();break;default:this.clearHideValue(),this.show()}return!1},down:function(){this.citySuggestionView.down()},enter:function(){this.citySuggestionView.choseRegion()},up:function(){this.citySuggestionView.up()},render:function(){this.rendered||(this.citySuggestionView.$el.insertAfter(this.$el),this.citySuggestionView.render(),this.citySelectorContainerView.$el.insertAfter(this.$el),this.citySelectorContainerView.render(),this.rendered=!0)},searchByNameType:function(e,t){return function(n){return n.get("name").toLowerCase()==e.toLowerCase()&&n.get("type")==t}},hasContent:function(){var e=this.$el.val();return null!=e&&e.length>=p},show:function(){var e=this.hasContent();e?this.showSuggestion():this.showSelector()},hide:function(){this.citySuggestionView&&this.citySuggestionView.hide(),this.citySelectorContainerView&&this.citySelectorContainerView.hide()},clearHideValue:function(){e("[name='"+this.$el.data("name")+"']").val("")}}),g=n.View.extend({className:"citysuggest",template:c,events:{"click a":"click"},initialize:function(){},click:function(t){t.preventDefault(),t.stopPropagation();var n=e(t.target);return this.model.selectById(n.data("regionId")),this.clearActive(),n.addClass("active"),!1},up:function(){var e=this.$("a.active");if(this.clearActive(),0==e.length)this.$("a:last").addClass("active");else{var t=e.prev();0==t.length?this.$("a:last").addClass("active"):e.prev().addClass("active")}},down:function(){var e=this.$("a.active");if(this.clearActive(),0==e.length)this.$("a:first").addClass("active");else{var t=e.next();0==t.length?this.$("a:first").addClass("active"):e.next().addClass("active")}},choseRegion:function(){var e=this.$("a.active");this.model.selectById(e.data("regionId"))},clearActive:function(){this.$el.find("a.active").removeClass("active")},processKeyWord:function(e){var t=e.split("-");return t[t.length-1]},searchByNameAndPinyin:function(e){return function(t){return t.get("name").toLowerCase().indexOf(e.toLowerCase())>=0||t.get("pinyin").toLowerCase().indexOf(e.toLowerCase())>=0}},search:function(e){if(e){var t=this.processKeyWord(e);if(t&&t.length>=p){var n=this.model.search(this.searchByNameAndPinyin(t));if(!n||0==n.length)return void this.hide();this.$el.html(this.template({regions:n,keyword:t}))}}},positionBelow:function(e){var t=e.position().top,n=e.position().left,i=e.outerHeight();this.$el.css({left:n,top:t+i})},hide:function(){this.$el.hide()},show:function(){this.$el.show()},isHidden:function(){return this.$el.is(":hidden")},setValue:function(e){return this.model.selectById(e),!1}}),v=n.View.extend({className:"cityselect",initialize:function(e){this.tabsView=e.tabsView,this.regionsContainerView=e.regionsContainerView,this.areasRegions=e.areasRegions},render:function(){this.$el.empty(),this.$el.append(this.tabsView.render().$el),this.$el.append(this.regionsContainerView.render().$el)},positionBelow:function(e){var t=e.position().top,n=e.position().left,i=e.outerHeight();this.$el.css({left:n,top:t+i})},hide:function(){this.$el.hide()},show:function(){this.$el.show()},isHidden:function(){return this.$el.is(":hidden")}}),_=n.View.extend({tagName:"p",className:"tabs",initialize:function(){this.model.on("reset",i.bind(this.render,this))},render:function(){var e=this;return this.$el.empty(),i.each(this.model.models,function(t){var n=new y({model:t});e.$el.append(n.render().$el)}),e=null,this}}),y=n.View.extend({template:l,events:{"click a":"changeTab"},initialize:function(){this.model.on("change",i.bind(this.render,this))},render:function(){return this.$el.html(this.template(this.model.toJSON())),this},changeTab:function(e){return e.preventDefault(),e.stopPropagation(),this.model.isDisabled()||this.model.select(),!1}}),b=n.View.extend({template:o,initialize:function(){this.model.on("change:selected",i.bind(this.render,this))},render:function(){return this.$el.html(this.template(this.model.toJSON())),this}}),w=n.View.extend({className:"regions",template:a,events:{"click .prev a":"prevPage","click .next a":"nextPage","click .reglist a":"choseRegion"},initialize:function(e){this.tabs=e.tabs,this.selected=e.selected,this.model.on("reset",i.bind(this.render,this)),this.model.on("sync",i.bind(this.render,this))},choseRegion:function(t){return t.preventDefault(),t.stopPropagation(),this.model.selectById(e(t.target).data("regionId")),!1},turnToPage:function(e){this.renderPage(this.model.pageAt(e))},nextPage:function(e){return e.preventDefault(),e.stopPropagation(),this.renderPage(this.model.nextPage()),!1},prevPage:function(e){return e.preventDefault(),e.stopPropagation(),this.renderPage(this.model.prevPage()),!1},render:function(){return this.$el.html(this.template()),this.$regions=this.$el.find(".reglist"),this.selected?this.show():this.hide(),this.turnToPage(this.model.locateCurrent()||1),this},renderPage:function(e){var t=this;this.$regions.empty(),i.each(e,function(e){var n=new b({model:e});t.$regions.append(n.render().$el)}),this.model.isLastPage()?this.$el.find(".next").addClass("disabled"):this.$el.find(".next").removeClass("disabled"),this.model.isFirstPage()?this.$el.find(".prev").addClass("disabled"):this.$el.find(".prev").removeClass("disabled"),t=null},hide:function(){this.$el.hide()},show:function(){this.turnToPage(this.model.locateCurrent()||1),this.$el.show()}}),x=r.Item.extend({initialize:function(){}}),k=r.List.extend({model:x,initialize:function(){}}),S=r.Item.extend({initialize:function(){}}),C=r.List.extend({model:S,initialize:function(){this.pageSize=14,this.currentPage=1}}),T=[],D=0;100>D;D++)T[D]={prefix:"hotCity",id:D,name:"热门"+D};var E=[{id:"hotCities",name:"热门城市",disabled:!1,selected:!0},{id:"provinces",name:"省份",disabled:!1},{id:"cities",name:"城市",disabled:!0},{id:"areas",name:"区县",disabled:!0}],F=window.allRegion,I=F.provinces,N=F.citiesMap,A=F.areasMap,L=n.View.extend({initialize:function(e){this.hotCitiesRegions=e.hotCitiesRegions,this.provincesRegions=e.provincesRegions,this.citiesRegions=e.citiesRegions,this.areasRegions=e.areasRegions,this.tabs=e.tabs,this.regionsViewMap=e.regionsViewMap,this.suggestionRegions=e.suggestionRegions,i.bindAll(this,"tabsSelected","hotCitiesSelected","provincesSelected","citiesSelected","suggestionSelected"),this.hotCitiesRegions.on("selectChanged",this.hotCitiesSelected),this.provincesRegions.on("selectChanged",this.provincesSelected),this.citiesRegions.on("selectChanged",this.citiesSelected),this.areasRegions.on("selectChanged",this.areasSelected),this.tabs.on("selectChanged",this.tabsSelected),this.suggestionRegions.on("selectChanged",this.suggestionSelected)},render:function(){this.$el.empty();for(var e in this.regionsViewMap)this.$el.append(this.regionsViewMap[e].render().$el);return this},hideAllRegions:function(){for(var e in this.regionsViewMap)this.regionsViewMap[e].hide()},suggestionSelected:function(e){var t=e.toJSON();switch(t.type){case"cities":this.hotCitiesSelected(e)}},tabsSelected:function(e){this.hideAllRegions(),this.regionsViewMap[e.get("id")].show()},hotCitiesSelected:function(e){var t=e.toJSON();this.provincesRegions.selectById(t.parent.id),this.citiesRegions.selectById(t.id),this.areasRegions.reset(A[t.id]),this.tabs.selectById("areas"),this.tabs.enableById("cities"),this.tabs.enableById("areas")},provincesSelected:function(e){this.citiesRegions.reset(N[e.get("id")]),this.areasRegions.reset([]),this.tabs.selectById("cities"),this.tabs.enableById("cities"),this.tabs.disableById("areas")},citiesSelected:function(e){this.areasRegions.reset(A[e.get("id")]),this.tabs.selectById("areas"),this.tabs.enableById("areas")}});return{init:function(){if(f&&f.length>0){for(var t=[],n=0;n<f.length;n++){var i=new k(E),s=new C(F.cities),r=new C(I),a=new C,o=new C,l={hotCities:new w({model:s,tabs:i,selected:!0}),provinces:new w({model:r,tabs:i}),cities:new w({model:a,tabs:i,disabled:!0}),areas:new w({model:o,tabs:i,disabled:!0})},c=new C(F.regions),u=new v({tabsView:new _({model:i}),regionsContainerView:new L({hotCitiesRegions:s,provincesRegions:r,citiesRegions:a,areasRegions:o,suggestionRegions:c,tabs:i,regionsViewMap:l}),areasRegions:o}),d=new g({model:c}),h=new m({el:e(f[n]),citySelectorContainerView:u,citySuggestionView:d,suggestionRegions:c,areasRegions:o,tabs:i});t[t.length++]=h,d.setValue(e(f[n]).data("value")),h.$el.data("cityobj",t[n])}t.length>0&&e(document).on("click",function(){for(var e=0;e<t.length;e++)t[e].citySuggestionView.isHidden()&&t[e].citySelectorContainerView.isHidden()||(t[e].hide(),t[e].$el.blur())})}}}}),define("plugins/effect",["jquery"],function(e){return{slideDown:function(t){var n=e(t),i=n.data("height");n.animate({marginTop:"+="+i,height:"-="+i,duration:500},function(){n.hide(),n=null})},slideUp:function(t){var n=e(t),i=n.data("height");n.show(),n.animate({marginTop:"-="+i,height:"+="+i,duration:500})},slideLeft:function(t){var n=e(t),i=n.data("width");n.width(0).css({marginLeft:"0"}),n.show(),n.animate({marginLeft:"-="+i,width:"+="+i,duration:500})},slideRight:function(t){var n=e(t),i=n.data("width");n.css({marginLeft:"0"}),n.animate({marginLeft:"+="+i,width:"-="+i,duration:500},function(){n.hide()})}}}),define("hbs!plugins/template/channel",["handlebars"],function(e){return e.template(function(e,t,n,i,s){function r(){var e="";return e}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var a,o,l,c="",u="function",d=this.escapeExpression,h=this,p=n.helperMissing;return c+='<dt>\r\n    <img src="',(o=n.headPictureUrl)?a=o.call(t,{hash:{},data:s}):(o=t&&t.headPictureUrl,a=typeof o===u?o.call(t,{hash:{},data:s}):o),c+=d(a)+'" class="img br3" alt="头像">\r\n</dt>\r\n<dd class="fl newstree-txt">\r\n    <p>',(o=n.channelName)?a=o.call(t,{hash:{},data:s}):(o=t&&t.channelName,a=typeof o===u?o.call(t,{hash:{},data:s}):o),c+=d(a)+'</p>\r\n\r\n    <p class="ftgrey text-split">',(o=n.content)?a=o.call(t,{hash:{},data:s}):(o=t&&t.content,a=typeof o===u?o.call(t,{hash:{},data:s}):o),c+=d(a)+'</p>\r\n</dd>\r\n<dd class="fr newstree-info">\r\n    <p class="ftgrey">',o=n.dateFormat||t&&t.dateFormat,l={hash:{},inverse:h.noop,fn:h.program(1,r,s),data:s},a=o?o.call(t,t&&t.date,"hms",l):p.call(t,"dateFormat",t&&t.date,"hms",l),(a||0===a)&&(c+=a),c+='</p>\r\n\r\n    <p class="info-num">',(o=n.totalUnread)?a=o.call(t,{hash:{},data:s}):(o=t&&t.totalUnread,a=typeof o===u?o.call(t,{hash:{},data:s}):o),c+=d(a)+"</p>\r\n</dd>\r\n"})}),define("hbs!plugins/template/message",["handlebars"],function(e){return e.template(function(e,t,n,i,s){function r(){var e="";return e}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var a,o,l,c="",u=this,d=n.helperMissing,h="function",p=this.escapeExpression;return c+='<dt>\r\n    <p class="ftbgrey"><span>今天</span><span>',o=n.dateFormat||t&&t.dateFormat,l={hash:{},inverse:u.noop,fn:u.program(1,r,s),data:s},a=o?o.call(t,t&&t.date,"hms",l):d.call(t,"dateFormat",t&&t.date,"hms",l),(a||0===a)&&(c+=a),c+='</span></p>\r\n</dt>\r\n<dd class="fl">\r\n    <div class="img br3"><img src="',(o=n.headPictureUrl)?a=o.call(t,{hash:{},data:s}):(o=t&&t.headPictureUrl,a=typeof o===h?o.call(t,{hash:{},data:s}):o),c+=p(a)+'"></div>\r\n</dd>\r\n<dd class="dia-txt fr br3 pr">\r\n    <p>',(o=n.content)?a=o.call(t,{hash:{},data:s}):(o=t&&t.content,a=typeof o===h?o.call(t,{hash:{},data:s}):o),c+=p(a)+'</p>\r\n    <i class="icon i10-12 i-diabg pa"></i>\r\n</dd>\r\n'})}),define("hbs!plugins/template/dialogue",["handlebars"],function(e){return e.template(function(e,t,n,i,s){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{},'<!--对话框1消息-->\r\n<div class="dia-body">\r\n    <div class="dia-top bg-grey">\r\n        <div class="fl"><span class="dia-name"></span><span class="news-state news-green"></span></div>\r\n        <div class="fr"><span class="new-project"><a href="#"><i class="icon i20 i-npriject"></i></a></span> <span\r\n                class="dia-min"><i class="icon i9-4 i-min"></i></span> <span class="dia-top-close"><i\r\n                class="icon i8 i-top-close"></i></span></div>\r\n    </div>\r\n    <div class="dia-content pr scrollable">\r\n    </div>\r\n</div>\r\n<div class="dia-bottom fr pa">\r\n    <div class="inner bg-grey pr">\r\n        <p><span class="dia-name"></span><span class="news-state news-green"></span><span class="fr dia-close pa"><i\r\n                class="icon i8 i-top-close"></i></span></p>\r\n    </div>\r\n</div>\r\n'})}),define("plugins/testData",["config"],function(e){var t=[{headPictureUrl:e.ctx+"/resources/img/temp.jpg",fromUser:"156客服平台",content:"1您的货源有11辆意向接货车辆，等待您的确认！现在去<a href='#'>订车确认</a>",date:(new Date).getTime()},{headPictureUrl:e.ctx+"/resources/img/temp.jpg",fromUser:"156客服平台",content:"1您的货源有11辆意向接货车辆，等待您的确认！现在去<a href='#'>订车确认</a>",date:(new Date).getTime()},{headPictureUrl:e.ctx+"/resources/img/temp.jpg",fromUser:"156客服平台",content:"1您的货源有11辆意向接货车辆，等待您的确认！现在去<a href='#'>订车确认</a>",date:(new Date).getTime()},{headPictureUrl:e.ctx+"/resources/img/temp.jpg",fromUser:"156客服平台",content:"1您的货源有11辆意向接货车辆，等待您的确认！现在去<a href='#'>订车确认</a>",date:(new Date).getTime()},{headPictureUrl:e.ctx+"/resources/img/temp.jpg",fromUser:"156客服平台",content:"1您的货源有11辆意向接货车辆，等待您的确认！现在去<a href='#'>订车确认</a>",date:(new Date).getTime()},{headPictureUrl:e.ctx+"/resources/img/temp.jpg",fromUser:"156客服平台",content:"1您的货源有11辆意向接货车辆，等待您的确认！现在去<a href='#'>订车确认</a>",date:(new Date).getTime()},{headPictureUrl:e.ctx+"/resources/img/temp.jpg",fromUser:"156客服平台",content:"1您的货源有11辆意向接货车辆，等待您的确认！现在去<a href='#'>订车确认</a>",date:(new Date).getTime()},{headPictureUrl:e.ctx+"/resources/img/temp.jpg",fromUser:"156客服平台",content:"1您的货源有11辆意向接货车辆，等待您的确认！现在去<a href='#'>订车确认</a>",date:(new Date).getTime()},{headPictureUrl:e.ctx+"/resources/img/temp.jpg",fromUser:"156客服平台",content:"1您的货源有11辆意向接货车辆，等待您的确认！现在去<a href='#'>订车确认</a>",date:(new Date).getTime()},{headPictureUrl:e.ctx+"/resources/img/temp.jpg",fromUser:"156客服平台",content:"1您的货源有11辆意向接货车辆，等待您的确认！现在去<a href='#'>订车确认</a>",date:(new Date).getTime()},{headPictureUrl:e.ctx+"/resources/img/temp.jpg",fromUser:"156客服平台",content:"1您的货源有11辆意向接货车辆，等待您的确认！现在去<a href='#'>订车确认</a>",date:(new Date).getTime()},{headPictureUrl:e.ctx+"/resources/img/temp.jpg",fromUser:"156客服平台",content:"1您的货源有11辆意向接货车辆，等待您的确认！现在去<a href='#'>订车确认</a>",date:(new Date).getTime()},{headPictureUrl:e.ctx+"/resources/img/temp.jpg",fromUser:"156客服平台",content:"1您的货源有11辆意向接货车辆，等待您的确认！现在去<a href='#'>订车确认</a>",date:(new Date).getTime()},{headPictureUrl:e.ctx+"/resources/img/temp.jpg",fromUser:"156客服平台",content:"1您的货源有11辆意向接货车辆，等待您的确认！现在去<a href='#'>订车确认</a>",date:(new Date).getTime()},{headPictureUrl:e.ctx+"/resources/img/temp.jpg",fromUser:"156客服平台",content:"1您的货源有11辆意向接货车辆，等待您的确认！现在去<a href='#'>订车确认</a>",date:(new Date).getTime()}],n=[{name:"Channel 1",messages:t},{name:"Channel 2",messages:t},{name:"Channel 3",messages:t},{name:"Channel 4",messages:t},{name:"Channel 5",messages:t},{name:"Channel 6",messages:t},{name:"Channel 7",messages:t}];return{channelData:n,messageData:t}}),define("plugins/message",["jquery","config","backbone","_","plugins/effect","plugins/models","hbs!plugins/template/channel","hbs!plugins/template/message","hbs!plugins/template/dialogue","plugins/testData"],function(e,t,n,i,s,r,a,o,l,c){var u=n.View.extend({el:".news",events:{click:"noop","click .newstree-top":"treeToggle"},initialize:function(e){this.channelListView=e.channelListView},noop:function(e){return e.preventDefault(),e.stopPropagation(),!1},treeToggle:function(e){e.stopPropagation(),e.preventDefault();var t=this.$el.find(".tree-main"),n=this;return t.is(":hidden")?t.slideDown(500,function(){t.find(".newstree-body").mCustomScrollbar("update"),n.$el.find(".i-treetoggle").toggleClass("i-treetoggle-bot"),n=null}):t.slideUp(500,function(){n.$el.find(".i-treetoggle").toggleClass("i-treetoggle-bot"),n=null}),!1},render:function(){this.channelListView.render()},minimize:function(){var e=this;this.$el.find(".tree-main").slideUp(500,function(){e.$el.find(".i-treetoggle").removeClass("i-treetoggle-bot"),e=null})}}),d=r.Item.extend({initialize:function(){this.messageList=new f(this.get("messages"))},triggerClose:function(){this.trigger("close")},triggerMinimize:function(){this.trigger("minimize")}}),h=r.List.extend({model:d,triggerCloseAll:function(e){i.each(this.models,function(t){e!=t&&t.triggerClose()})},triggerMinimizeAll:function(e){i.each(this.models,function(t){e!=t&&t.triggerMinimize()})},findByName:function(e){return e?i.find(this.models,function(t){return t.get("name")===e}):void 0}}),p=r.Item.extend({defaults:{read:!1},isUnread:function(){return!this.get("read")},markRead:function(){this.set("read",!0)},markUnread:function(){this.set("read",!1)}}),f=r.List.extend({model:p,comparator:"-date",unreads:function(){return i.filter(this.models,function(e){return e.isUnread()})},countUnreads:function(){return this.unreads().length},markReads:function(){i.each(this.models,function(e){e.markRead()}),this.trigger("allReadsMarked")},markUneads:function(){i.each(this.models,function(e){e.markUnread()}),this.trigger("allUnreadsMarked")}}),m=n.View.extend({el:".news .newstree-body",initialize:function(){i.bindAll(this,"renderOne","render"),this.model.on("add",this.renderOne)},renderOne:function(e){if(e){var t=new g({model:e});this.isScroll()?(this.$el.find(".mCSB_container").prepend(t.el),this.$el.mCustomScrollbar("update")):this.$el.append(t.$el),t.render()}},isScroll:function(){return this.$el.find(".mCSB_container").length>0},render:function(){this.$el.empty(),i.each(this.model.models,this.renderOne),this.$el.mCustomScrollbar()}}),g=n.View.extend({tagName:"dl",className:"clearfix",template:a,events:{click:"showDialogue"},initialize:function(){i.bindAll(this,"render"),this.dialogueView=new v({model:this.model,messageList:this.model.messageList}),this.showDialogue=i.throttle(this.showDialogue,1e3),this.model.messageList.on("allReadsMarked",this.render),this.model.messageList.on("add",this.render)},render:function(){var e=this.model.messageList,t=i.extend({},e.length>0?e.first().toJSON():{},{totalUnread:e.length>0?e.countUnreads():0},{channelName:this.model.get("name")});this.$el.html(this.template(t))},showDialogue:function(t){return t.preventDefault(),t.stopPropagation(),this.model.collection.triggerCloseAll(this.model),this.dialogueView.rendered?(this.dialogueView.show(),this.dialogueView.showBody()):(e(".news").append(this.dialogueView.$el),this.dialogueView.render()),this.model.messageList.markReads(),!1}}),v=n.View.extend({className:"dialogue-1 dialogue-box",template:l,events:{"click .dia-min":"minimize","click .dia-top-close":"toClose","click .dia-close":"toClose","click .dia-bottom":"maximize"},initialize:function(e){i.bindAll(this,"render","show","close","minimize"),this.messageListView=new y({model:e.messageList}),this.model.on("close",this.close),this.model.on("minimize",this.minimize)},render:function(){return this.$el.html(this.template()),this.$el.find(".dia-name").text("小葵 小葵"),this.messageListView.setElement(this.$el.find(".dia-content")),this.messageListView.render(),this.$el.data("width",this.$el.outerWidth()),this.show(),this.rendered=!0,this},show:function(){s.slideLeft(this.el),this.$el.find(".dia-content").mCustomScrollbar("update")},close:function(){s.slideRight(this.el)},toClose:function(e){return e.preventDefault(),e.stopPropagation(),this.close(),!1},showBody:function(){var e=this.$el.find(".dia-body");e.show("slow"),e.data("width",e.outerWidth()),e.data("height",e.height())},minimize:function(){s.slideDown(this.$el.find(".dia-body"))},maximize:function(){s.slideUp(this.$el.find(".dia-body"))}}),_=n.View.extend({template:o,tagName:"dl",className:"clearfix",render:function(){this.$el.html(this.template(this.model.toJSON()))}}),y=n.View.extend({el:".dialogue-box .dia-content",initialize:function(){i.bindAll(this,"render","renderOne"),this.model.on("reset",this.render),this.model.on("add",this.renderOne)},renderOne:function(e){if(e){var t=new _({model:e});this.isScroll()?this.$el.find(".mCSB_container").append(t.$el):this.$el.append(t.$el),t.render()}},isScroll:function(){return this.$el.find(".mCSB_container").length>0},render:function(){return this.$el.empty(),i.each(this.model.models,this.renderOne),this.$el.show(),this.$el.mCustomScrollbar(),this}}),b=new h(c.channelData);return{init:function(){var t=new m({model:b}),n=new u({channelListView:t});n.render(),e(document).click(function(){n.minimize(),b.triggerMinimizeAll()})},channelList:b,Channel:d,Message:p}}),define("plugins/helper",["handlebars","config"],function(e,t){var n=function(e){for(var t="",n=0;e>n;n++)t+='<i class="icon i12-11 ico-greystar"></i>';return t},i=function(e){for(var t="",n=0;e>n;n++)t+='<i class="icon i12-11 ico-hlstar"></i>';return t};e.registerHelper("highlight",function(e,t){var n=new RegExp(t,"gi");return e.replace(n,"<i>"+t+"</i>")}),e.registerHelper("dateFormat",function(e,n){var i=t.dateFormats[n];return new Date(e).pattern(i)}),e.registerHelper("ranking",function(e){return 0==e?n(5):e>0&&1>=e?i(1)+n(4):e>1&&2>=e?i(2)+n(3):e>2&&3>=e?i(3)+n(2):e>3&&4>=e?i(4)+n(1):5==e?i(5):""})}),define("plugins/dateFormat",[],function(){Date.prototype.pattern=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours()%12==0?12:this.getHours()%12,"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()},n={0:"/u65e5",1:"/u4e00",2:"/u4e8c",3:"/u4e09",4:"/u56db",5:"/u4e94",6:"/u516d"};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(e)&&(e=e.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"/u661f/u671f":"/u5468":"")+n[this.getDay()+""]));for(var i in t)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[i]:("00"+t[i]).substr((""+t[i]).length)));return e}}),"undefined"!=typeof dojo?dojo.provide("org.cometd"):(this.org=this.org||{},org.cometd={}),org.cometd.JSON={},org.cometd.JSON.toJSON=org.cometd.JSON.fromJSON=function(){throw"Abstract"},org.cometd.Utils={},org.cometd.Utils.isString=function(e){return void 0===e||null===e?!1:"string"==typeof e||e instanceof String},org.cometd.Utils.isArray=function(e){return void 0===e||null===e?!1:e instanceof Array},org.cometd.Utils.inArray=function(e,t){for(var n=0;n<t.length;++n)if(e===t[n])return n;return-1},org.cometd.Utils.setTimeout=function(e,t,n){return window.setTimeout(function(){try{t()}catch(n){e._debug("Exception invoking timed function",t,n)}},n)},org.cometd.Utils.clearTimeout=function(e){window.clearTimeout(e)},org.cometd.TransportRegistry=function(){var e=[],t={};this.getTransportTypes=function(){return e.slice(0)},this.findTransportTypes=function(n,i,s){for(var r=[],a=0;a<e.length;++a){var o=e[a];t[o].accept(n,i,s)===!0&&r.push(o)}return r},this.negotiateTransport=function(n,i,s,r){for(var a=0;a<e.length;++a)for(var o=e[a],l=0;l<n.length;++l)if(o===n[l]){var c=t[o];if(c.accept(i,s,r)===!0)return c}return null},this.add=function(n,i,s){for(var r=!1,a=0;a<e.length;++a)if(e[a]===n){r=!0;break}return r||("number"!=typeof s?e.push(n):e.splice(s,0,n),t[n]=i),!r},this.find=function(n){for(var i=0;i<e.length;++i)if(e[i]===n)return t[n];return null},this.remove=function(n){for(var i=0;i<e.length;++i)if(e[i]===n){e.splice(i,1);var s=t[n];return delete t[n],s}return null},this.clear=function(){e=[],t={}},this.reset=function(){for(var n=0;n<e.length;++n)t[e[n]].reset()}},org.cometd.Transport=function(){var e,t;this.registered=function(n,i){e=n,t=i},this.unregistered=function(){e=null,t=null},this._debug=function(){t._debug.apply(t,arguments)},this._mixin=function(){return t._mixin.apply(t,arguments)},this.getConfiguration=function(){return t.getConfiguration()},this.getAdvice=function(){return t.getAdvice()},this.setTimeout=function(e,n){return org.cometd.Utils.setTimeout(t,e,n)},this.clearTimeout=function(e){org.cometd.Utils.clearTimeout(e)},this.convertToMessages=function(e){if(org.cometd.Utils.isString(e))try{return org.cometd.JSON.fromJSON(e)}catch(t){throw this._debug("Could not convert to JSON the following string",'"'+e+'"'),t}if(org.cometd.Utils.isArray(e))return e;if(void 0===e||null===e)return[];if(e instanceof Object)return[e];throw"Conversion Error "+e+", typeof "+typeof e},this.accept=function(){throw"Abstract"},this.getType=function(){return e},this.send=function(){throw"Abstract"},this.reset=function(){this._debug("Transport",e,"reset")},this.abort=function(){this._debug("Transport",e,"aborted")},this.toString=function(){return this.getType()}},org.cometd.Transport.derive=function(e){function t(){}return t.prototype=e,new t},org.cometd.RequestTransport=function(){function e(e){for(;d.length>0;){var t=d[0],n=t[0],i=t[1];if(n.url!==e.url||n.sync!==e.sync)break;d.shift(),e.messages=e.messages.concat(n.messages),this._debug("Coalesced",n.messages.length,"messages from request",i.id)}}function t(e,t){if(this.transportSend(e,t),t.expired=!1,!e.sync){var n=this.getConfiguration().maxNetworkDelay,i=n;t.metaConnect===!0&&(i+=this.getAdvice().timeout),this._debug("Transport",this.getType(),"waiting at most",i,"ms for the response, maxNetworkDelay",n);var s=this;t.timeout=this.setTimeout(function(){t.expired=!0,t.xhr&&t.xhr.abort();var n="Request "+t.id+" of transport "+s.getType()+" exceeded "+i+" ms max network delay";s._debug(n),s.complete(t,!1,t.metaConnect),e.onFailure(t.xhr,e.messages,"timeout",n)},i)}}function n(e){var n=++l,i={id:n,metaConnect:!1};u.length<this.getConfiguration().maxConnections-1?(u.push(i),t.call(this,e,i)):(this._debug("Transport",this.getType(),"queueing request",n,"envelope",e),d.push([e,i]))}function i(e){var t=e.id;if(this._debug("Transport",this.getType(),"metaConnect complete, request",t),null!==c&&c.id!==t)throw"Longpoll request mismatch, completing request "+t;c=null}function s(t,i){var s=org.cometd.Utils.inArray(t,u);if(s>=0&&u.splice(s,1),d.length>0){var r=d.shift(),a=r[0],o=r[1];if(this._debug("Transport dequeued request",o.id),i)this.getConfiguration().autoBatch&&e.call(this,a),n.call(this,a),this._debug("Transport completed request",t.id,a);else{var l=this;this.setTimeout(function(){l.complete(o,!1,o.metaConnect),a.onFailure(o.xhr,a.messages,"error","Previous request failed")},0)}}}function r(e){if(null!==c)throw"Concurrent metaConnect requests not allowed, request id="+c.id+" not yet completed";var n=++l;this._debug("Transport",this.getType(),"metaConnect send, request",n,"envelope",e);var i={id:n,metaConnect:!0};t.call(this,e,i),c=i}var a=new org.cometd.Transport,o=org.cometd.Transport.derive(a),l=0,c=null,u=[],d=[];return o.complete=function(e,t,n){n?i.call(this,e):s.call(this,e,t)},o.transportSend=function(){throw"Abstract"},o.transportSuccess=function(e,t,n){t.expired||(this.clearTimeout(t.timeout),this.complete(t,!0,t.metaConnect),n&&n.length>0?e.onSuccess(n):e.onFailure(t.xhr,e.messages,"Empty HTTP response"))},o.transportFailure=function(e,t,n,i){t.expired||(this.clearTimeout(t.timeout),this.complete(t,!1,t.metaConnect),e.onFailure(t.xhr,e.messages,n,i))},o.send=function(e,t){t?r.call(this,e):n.call(this,e)},o.abort=function(){a.abort();for(var e=0;e<u.length;++e){var t=u[e];this._debug("Aborting request",t),t.xhr&&t.xhr.abort()}c&&(this._debug("Aborting metaConnect request",c),c.xhr&&c.xhr.abort()),this.reset()},o.reset=function(){a.reset(),c=null,u=[],d=[]},o},org.cometd.LongPollingTransport=function(){var e=new org.cometd.RequestTransport,t=org.cometd.Transport.derive(e),n=!0;return t.accept=function(e,t){return n||!t},t.xhrSend=function(){throw"Abstract"},t.transportSend=function(e,t){this._debug("Transport",this.getType(),"sending request",t.id,"envelope",e);var i=this;try{var s=!0;t.xhr=this.xhrSend({transport:this,url:e.url,sync:e.sync,headers:this.getConfiguration().requestHeaders,body:org.cometd.JSON.toJSON(e.messages),onSuccess:function(s){i._debug("Transport",i.getType(),"received response",s);var r=!1;try{var a=i.convertToMessages(s);0===a.length?(n=!1,i.transportFailure(e,t,"no response",null)):(r=!0,i.transportSuccess(e,t,a))}catch(o){i._debug(o),r||(n=!1,i.transportFailure(e,t,"bad response",o))}},onError:function(r,a){n=!1,s?i.setTimeout(function(){i.transportFailure(e,t,r,a)},0):i.transportFailure(e,t,r,a)}}),s=!1}catch(r){n=!1,this.setTimeout(function(){i.transportFailure(e,t,"error",r)},0)}},t.reset=function(){e.reset(),n=!0},t},org.cometd.CallbackPollingTransport=function(){var e=new org.cometd.RequestTransport,t=org.cometd.Transport.derive(e),n=2e3;
return t.accept=function(){return!0},t.jsonpSend=function(){throw"Abstract"},t.transportSend=function(e,t){for(var i=this,s=0,r=e.messages.length,a=[];r>0;){var o=org.cometd.JSON.toJSON(e.messages.slice(s,s+r)),l=e.url.length+encodeURI(o).length;if(l>n){if(1===r){var c="Bayeux message too big ("+l+" bytes, max is "+n+") for transport "+this.getType();return void this.setTimeout(function(){i.transportFailure(e,t,"error",c)},0)}--r}else a.push(r),s+=r,r=e.messages.length-s}var u=e;if(a.length>1){var d=0,h=a[0];this._debug("Transport",this.getType(),"split",e.messages.length,"messages into",a.join(" + ")),u=this._mixin(!1,{},e),u.messages=e.messages.slice(d,h),u.onSuccess=e.onSuccess,u.onFailure=e.onFailure;for(var p=1;p<a.length;++p){var f=this._mixin(!1,{},e);d=h,h+=a[p],f.messages=e.messages.slice(d,h),f.onSuccess=e.onSuccess,f.onFailure=e.onFailure,this.send(f,t.metaConnect)}}this._debug("Transport",this.getType(),"sending request",t.id,"envelope",u);try{var m=!0;this.jsonpSend({transport:this,url:u.url,sync:u.sync,headers:this.getConfiguration().requestHeaders,body:org.cometd.JSON.toJSON(u.messages),onSuccess:function(e){var n=!1;try{var s=i.convertToMessages(e);0===s.length?i.transportFailure(u,t,"no response"):(n=!0,i.transportSuccess(u,t,s))}catch(r){i._debug(r),n||i.transportFailure(u,t,"bad response",r)}},onError:function(e,n){m?i.setTimeout(function(){i.transportFailure(u,t,e,n)},0):i.transportFailure(u,t,e,n)}}),m=!1}catch(g){this.setTimeout(function(){i.transportFailure(u,t,"error",g)},0)}},t},org.cometd.WebSocketTransport=function(){function e(){var e=i.getURL().replace(/^http/,"ws");this._debug("Transport",this.getType(),"connecting to URL",e);var t=new org.cometd.WebSocket(e),n=this;t.onopen=function(){return n._debug("WebSocket opened",t),t!==d?void n._debug("Ignoring open event, WebSocket",d):void n.onOpen()},t.onclose=function(e){var i=e?e.code:1e3,s=e?e.reason:void 0;return n._debug("WebSocket closed",i,"/",s,t),t!==d?void n._debug("Ignoring close event, WebSocket",d):void n.onClose(i,s)},t.onerror=function(){t.onclose({code:1002})},t.onmessage=function(e){return n._debug("WebSocket message",e,t),t!==d?void n._debug("Ignoring message event, WebSocket",d):void n.onMessage(e)},d=t,this._debug("Transport",this.getType(),"configured callbacks on",t)}function t(e,t){var n=org.cometd.JSON.toJSON(e.messages);d.send(n),this._debug("Transport",this.getType(),"sent",e,"metaConnect =",t);var i=this.getConfiguration().maxNetworkDelay,s=i;t&&(s+=this.getAdvice().timeout,p=!0);for(var r=[],a=0;a<e.messages.length;++a){var o=e.messages[a];if(o.id){r.push(o.id);u[o.id]=this.setTimeout(function(){d&&d.close(1e3,"Timeout")},s)}}this._debug("Transport",this.getType(),"waiting at most",s,"ms for messages",r,"maxNetworkDelay",i,", timeouts:",u)}function n(n,i){try{null===d?e.call(this):h&&t.call(this,n,i)}catch(s){this.setTimeout(function(){n.onFailure(d,n.messages,"error",s)},0)}}var i,s,r=new org.cometd.Transport,a=org.cometd.Transport.derive(r),o=!0,l=!1,c={},u={},d=null,h=!1,p=!1;return a.onOpen=function(){this._debug("Transport",this.getType(),"opened",d),h=!0,l=!0,this._debug("Sending pending messages",c);for(var e in c){var n=c[e],i=n[0],r=n[1];s=i.onSuccess,t.call(this,i,r)}},a.onMessage=function(e){this._debug("Transport",this.getType(),"received websocket message",e,d);for(var t=!1,n=this.convertToMessages(e.data),i=[],r=0;r<n.length;++r){var a=n[r];if((/^\/meta\//.test(a.channel)||void 0===a.data)&&a.id){i.push(a.id);var o=u[a.id];o&&(this.clearTimeout(o),delete u[a.id],this._debug("Transport",this.getType(),"removed timeout for message",a.id,", timeouts",u))}"/meta/connect"===a.channel&&(p=!1),"/meta/disconnect"!==a.channel||p||(t=!0)}for(var l=!1,h=0;h<i.length;++h){var f=i[h];for(var m in c){var g=m.split(","),v=org.cometd.Utils.inArray(f,g);if(v>=0){l=!0,g.splice(v,1);var _=c[m][0],y=c[m][1];delete c[m],g.length>0&&(c[g.join(",")]=[_,y]);break}}}l&&this._debug("Transport",this.getType(),"removed envelope, envelopes",c),s.call(this,n),t&&d.close(1e3,"Disconnect")},a.onClose=function(e,t){this._debug("Transport",this.getType(),"closed",e,t,d),o=l;for(var n in u)this.clearTimeout(u[n]);u={};for(var i in c){var s=c[i][0],r=c[i][1];r&&(p=!1),s.onFailure(d,s.messages,"closed "+e+"/"+t)}c={},null!==d&&h&&d.close(1e3,"Close"),h=!1,d=null},a.registered=function(e,t){r.registered(e,t),i=t},a.accept=function(){return o&&!!org.cometd.WebSocket&&i.websocketEnabled===!0},a.send=function(e,t){this._debug("Transport",this.getType(),"sending",e,"metaConnect =",t);for(var i=[],s=0;s<e.messages.length;++s){var r=e.messages[s];r.id&&i.push(r.id)}c[i.join(",")]=[e,t],this._debug("Transport",this.getType(),"stored envelope, envelopes",c),n.call(this,e,t)},a.reset=function(){r.reset(),null!==d&&h&&d.close(1e3,"Reset"),o=!0,l=!1,u={},c={},d=null,h=!1,s=null},a},org.cometd.Cometd=function(e){function t(e){return org.cometd.Utils.isString(e)}function n(e){return void 0===e||null===e?!1:"function"==typeof e}function i(e,t){if(window.console){var i=window.console[e];n(i)&&i.apply(window.console,t)}}function s(e){if(et._debug("Configuring cometd object with",e),t(e)&&(e={url:e}),e||(e={}),vt=et._mixin(!1,vt,e),!vt.url)throw"Missing required configuration parameter 'url' specifying the Bayeux server URL";var n=/(^https?:\/\/)?(((\[[^\]]+\])|([^:\/\?#]+))(:(\d+))?)?([^\?#]*)(.*)?/.exec(vt.url),i=n[2],s=n[8],r=n[9];if(nt=et._isCrossDomain(i),vt.appendMessageTypeToURL)if(void 0!==r&&r.length>0)et._info("Appending message type to URI "+s+r+" is not supported, disabling 'appendMessageTypeToURL' configuration"),vt.appendMessageTypeToURL=!1;else{var a=s.split("/"),o=a.length-1;s.match(/\/$/)&&(o-=1),a[o].indexOf(".")>=0&&(et._info("Appending message type to URI "+s+" is not supported, disabling 'appendMessageTypeToURL' configuration"),vt.appendMessageTypeToURL=!1)}}function r(){for(var e in ut)for(var t=ut[e],n=0;n<t.length;++n){var i=t[n];i&&!i.listener&&(delete t[n],et._debug("Removed subscription",i,"for channel",e))}}function a(e){st!==e&&(et._debug("Status",st,"->",e),st=e)}function o(){return"disconnecting"===st||"disconnected"===st}function l(){return++rt}function c(e,t,i,s,r){try{return t.call(e,s)}catch(a){et._debug("Exception during execution of extension",i,a);var o=et.onExtensionException;if(n(o)){et._debug("Invoking extension exception callback",i,a);try{o.call(et,a,i,r,s)}catch(l){et._info("Exception during execution of exception callback in extension",i,l)}}return s}}function u(e){for(var t=0;t<pt.length&&(void 0!==e&&null!==e);++t){var i=vt.reverseIncomingExtensions?pt.length-1-t:t,s=pt[i],r=s.extension.incoming;if(n(r)){var a=c(s.extension,r,s.name,e,!1);e=void 0===a?e:a}}return e}function d(e){for(var t=0;t<pt.length&&(void 0!==e&&null!==e);++t){var i=pt[t],s=i.extension.outgoing;if(n(s)){var r=c(i.extension,s,i.name,e,!0);e=void 0===r?e:r}}return e}function h(e,t){var i=ut[e];if(i&&i.length>0)for(var s=0;s<i.length;++s){var r=i[s];if(r)try{r.callback.call(r.scope,t)}catch(a){et._debug("Exception during notification",r,t,a);var o=et.onListenerException;if(n(o)){et._debug("Invoking listener exception callback",r,a);try{o.call(et,a,r.handle,r.listener,t)}catch(l){et._info("Exception during execution of listener callback",r,l)}}}}}function p(e,t){h(e,t);for(var n=e.split("/"),i=n.length-1,s=i;s>0;--s){var r=n.slice(0,s).join("/")+"/*";s===i&&h(r,t),r+="*",h(r,t)}}function f(){null!==ht&&org.cometd.Utils.clearTimeout(ht),ht=null}function m(e){f();var t=ft.interval+dt;et._debug("Function scheduled in",t,"ms, interval =",ft.interval,"backoff =",dt,e),ht=org.cometd.Utils.setTimeout(et,e,t)}function g(e,t,n,i){for(var s=0;s<t.length;++s){var r=t[s];r.id=""+l(),at&&(r.clientId=at),r=d(r),void 0!==r&&null!==r?t[s]=r:t.splice(s--,1)}if(0!==t.length){var a=vt.url;vt.appendMessageTypeToURL&&(a.match(/\/$/)||(a+="/"),i&&(a+=i));var o={url:a,sync:e,messages:t,onSuccess:function(e){try{_t.call(et,e)}catch(t){et._debug("Exception during handling of messages",t)}},onFailure:function(e,t,n,i){try{yt.call(et,e,t,n,i)}catch(s){et._debug("Exception during handling of failure",s)}}};et._debug("Send",o),K.send(o,n)}}function v(e){ot>0||ct===!0?lt.push(e):g(!1,[e],!1)}function _(){dt=0}function y(){dt<vt.maxBackoff&&(dt+=vt.backoffIncrement)}function b(){++ot}function w(){var e=lt;lt=[],e.length>0&&g(!1,e,!1)}function x(){if(--ot,0>ot)throw"Calls to startBatch() and endBatch() are not paired";0!==ot||o()||ct||w()}function k(){if(!o()){var e={channel:"/meta/connect",connectionType:K.getType()};gt||(e.advice={timeout:0}),a("connecting"),et._debug("Connect sent",e),g(!1,[e],!0,"connect"),a("connected")}}function S(){a("connecting"),m(function(){k()})}function C(e){e&&(ft=et._mixin(!1,{},vt.advice,e),et._debug("New advice",ft))}function T(e){f(),e&&K.abort(),at=null,a("disconnected"),ot=0,_(),lt.length>0&&(yt.call(et,void 0,lt,"error","Disconnected"),lt=[])}function D(e){at=null,r(),o()?(it.reset(),C(vt.advice)):C(et._mixin(!1,ft,{reconnect:"retry"})),ot=0,ct=!0,Z=e;var t="1.0",n=it.findTransportTypes(t,nt,vt.url),i={version:t,minimumVersion:"0.9",channel:"/meta/handshake",supportedConnectionTypes:n,advice:{timeout:ft.timeout,interval:ft.interval}},s=et._mixin(!1,{},Z,i);K=it.negotiateTransport(n,t,nt,vt.url),et._debug("Initial transport is",K.getType()),a("handshaking"),et._debug("Handshake sent",s),g(!1,[s],!1,"handshake")}function E(){a("handshaking"),ct=!0,m(function(){D(Z)})}function F(e){p("/meta/handshake",e),p("/meta/unsuccessful",e);var t=!o()&&"none"!==ft.reconnect;t?(y(),E()):T(!1)}function I(e){if(e.successful){at=e.clientId;var t=it.negotiateTransport(e.supportedConnectionTypes,e.version,nt,vt.url);if(null===t)throw"Could not negotiate transport with server; client "+it.findTransportTypes(e.version,nt,vt.url)+", server "+e.supportedConnectionTypes;K!==t&&(et._debug("Transport",K,"->",t),K=t),ct=!1,w(),e.reestablish=mt,mt=!0,p("/meta/handshake",e);var n=o()?"none":ft.reconnect;switch(n){case"retry":_(),S();break;case"none":T(!1);break;default:throw"Unrecognized advice action "+n}}else F(e)}function N(e,t){F({successful:!1,failure:!0,channel:"/meta/handshake",request:t,xhr:e,advice:{reconnect:"retry",interval:dt}})}function A(e){p("/meta/connect",e),p("/meta/unsuccessful",e);var t=o()?"none":ft.reconnect;switch(t){case"retry":S(),y();break;case"handshake":it.reset(),_(),E();break;case"none":T(!1);break;default:throw"Unrecognized advice action"+t}}function L(e){if(gt=e.successful){p("/meta/connect",e);var t=o()?"none":ft.reconnect;switch(t){case"retry":_(),S();break;case"none":T(!1);break;default:throw"Unrecognized advice action "+t}}else A(e)}function U(e,t){gt=!1,A({successful:!1,failure:!0,channel:"/meta/connect",request:t,xhr:e,advice:{reconnect:"retry",interval:dt}})}function O(e){T(!0),p("/meta/disconnect",e),p("/meta/unsuccessful",e)}function M(e){e.successful?(T(!1),p("/meta/disconnect",e)):O(e)}function j(e,t){O({successful:!1,failure:!0,channel:"/meta/disconnect",request:t,xhr:e,advice:{reconnect:"none",interval:0}})}function R(e){p("/meta/subscribe",e),p("/meta/unsuccessful",e)}function P(e){e.successful?p("/meta/subscribe",e):R(e)}function q(e,t){R({successful:!1,failure:!0,channel:"/meta/subscribe",request:t,xhr:e,advice:{reconnect:"none",interval:0}})}function B(e){p("/meta/unsubscribe",e),p("/meta/unsuccessful",e)}function H(e){e.successful?p("/meta/unsubscribe",e):B(e)}function $(e,t){B({successful:!1,failure:!0,channel:"/meta/unsubscribe",request:t,xhr:e,advice:{reconnect:"none",interval:0}})}function z(e){p("/meta/publish",e),p("/meta/unsuccessful",e)}function W(e){void 0===e.successful?e.data?p(e.channel,e):et._debug("Unknown message",e):e.successful?p("/meta/publish",e):z(e)}function V(e,t){z({successful:!1,failure:!0,channel:t.channel,request:t,xhr:e,advice:{reconnect:"none",interval:0}})}function Q(e){if(e=u(e),void 0!==e&&null!==e){C(e.advice);var t=e.channel;switch(t){case"/meta/handshake":I(e);break;case"/meta/connect":L(e);break;case"/meta/disconnect":M(e);break;case"/meta/subscribe":P(e);break;case"/meta/unsubscribe":H(e);break;default:W(e)}}}function J(e){var t=ut[e];if(t)for(var n=0;n<t.length;++n)if(t[n])return!0;return!1}function Y(e,i){var s={scope:e,method:i};if(n(e))s.scope=void 0,s.method=e;else if(t(i)){if(!e)throw"Invalid scope "+e;if(s.method=e[i],!n(s.method))throw"Invalid callback "+i+" for scope "+e}else if(!n(i))throw"Invalid callback "+i;return s}function X(e,t,n,i){var s=Y(t,n);et._debug("Adding listener on",e,"with scope",s.scope,"and callback",s.method);var r={channel:e,scope:s.scope,callback:s.method,listener:i},a=ut[e];a||(a=[],ut[e]=a);var o=a.push(r)-1;return r.id=o,r.handle=[e,o],et._debug("Added listener",r,"for channel",e,"having id =",o),r.handle}function G(e){var t=ut[e[0]];t&&(delete t[e[1]],et._debug("Removed listener",e))}var K,Z,et=this,tt=e||"default",nt=!1,it=new org.cometd.TransportRegistry,st="disconnected",rt=0,at=null,ot=0,lt=[],ct=!1,ut={},dt=0,ht=null,pt=[],ft={},mt=!1,gt=!1,vt={maxConnections:2,backoffIncrement:1e3,maxBackoff:6e4,logLevel:"info",reverseIncomingExtensions:!0,maxNetworkDelay:1e4,requestHeaders:{},appendMessageTypeToURL:!0,autoBatch:!1,advice:{timeout:6e4,interval:0,reconnect:"retry"}};this._mixin=function(e,t){for(var n=t||{},i=2;i<arguments.length;++i){var s=arguments[i];if(void 0!==s&&null!==s)for(var r in s){var a=s[r];a!==t&&void 0!==a&&(n[r]=e&&"object"==typeof a&&null!==a?a instanceof Array?this._mixin(e,[],a):this._mixin(e,{},a):a)}}return n},this._warn=function(){i("warn",arguments)},this._info=function(){"warn"!==vt.logLevel&&i("info",arguments)},this._debug=function(){"debug"===vt.logLevel&&i("debug",arguments)},this._isCrossDomain=function(e){return e&&e!==window.location.host};var _t,yt;this.send=v,this.receive=Q,_t=function(e){et._debug("Received",e);for(var t=0;t<e.length;++t){var n=e[t];Q(n)}},yt=function(e,t,n,i){et._debug("handleFailure",e,t,n,i);for(var s=0;s<t.length;++s){var r=t[s],a=r.channel;switch(a){case"/meta/handshake":N(e,r);break;case"/meta/connect":U(e,r);break;case"/meta/disconnect":j(e,r);break;case"/meta/subscribe":q(e,r);break;case"/meta/unsubscribe":$(e,r);break;default:V(e,r)}}},this.registerTransport=function(e,t,i){var s=it.add(e,t,i);return s&&(this._debug("Registered transport",e),n(t.registered)&&t.registered(e,this)),s},this.getTransportTypes=function(){return it.getTransportTypes()},this.unregisterTransport=function(e){var t=it.remove(e);return null!==t&&(this._debug("Unregistered transport",e),n(t.unregistered)&&t.unregistered()),t},this.unregisterTransports=function(){it.clear()},this.findTransport=function(e){return it.find(e)},this.configure=function(e){s.call(this,e)},this.init=function(e,t){this.configure(e),this.handshake(t)},this.handshake=function(e){a("disconnected"),mt=!1,D(e)},this.disconnect=function(e,t){if(!o()){void 0===t&&"boolean"!=typeof e&&(t=e,e=!1);var n={channel:"/meta/disconnect"},i=this._mixin(!1,{},t,n);a("disconnecting"),g(e===!0,[i],!1,"disconnect")}},this.startBatch=function(){b()},this.endBatch=function(){x()},this.batch=function(e,t){var n=Y(e,t);this.startBatch();try{n.method.call(n.scope),this.endBatch()}catch(i){throw this._debug("Exception during execution of batch",i),this.endBatch(),i}},this.addListener=function(e,n,i){if(arguments.length<2)throw"Illegal arguments number: required 2, got "+arguments.length;if(!t(e))throw"Illegal argument type: channel must be a string";return X(e,n,i,!0)},this.removeListener=function(e){if(!org.cometd.Utils.isArray(e))throw"Invalid argument: expected subscription, not "+e;G(e)},this.clearListeners=function(){ut={}},this.subscribe=function(e,i,s,r){if(arguments.length<2)throw"Illegal arguments number: required 2, got "+arguments.length;if(!t(e))throw"Illegal argument type: channel must be a string";if(o())throw"Illegal state: already disconnected";n(i)&&(r=s,s=i,i=void 0);var a=!J(e),l=X(e,i,s,!1);if(a){var c={channel:"/meta/subscribe",subscription:e},u=this._mixin(!1,{},r,c);v(u)}return l},this.unsubscribe=function(e,t){if(arguments.length<1)throw"Illegal arguments number: required 1, got "+arguments.length;if(o())throw"Illegal state: already disconnected";this.removeListener(e);var n=e[0];if(!J(n)){var i={channel:"/meta/unsubscribe",subscription:n},s=this._mixin(!1,{},t,i);v(s)}},this.clearSubscriptions=function(){r()},this.publish=function(e,n,i){if(arguments.length<1)throw"Illegal arguments number: required 1, got "+arguments.length;if(!t(e))throw"Illegal argument type: channel must be a string";if(o())throw"Illegal state: already disconnected";var s={channel:e,data:n},r=this._mixin(!1,{},i,s);v(r)},this.getStatus=function(){return st},this.isDisconnected=o,this.setBackoffIncrement=function(e){vt.backoffIncrement=e},this.getBackoffIncrement=function(){return vt.backoffIncrement},this.getBackoffPeriod=function(){return dt},this.setLogLevel=function(e){vt.logLevel=e},this.registerExtension=function(e,i){if(arguments.length<2)throw"Illegal arguments number: required 2, got "+arguments.length;if(!t(e))throw"Illegal argument type: extension name must be a string";for(var s=!1,r=0;r<pt.length;++r){var a=pt[r];if(a.name===e){s=!0;break}}return s?(this._info("Could not register extension with name",e,"since another extension with the same name already exists"),!1):(pt.push({name:e,extension:i}),this._debug("Registered extension",e),n(i.registered)&&i.registered(e,this),!0)},this.unregisterExtension=function(e){if(!t(e))throw"Illegal argument type: extension name must be a string";for(var i=!1,s=0;s<pt.length;++s){var r=pt[s];if(r.name===e){pt.splice(s,1),i=!0,this._debug("Unregistered extension",e);var a=r.extension;n(a.unregistered)&&a.unregistered();break}}return i},this.getExtension=function(e){for(var t=0;t<pt.length;++t){var n=pt[t];if(n.name===e)return n.extension}return null},this.getName=function(){return tt},this.getClientId=function(){return at},this.getURL=function(){return vt.url},this.getTransport=function(){return K},this.getConfiguration=function(){return this._mixin(!0,{},vt)},this.getAdvice=function(){return this._mixin(!0,{},ft)},org.cometd.WebSocket=window.WebSocket,org.cometd.WebSocket||(org.cometd.WebSocket=window.MozWebSocket)},define("org.cometd",function(e){return function(){var t;return t||e.org.cometd}}(this)),function(e){function t(e,t){if(t)for(var n in t)"content-type"!==n.toLowerCase()&&e.setRequestHeader(n,t[n])}function n(){var n=new org.cometd.LongPollingTransport,i=org.cometd.Transport.derive(n);return i.xhrSend=function(n){return e.ajax({url:n.url,async:n.sync!==!0,type:"POST",contentType:"application/json;charset=UTF-8",data:n.body,xhrFields:{withCredentials:!0},beforeSend:function(e){return t(e,n.headers),!0},success:n.onSuccess,error:function(e,t,i){n.onError(t,i)}})},i}function i(){var n=new org.cometd.CallbackPollingTransport,i=org.cometd.Transport.derive(n);return i.jsonpSend=function(n){e.ajax({url:n.url,async:n.sync!==!0,type:"GET",dataType:"jsonp",jsonp:"jsonp",data:{message:n.body},beforeSend:function(e){return t(e,n.headers),!0},success:n.onSuccess,error:function(e,t,i){n.onError(t,i)}})},i}org.cometd.JSON.toJSON=JSON.stringify,org.cometd.JSON.fromJSON=JSON.parse,e.Cometd=function(e){var t=new org.cometd.Cometd(e);return org.cometd.WebSocket&&(t.registerTransport("websocket",new org.cometd.WebSocketTransport),t.websocketEnabled=!0),t.registerTransport("long-polling",new n),t.registerTransport("callback-polling",new i),t},e.cometd=new e.Cometd}(jQuery),define("jquery_cometd",["jquery","org.cometd","json3"],function(e){return function(){var t;return t||e.jquery_cometd}}(this)),function(e){function t(e){return o.raw?e:encodeURIComponent(e)}function n(e){return o.raw?e:decodeURIComponent(e)}function i(e){return t(o.json?JSON.stringify(e):String(e))}function s(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{e=decodeURIComponent(e.replace(a," "))}catch(t){return}try{return o.json?JSON.parse(e):e}catch(t){}}function r(t,n){var i=o.raw?t:s(t);return e.isFunction(n)?n(i):i}var a=/\+/g,o=e.cookie=function(s,a,l){if(void 0!==a&&!e.isFunction(a)){if(l=e.extend({},o.defaults,l),"number"==typeof l.expires){var c=l.expires,u=l.expires=new Date;u.setDate(u.getDate()+c)}return document.cookie=[t(s),"=",i(a),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var d=s?void 0:{},h=document.cookie?document.cookie.split("; "):[],p=0,f=h.length;f>p;p++){var m=h[p].split("="),g=n(m.shift()),v=m.join("=");if(s&&s===g){d=r(v,a);break}s||void 0===(v=r(v))||(d[g]=v)}return d};o.defaults={},e.removeCookie=function(t,n){return void 0!==e.cookie(t)?(e.cookie(t,"",e.extend({},n,{expires:-1})),!0):!1}}(jQuery),define("cookie",["jquery"],function(e){return function(){var t;return t||e.cookie}}(this)),"undefined"!=typeof dojo&&dojo.provide("org.cometd.ReloadExtension"),org.cometd.COOKIE||(org.cometd.COOKIE={},org.cometd.COOKIE.set=function(){throw"Abstract"},org.cometd.COOKIE.get=function(){throw"Abstract"}),org.cometd.ReloadExtension=function(e){function t(e){if(a&&null!==a.handshakeResponse){i(e);var t=org.cometd.JSON.toJSON(a);r("Reload extension saving cookie value",t),org.cometd.COOKIE.set(o,t,{"max-age":c,path:l,expires:new Date((new Date).getTime()+1e3*c)})}}function n(e){return a.url==e.url}function i(e){e&&("number"==typeof e.cookieMaxAge&&(c=e.cookieMaxAge),"string"==typeof e.cookieName&&(o=e.cookieName),"string"==typeof e.cookiePath&&(l=e.cookiePath))}var s,r,a=null,o="org.cometd.reload",l="/",c=5,u=!1;this.configure=i,this.registered=function(e,n){s=n,s.reload=t,r=s._debug},this.unregistered=function(){delete s.reload,s=null},this.outgoing=function(e){var t=e.channel;if("/meta/handshake"==t){a={},a.url=s.getURL();var i=org.cometd.COOKIE.get(o);if(r("Reload extension found cookie value",i),i)try{org.cometd.COOKIE.set(o,"",{path:l});var c=org.cometd.JSON.fromJSON(i);if(c&&c.handshakeResponse&&n(c))return r("Reload extension restoring state",c),setTimeout(function(){r("Reload extension replaying handshake response",c.handshakeResponse),a.handshakeResponse=c.handshakeResponse,a.transportType=c.transportType,a.reloading=!0;var e=s._mixin(!0,{ext:{reload:!0}},a.handshakeResponse);e.supportedConnectionTypes=[a.transportType],s.receive(e),r("Reload extension replayed handshake response",e)},0),u||(u=!0,s.startBatch()),null;r("Reload extension could not restore state",c)}catch(d){r("Reload extension error while trying to restore cookie",d)}}else"/meta/connect"==t&&(a.transportType||(a.transportType=e.connectionType,r("Reload extension tracked transport type",a.transportType)));return e},this.incoming=function(e){if(e.successful)switch(e.channel){case"/meta/handshake":a.handshakeResponse||(a.handshakeResponse=e,r("Reload extension tracked handshake response",e));break;case"/meta/disconnect":a=null;break;case"/meta/connect":u&&(s.endBatch(),u=!1)}return e},i(e)},define("org.cometd.ReloadExtension",["org.cometd"],function(e){return function(){var t;return t||e.org.cometd.ReloadExtension}}(this)),function(e){e.cookie&&(org.cometd.COOKIE.set=e.cookie,org.cometd.COOKIE.get=e.cookie),e.cometd.registerExtension("reload",new org.cometd.ReloadExtension)}(jQuery),define("jquery_cometd_reload",["jquery","jquery_cometd","cookie","org.cometd.ReloadExtension"],function(e){return function(){var t;return t||e.jquery_cometd_reload}}(this)),"undefined"!=typeof dojo&&dojo.provide("org.cometd.AckExtension"),org.cometd.AckExtension=function(){function e(e,n){t._debug(e,n)}var t,n=!1,i=-1;this.registered=function(n,i){t=i,e("AckExtension: executing registration callback")},this.unregistered=function(){e("AckExtension: executing unregistration callback"),t=null},this.incoming=function(t){var s=t.channel;if("/meta/handshake"==s)n=t.ext&&t.ext.ack,e("AckExtension: server supports acks",n);else if(n&&"/meta/connect"==s&&t.successful){var r=t.ext;r&&"number"==typeof r.ack&&(i=r.ack,e("AckExtension: server sent ack id",i))}return t},this.outgoing=function(s){var r=s.channel;return"/meta/handshake"==r?(s.ext||(s.ext={}),s.ext.ack=t&&t.ackEnabled!==!1,i=-1):n&&"/meta/connect"==r&&(s.ext||(s.ext={}),s.ext.ack=i,e("AckExtension: client sending ack id",i)),s}},define("org.cometd.AckExtension",["org.cometd"],function(e){return function(){var t;return t||e.org.cometd.AckExtension}}(this)),function(e){e.cometd.registerExtension("ack",new org.cometd.AckExtension)}(jQuery),define("jquery_cometd_ack",["jquery","jquery_cometd","org.cometd.AckExtension"],function(e){return function(){var t;return t||e.jquery_cometd_ack}}(this)),define("plugins/cometd",["jquery","backbone","_","jquery_cometd","jquery_cometd_reload","jquery_cometd_ack","config"],function(e,t,n,i,s,r,a){var o=t.Model.extend({downstream:"/service/downstream",upstream:"/service/upstream",cmessage:"/service/cmessage",handshake:"/meta/handshake",connect:"/meta/connect",initialize:function(e){this.userId=e.userId,this.on("handshakeSucceeded",n.bind(this.handshakeSucceeded,this)),this.downstreamListener=[],this.upstreamListener=[]},handshakeSucceeded:function(){this.login();for(var e=0;e<this.downstreamListener.length;e++)this.subscribeDownstream(this.downstreamListener[e]);for(var e=0;e<this.upstreamListener.length;e++)this.subscribeUpstream(this.upstreamListener[e])},addDownstreamListener:function(e){this.downstreamListener.push(e)},addUpstreamListener:function(e){this.upstreamListener.push(e)},unsubscribe:function(){e.cometd.unsubscribe(this.downstream),e.cometd.unsubscribe(this.upstream)},subscribeDownstream:function(t){try{e.cometd.subscribe(this.downstream,t)}catch(n){console.log(n)}},subscribeUpstream:function(t){try{e.cometd.subscribe(this.upstream,t)}catch(n){console.log(n)}},leave:function(){var t=this;e.cometd.batch(function(){e.cometd.publish(this.cmessage,{messageHead:{clientVersion:"1.1",accessToken:"1234567",userId:t.userId},messageType:"UOT",messageBody:{loginUserId:t.userId}}),this.unsubscribe()}),e.cometd.disconnect()},join:function(){e.cometd.getExtension("reload").configure({cookieMaxAge:15});var t=this;e.cometd.addListener(this.handshake,function(e){e.successful?(t.trigger("handshakeSucceeded"),t.showLoggedOn()):t.showLoggedOff()}),e.cometd.addListener(this.connect,function(e){e.successful?t.showLoggedOn():this.showLoggedOff()});var n={url:a.cometServerUrl,logLevel:"info"};e.cometd.init(n),e(window).unload(function(){e.cometd.reload({cookieMaxAge:15})})},showLoggedOn:function(){e(".news-state",".newstree-top").removeClass("news-red").addClass("news-green")},showLoggedOff:function(){e(".news-state",".newstree-top").removeClass("news-green").addClass("news-red")},login:function(){e.cometd.publish("/service/upstream",{messageHead:{clientVersion:"1.1",accessToken:"1234567",userId:a.userId},messageType:"ULG",messageBody:{loginUserId:a.userId}})}});return{comet:new o({userId:a.userId})}}),function(e){function t(t){var n=t||window.event,i=[].slice.call(arguments,1),s=0,r=0,a=0;return t=e.event.fix(n),t.type="mousewheel",n.wheelDelta&&(s=n.wheelDelta/120),n.detail&&(s=-n.detail/3),a=s,void 0!==n.axis&&n.axis===n.HORIZONTAL_AXIS&&(a=0,r=-1*s),void 0!==n.wheelDeltaY&&(a=n.wheelDeltaY/120),void 0!==n.wheelDeltaX&&(r=-1*n.wheelDeltaX/120),i.unshift(t,s,r,a),(e.event.dispatch||e.event.handle).apply(this,i)}var n=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks)for(var i=n.length;i;)e.event.fixHooks[n[--i]]=e.event.mouseHooks;e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=n.length;e;)this.addEventListener(n[--e],t,!1);else this.onmousewheel=t},teardown:function(){if(this.removeEventListener)for(var e=n.length;e;)this.removeEventListener(n[--e],t,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery),function(e){var t={init:function(t){var n={set_width:!1,set_height:!1,horizontalScroll:!1,scrollInertia:950,mouseWheel:!0,mouseWheelPixels:"auto",autoDraggerLength:!0,autoHideScrollbar:!1,alwaysShowScrollbar:!1,snapAmount:null,snapOffset:0,scrollButtons:{enable:!1,scrollType:"continuous",scrollSpeed:"auto",scrollAmount:40},advanced:{updateOnBrowserResize:!0,updateOnContentResize:!1,autoExpandHorizontalScroll:!1,autoScrollOnFocus:!0,normalizeMouseWheelDelta:!1},contentTouchScroll:!0,callbacks:{onScrollStart:function(){},onScroll:function(){},onTotalScroll:function(){},onTotalScrollBack:function(){},onTotalScrollOffset:0,onTotalScrollBackOffset:0,whileScrolling:function(){}},theme:"light"},t=e.extend(!0,n,t);return this.each(function(){var n=e(this);if(t.set_width&&n.css("width",t.set_width),t.set_height&&n.css("height",t.set_height),e(document).data("mCustomScrollbar-index")){var i=parseInt(e(document).data("mCustomScrollbar-index"));e(document).data("mCustomScrollbar-index",i+1)}else e(document).data("mCustomScrollbar-index","1");n.wrapInner("<div class='mCustomScrollBox mCS-"+t.theme+"' id='mCSB_"+e(document).data("mCustomScrollbar-index")+"' style='position:relative; height:100%; overflow:hidden; max-width:100%;' />").addClass("mCustomScrollbar _mCS_"+e(document).data("mCustomScrollbar-index"));var s=n.children(".mCustomScrollBox");if(t.horizontalScroll){s.addClass("mCSB_horizontal").wrapInner("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />");var r=s.children(".mCSB_h_wrapper");r.wrapInner("<div class='mCSB_container' style='position:absolute; left:0;' />").children(".mCSB_container").css({width:r.children().outerWidth(),position:"relative"}).unwrap()}else s.wrapInner("<div class='mCSB_container' style='position:relative; top:0;' />");var a=s.children(".mCSB_container");e.support.touch&&a.addClass("mCS_touch"),a.after("<div class='mCSB_scrollTools' style='position:absolute;'><div class='mCSB_draggerContainer'><div class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' style='position:relative;'></div></div><div class='mCSB_draggerRail'></div></div></div>");var o=s.children(".mCSB_scrollTools"),l=o.children(".mCSB_draggerContainer"),c=l.children(".mCSB_dragger");if(t.horizontalScroll?c.data("minDraggerWidth",c.width()):c.data("minDraggerHeight",c.height()),t.scrollButtons.enable&&(t.horizontalScroll?o.prepend("<a class='mCSB_buttonLeft' oncontextmenu='return false;'></a>").append("<a class='mCSB_buttonRight' oncontextmenu='return false;'></a>"):o.prepend("<a class='mCSB_buttonUp' oncontextmenu='return false;'></a>").append("<a class='mCSB_buttonDown' oncontextmenu='return false;'></a>")),s.bind("scroll",function(){n.is(".mCS_disabled")||s.scrollTop(0).scrollLeft(0)}),n.data({mCS_Init:!0,mCustomScrollbarIndex:e(document).data("mCustomScrollbar-index"),horizontalScroll:t.horizontalScroll,scrollInertia:t.scrollInertia,scrollEasing:"mcsEaseOut",mouseWheel:t.mouseWheel,mouseWheelPixels:t.mouseWheelPixels,autoDraggerLength:t.autoDraggerLength,autoHideScrollbar:t.autoHideScrollbar,alwaysShowScrollbar:t.alwaysShowScrollbar,snapAmount:t.snapAmount,snapOffset:t.snapOffset,scrollButtons_enable:t.scrollButtons.enable,scrollButtons_scrollType:t.scrollButtons.scrollType,scrollButtons_scrollSpeed:t.scrollButtons.scrollSpeed,scrollButtons_scrollAmount:t.scrollButtons.scrollAmount,autoExpandHorizontalScroll:t.advanced.autoExpandHorizontalScroll,autoScrollOnFocus:t.advanced.autoScrollOnFocus,normalizeMouseWheelDelta:t.advanced.normalizeMouseWheelDelta,contentTouchScroll:t.contentTouchScroll,onScrollStart_Callback:t.callbacks.onScrollStart,onScroll_Callback:t.callbacks.onScroll,onTotalScroll_Callback:t.callbacks.onTotalScroll,onTotalScrollBack_Callback:t.callbacks.onTotalScrollBack,onTotalScroll_Offset:t.callbacks.onTotalScrollOffset,onTotalScrollBack_Offset:t.callbacks.onTotalScrollBackOffset,whileScrolling_Callback:t.callbacks.whileScrolling,bindEvent_scrollbar_drag:!1,bindEvent_content_touch:!1,bindEvent_scrollbar_click:!1,bindEvent_mousewheel:!1,bindEvent_buttonsContinuous_y:!1,bindEvent_buttonsContinuous_x:!1,bindEvent_buttonsPixels_y:!1,bindEvent_buttonsPixels_x:!1,bindEvent_focusin:!1,bindEvent_autoHideScrollbar:!1,mCSB_buttonScrollRight:!1,mCSB_buttonScrollLeft:!1,mCSB_buttonScrollDown:!1,mCSB_buttonScrollUp:!1}),t.horizontalScroll)"none"!==n.css("max-width")&&(t.advanced.updateOnContentResize||(t.advanced.updateOnContentResize=!0));
else if("none"!==n.css("max-height")){var u=!1,d=parseInt(n.css("max-height"));n.css("max-height").indexOf("%")>=0&&(u=d,d=n.parent().height()*u/100),n.css("overflow","hidden"),s.css("max-height",d)}if(n.mCustomScrollbar("update"),t.advanced.updateOnBrowserResize){var h,p=e(window).width(),f=e(window).height();e(window).bind("resize."+n.data("mCustomScrollbarIndex"),function(){h&&clearTimeout(h),h=setTimeout(function(){if(!n.is(".mCS_disabled")&&!n.is(".mCS_destroyed")){var t=e(window).width(),i=e(window).height();(p!==t||f!==i)&&("none"!==n.css("max-height")&&u&&s.css("max-height",n.parent().height()*u/100),n.mCustomScrollbar("update"),p=t,f=i)}},150)})}if(t.advanced.updateOnContentResize){var m;if(t.horizontalScroll)var g=a.outerWidth();else var g=a.outerHeight();m=setInterval(function(){if(t.horizontalScroll){t.advanced.autoExpandHorizontalScroll&&a.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:a.outerWidth(),position:"relative"}).unwrap();var e=a.outerWidth()}else var e=a.outerHeight();e!=g&&(n.mCustomScrollbar("update"),g=e)},300)}})},update:function(){var t=e(this),n=t.children(".mCustomScrollBox"),i=n.children(".mCSB_container");i.removeClass("mCS_no_scrollbar"),t.removeClass("mCS_disabled mCS_destroyed"),n.scrollTop(0).scrollLeft(0);var s=n.children(".mCSB_scrollTools"),r=s.children(".mCSB_draggerContainer"),a=r.children(".mCSB_dragger");if(t.data("horizontalScroll")){var o=s.children(".mCSB_buttonLeft"),l=s.children(".mCSB_buttonRight"),c=n.width();t.data("autoExpandHorizontalScroll")&&i.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:i.outerWidth(),position:"relative"}).unwrap();var u=i.outerWidth()}else var d=s.children(".mCSB_buttonUp"),h=s.children(".mCSB_buttonDown"),p=n.height(),f=i.outerHeight();if(f>p&&!t.data("horizontalScroll")){s.css("display","block");var m=r.height();if(t.data("autoDraggerLength")){var g=Math.round(p/f*m),v=a.data("minDraggerHeight");if(v>=g)a.css({height:v});else if(g>=m-10){var _=m-10;a.css({height:_})}else a.css({height:g});a.children(".mCSB_dragger_bar").css({"line-height":a.height()+"px"})}var y=a.height(),b=(f-p)/(m-y);t.data("scrollAmount",b).mCustomScrollbar("scrolling",n,i,r,a,d,h,o,l);var w=Math.abs(i.position().top);t.mCustomScrollbar("scrollTo",w,{scrollInertia:0,trigger:"internal"})}else if(u>c&&t.data("horizontalScroll")){s.css("display","block");var x=r.width();if(t.data("autoDraggerLength")){var k=Math.round(c/u*x),S=a.data("minDraggerWidth");if(S>=k)a.css({width:S});else if(k>=x-10){var C=x-10;a.css({width:C})}else a.css({width:k})}var T=a.width(),b=(u-c)/(x-T);t.data("scrollAmount",b).mCustomScrollbar("scrolling",n,i,r,a,d,h,o,l);var w=Math.abs(i.position().left);t.mCustomScrollbar("scrollTo",w,{scrollInertia:0,trigger:"internal"})}else n.unbind("mousewheel focusin"),t.data("horizontalScroll")?a.add(i).css("left",0):a.add(i).css("top",0),t.data("alwaysShowScrollbar")?t.data("horizontalScroll")?t.data("horizontalScroll")&&a.css({width:r.width()}):a.css({height:r.height()}):(s.css("display","none"),i.addClass("mCS_no_scrollbar")),t.data({bindEvent_mousewheel:!1,bindEvent_focusin:!1})},scrolling:function(t,i,s,r,a,o,l,c){function u(e,t,n,i){p.data("horizontalScroll")?p.mCustomScrollbar("scrollTo",r.position().left-t+i,{moveDragger:!0,trigger:"internal"}):p.mCustomScrollbar("scrollTo",r.position().top-e+n,{moveDragger:!0,trigger:"internal"})}function d(e){r.data("preventAction")||(r.data("preventAction",!0),p.mCustomScrollbar("scrollTo",e,{trigger:"internal"}))}function h(){var e=p.data("scrollButtons_scrollSpeed");return"auto"===p.data("scrollButtons_scrollSpeed")&&(e=Math.round((p.data("scrollInertia")+100)/40)),e}var p=e(this);if(!p.data("bindEvent_scrollbar_drag")){var f,m,g,v,_;e.support.pointer?(g="pointerdown",v="pointermove",_="pointerup"):e.support.msPointer&&(g="MSPointerDown",v="MSPointerMove",_="MSPointerUp"),e.support.pointer||e.support.msPointer?(r.bind(g,function(t){t.preventDefault(),p.data({on_drag:!0}),r.addClass("mCSB_dragger_onDrag");var n=e(this),i=n.offset(),s=t.originalEvent.pageX-i.left,a=t.originalEvent.pageY-i.top;s<n.width()&&s>0&&a<n.height()&&a>0&&(f=a,m=s)}),e(document).bind(v+"."+p.data("mCustomScrollbarIndex"),function(e){if(e.preventDefault(),p.data("on_drag")){var t=r,n=t.offset(),i=e.originalEvent.pageX-n.left,s=e.originalEvent.pageY-n.top;u(f,m,s,i)}}).bind(_+"."+p.data("mCustomScrollbarIndex"),function(){p.data({on_drag:!1}),r.removeClass("mCSB_dragger_onDrag")})):(r.bind("mousedown touchstart",function(t){t.preventDefault(),t.stopImmediatePropagation();var n,i,s=e(this),a=s.offset();if("touchstart"===t.type){var o=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0];n=o.pageX-a.left,i=o.pageY-a.top}else p.data({on_drag:!0}),r.addClass("mCSB_dragger_onDrag"),n=t.pageX-a.left,i=t.pageY-a.top;n<s.width()&&n>0&&i<s.height()&&i>0&&(f=i,m=n)}).bind("touchmove",function(t){t.preventDefault(),t.stopImmediatePropagation();var n=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],i=e(this),s=i.offset(),r=n.pageX-s.left,a=n.pageY-s.top;u(f,m,a,r)}),e(document).bind("mousemove."+p.data("mCustomScrollbarIndex"),function(e){if(p.data("on_drag")){var t=r,n=t.offset(),i=e.pageX-n.left,s=e.pageY-n.top;u(f,m,s,i)}}).bind("mouseup."+p.data("mCustomScrollbarIndex"),function(){p.data({on_drag:!1}),r.removeClass("mCSB_dragger_onDrag")})),p.data({bindEvent_scrollbar_drag:!0})}if(e.support.touch&&p.data("contentTouchScroll")&&!p.data("bindEvent_content_touch")){var y,b,w,x,k,S,C;i.bind("touchstart",function(t){t.stopImmediatePropagation(),y=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],b=e(this),w=b.offset(),k=y.pageX-w.left,x=y.pageY-w.top,S=x,C=k}),i.bind("touchmove",function(t){t.preventDefault(),t.stopImmediatePropagation(),y=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],b=e(this).parent(),w=b.offset(),k=y.pageX-w.left,x=y.pageY-w.top,p.data("horizontalScroll")?p.mCustomScrollbar("scrollTo",C-k,{trigger:"internal"}):p.mCustomScrollbar("scrollTo",S-x,{trigger:"internal"})})}if(p.data("bindEvent_scrollbar_click")||(s.bind("click",function(t){var n=(t.pageY-s.offset().top)*p.data("scrollAmount"),i=e(t.target);p.data("horizontalScroll")&&(n=(t.pageX-s.offset().left)*p.data("scrollAmount")),(i.hasClass("mCSB_draggerContainer")||i.hasClass("mCSB_draggerRail"))&&p.mCustomScrollbar("scrollTo",n,{trigger:"internal",scrollEasing:"draggerRailEase"})}),p.data({bindEvent_scrollbar_click:!0})),p.data("mouseWheel")&&(p.data("bindEvent_mousewheel")||(t.bind("mousewheel",function(e,t){var n,a=p.data("mouseWheelPixels"),o=Math.abs(i.position().top),l=r.position().top,c=s.height()-r.height();p.data("normalizeMouseWheelDelta")&&(t=0>t?-1:1),"auto"===a&&(a=100+Math.round(p.data("scrollAmount")/2)),p.data("horizontalScroll")&&(l=r.position().left,c=s.width()-r.width(),o=Math.abs(i.position().left)),(t>0&&0!==l||0>t&&l!==c)&&(e.preventDefault(),e.stopImmediatePropagation()),n=o-t*a,p.mCustomScrollbar("scrollTo",n,{trigger:"internal"})}),p.data({bindEvent_mousewheel:!0}))),p.data("scrollButtons_enable"))if("pixels"===p.data("scrollButtons_scrollType"))p.data("horizontalScroll")?(c.add(l).unbind("mousedown touchstart MSPointerDown pointerdown mouseup MSPointerUp pointerup mouseout MSPointerOut pointerout touchend",T,D),p.data({bindEvent_buttonsContinuous_x:!1}),p.data("bindEvent_buttonsPixels_x")||(c.bind("click",function(e){e.preventDefault(),d(Math.abs(i.position().left)+p.data("scrollButtons_scrollAmount"))}),l.bind("click",function(e){e.preventDefault(),d(Math.abs(i.position().left)-p.data("scrollButtons_scrollAmount"))}),p.data({bindEvent_buttonsPixels_x:!0}))):(o.add(a).unbind("mousedown touchstart MSPointerDown pointerdown mouseup MSPointerUp pointerup mouseout MSPointerOut pointerout touchend",T,D),p.data({bindEvent_buttonsContinuous_y:!1}),p.data("bindEvent_buttonsPixels_y")||(o.bind("click",function(e){e.preventDefault(),d(Math.abs(i.position().top)+p.data("scrollButtons_scrollAmount"))}),a.bind("click",function(e){e.preventDefault(),d(Math.abs(i.position().top)-p.data("scrollButtons_scrollAmount"))}),p.data({bindEvent_buttonsPixels_y:!0})));else if(p.data("horizontalScroll")){if(c.add(l).unbind("click"),p.data({bindEvent_buttonsPixels_x:!1}),!p.data("bindEvent_buttonsContinuous_x")){c.bind("mousedown touchstart MSPointerDown pointerdown",function(e){e.preventDefault();var t=h();p.data({mCSB_buttonScrollRight:setInterval(function(){p.mCustomScrollbar("scrollTo",Math.abs(i.position().left)+t,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var T=function(e){e.preventDefault(),clearInterval(p.data("mCSB_buttonScrollRight"))};c.bind("mouseup touchend MSPointerUp pointerup mouseout MSPointerOut pointerout",T),l.bind("mousedown touchstart MSPointerDown pointerdown",function(e){e.preventDefault();var t=h();p.data({mCSB_buttonScrollLeft:setInterval(function(){p.mCustomScrollbar("scrollTo",Math.abs(i.position().left)-t,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var D=function(e){e.preventDefault(),clearInterval(p.data("mCSB_buttonScrollLeft"))};l.bind("mouseup touchend MSPointerUp pointerup mouseout MSPointerOut pointerout",D),p.data({bindEvent_buttonsContinuous_x:!0})}}else if(o.add(a).unbind("click"),p.data({bindEvent_buttonsPixels_y:!1}),!p.data("bindEvent_buttonsContinuous_y")){o.bind("mousedown touchstart MSPointerDown pointerdown",function(e){e.preventDefault();var t=h();p.data({mCSB_buttonScrollDown:setInterval(function(){p.mCustomScrollbar("scrollTo",Math.abs(i.position().top)+t,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var E=function(e){e.preventDefault(),clearInterval(p.data("mCSB_buttonScrollDown"))};o.bind("mouseup touchend MSPointerUp pointerup mouseout MSPointerOut pointerout",E),a.bind("mousedown touchstart MSPointerDown pointerdown",function(e){e.preventDefault();var t=h();p.data({mCSB_buttonScrollUp:setInterval(function(){p.mCustomScrollbar("scrollTo",Math.abs(i.position().top)-t,{trigger:"internal",scrollEasing:"easeOutCirc"})},17)})});var F=function(e){e.preventDefault(),clearInterval(p.data("mCSB_buttonScrollUp"))};a.bind("mouseup touchend MSPointerUp pointerup mouseout MSPointerOut pointerout",F),p.data({bindEvent_buttonsContinuous_y:!0})}p.data("autoScrollOnFocus")&&(p.data("bindEvent_focusin")||(t.bind("focusin",function(){t.scrollTop(0).scrollLeft(0);var n=e(document.activeElement);if(n.is("input,textarea,select,button,a[tabindex],area,object")){var s=i.position().top,r=n.position().top,a=t.height()-n.outerHeight();p.data("horizontalScroll")&&(s=i.position().left,r=n.position().left,a=t.width()-n.outerWidth()),(0>s+r||s+r>a)&&p.mCustomScrollbar("scrollTo",r,{trigger:"internal"})}}),p.data({bindEvent_focusin:!0}))),p.data("autoHideScrollbar")&&!p.data("alwaysShowScrollbar")&&(p.data("bindEvent_autoHideScrollbar")||(t.bind("mouseenter",function(){t.addClass("mCS-mouse-over"),n.showScrollbar.call(t.children(".mCSB_scrollTools"))}).bind("mouseleave touchend",function(e){t.removeClass("mCS-mouse-over"),"mouseleave"===e.type&&n.hideScrollbar.call(t.children(".mCSB_scrollTools"))}),p.data({bindEvent_autoHideScrollbar:!0})))},scrollTo:function(t,i){function s(e){if(u.data("mCustomScrollbarIndex"))switch(this.mcs={top:p.position().top,left:p.position().left,draggerTop:g.position().top,draggerLeft:g.position().left,topPct:Math.round(100*Math.abs(p.position().top)/Math.abs(p.outerHeight()-h.height())),leftPct:Math.round(100*Math.abs(p.position().left)/Math.abs(p.outerWidth()-h.width()))},e){case"onScrollStart":u.data("mCS_tweenRunning",!0).data("onScrollStart_Callback").call(u,this.mcs);break;case"whileScrolling":u.data("whileScrolling_Callback").call(u,this.mcs);break;case"onScroll":u.data("onScroll_Callback").call(u,this.mcs);break;case"onTotalScrollBack":u.data("onTotalScrollBack_Callback").call(u,this.mcs);break;case"onTotalScroll":u.data("onTotalScroll_Callback").call(u,this.mcs)}}var r,a,o,l,c,u=e(this),d={moveDragger:!1,trigger:"external",callbacks:!0,scrollInertia:u.data("scrollInertia"),scrollEasing:u.data("scrollEasing")},i=e.extend(d,i),h=u.children(".mCustomScrollBox"),p=h.children(".mCSB_container"),f=h.children(".mCSB_scrollTools"),m=f.children(".mCSB_draggerContainer"),g=m.children(".mCSB_dragger"),v=draggerSpeed=i.scrollInertia;if(!p.hasClass("mCS_no_scrollbar")&&(u.data({mCS_trigger:i.trigger}),u.data("mCS_Init")&&(i.callbacks=!1),t||0===t)){if("number"==typeof t)i.moveDragger?(r=t,t=u.data("horizontalScroll")?g.position().left*u.data("scrollAmount"):g.position().top*u.data("scrollAmount"),draggerSpeed=0):r=t/u.data("scrollAmount");else if("string"==typeof t){var _;_="top"===t?0:"bottom"!==t||u.data("horizontalScroll")?"left"===t?0:"right"===t&&u.data("horizontalScroll")?p.outerWidth()-h.width():"first"===t?u.find(".mCSB_container").find(":first"):"last"===t?u.find(".mCSB_container").find(":last"):u.find(t):p.outerHeight()-h.height(),1===_.length?(t=u.data("horizontalScroll")?_.position().left:_.position().top,r=t/u.data("scrollAmount")):r=t=_}if(u.data("horizontalScroll")){u.data("onTotalScrollBack_Offset")&&(o=-u.data("onTotalScrollBack_Offset")),u.data("onTotalScroll_Offset")&&(c=h.width()-p.outerWidth()+u.data("onTotalScroll_Offset")),0>r?(r=t=0,clearInterval(u.data("mCSB_buttonScrollLeft")),o||(a=!0)):r>=m.width()-g.width()?(r=m.width()-g.width(),t=h.width()-p.outerWidth(),clearInterval(u.data("mCSB_buttonScrollRight")),c||(l=!0)):t=-t;var y=u.data("snapAmount");y&&(t=Math.round(t/y)*y-u.data("snapOffset")),n.mTweenAxis.call(this,g[0],"left",Math.round(r),draggerSpeed,i.scrollEasing),n.mTweenAxis.call(this,p[0],"left",Math.round(t),v,i.scrollEasing,{onStart:function(){i.callbacks&&!u.data("mCS_tweenRunning")&&s("onScrollStart"),u.data("autoHideScrollbar")&&!u.data("alwaysShowScrollbar")&&n.showScrollbar.call(f)},onUpdate:function(){i.callbacks&&s("whileScrolling")},onComplete:function(){i.callbacks&&(s("onScroll"),(a||o&&p.position().left>=o)&&s("onTotalScrollBack"),(l||c&&p.position().left<=c)&&s("onTotalScroll")),g.data("preventAction",!1),u.data("mCS_tweenRunning",!1),u.data("autoHideScrollbar")&&!u.data("alwaysShowScrollbar")&&(h.hasClass("mCS-mouse-over")||n.hideScrollbar.call(f))}})}else{u.data("onTotalScrollBack_Offset")&&(o=-u.data("onTotalScrollBack_Offset")),u.data("onTotalScroll_Offset")&&(c=h.height()-p.outerHeight()+u.data("onTotalScroll_Offset")),0>r?(r=t=0,clearInterval(u.data("mCSB_buttonScrollUp")),o||(a=!0)):r>=m.height()-g.height()?(r=m.height()-g.height(),t=h.height()-p.outerHeight(),clearInterval(u.data("mCSB_buttonScrollDown")),c||(l=!0)):t=-t;var y=u.data("snapAmount");y&&(t=Math.round(t/y)*y-u.data("snapOffset")),n.mTweenAxis.call(this,g[0],"top",Math.round(r),draggerSpeed,i.scrollEasing),n.mTweenAxis.call(this,p[0],"top",Math.round(t),v,i.scrollEasing,{onStart:function(){i.callbacks&&!u.data("mCS_tweenRunning")&&s("onScrollStart"),u.data("autoHideScrollbar")&&!u.data("alwaysShowScrollbar")&&n.showScrollbar.call(f)},onUpdate:function(){i.callbacks&&s("whileScrolling")},onComplete:function(){i.callbacks&&(s("onScroll"),(a||o&&p.position().top>=o)&&s("onTotalScrollBack"),(l||c&&p.position().top<=c)&&s("onTotalScroll")),g.data("preventAction",!1),u.data("mCS_tweenRunning",!1),u.data("autoHideScrollbar")&&!u.data("alwaysShowScrollbar")&&(h.hasClass("mCS-mouse-over")||n.hideScrollbar.call(f))}})}u.data("mCS_Init")&&u.data({mCS_Init:!1})}},stop:function(){var t=e(this),i=t.children().children(".mCSB_container"),s=t.children().children().children().children(".mCSB_dragger");n.mTweenAxisStop.call(this,i[0]),n.mTweenAxisStop.call(this,s[0])},disable:function(t){var n=e(this),i=n.children(".mCustomScrollBox"),s=i.children(".mCSB_container"),r=i.children(".mCSB_scrollTools"),a=r.children().children(".mCSB_dragger");i.unbind("mousewheel focusin mouseenter mouseleave touchend"),s.unbind("touchstart touchmove"),t&&(n.data("horizontalScroll")?a.add(s).css("left",0):a.add(s).css("top",0)),r.css("display","none"),s.addClass("mCS_no_scrollbar"),n.data({bindEvent_mousewheel:!1,bindEvent_focusin:!1,bindEvent_content_touch:!1,bindEvent_autoHideScrollbar:!1}).addClass("mCS_disabled")},destroy:function(){var t=e(this);t.removeClass("mCustomScrollbar _mCS_"+t.data("mCustomScrollbarIndex")).addClass("mCS_destroyed").children().children(".mCSB_container").unwrap().children().unwrap().siblings(".mCSB_scrollTools").remove(),e(document).unbind("mousemove."+t.data("mCustomScrollbarIndex")+" mouseup."+t.data("mCustomScrollbarIndex")+" MSPointerMove."+t.data("mCustomScrollbarIndex")+" MSPointerUp."+t.data("mCustomScrollbarIndex")),e(window).unbind("resize."+t.data("mCustomScrollbarIndex"))}},n={showScrollbar:function(){this.stop().animate({opacity:1},"fast")},hideScrollbar:function(){this.stop().animate({opacity:0},"fast")},mTweenAxis:function(e,t,n,i,s,r){function a(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()}function o(){v||p.call(),v=a()-g,l(),v>=e._time&&(e._time=v>e._time?v+h-(v-e._time):v+h-1,e._time<v+1&&(e._time=v+1)),e._time<i?e._id=_request(o):m.call()}function l(){i>0?(e.currVal=d(e._time,_,b,i,s),y[t]=Math.round(e.currVal)+"px"):y[t]=n+"px",f.call()}function c(){h=1e3/60,e._time=v+h,_request=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return l(),setTimeout(e,.01)},e._id=_request(o)}function u(){null!=e._id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._id):clearTimeout(e._id),e._id=null)}function d(e,t,n,i,s){switch(s){case"linear":return n*e/i+t;case"easeOutQuad":return e/=i,-n*e*(e-2)+t;case"easeInOutQuad":return e/=i/2,1>e?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t);case"easeOutCubic":return e/=i,e--,n*(e*e*e+1)+t;case"easeOutQuart":return e/=i,e--,-n*(e*e*e*e-1)+t;case"easeOutQuint":return e/=i,e--,n*(e*e*e*e*e+1)+t;case"easeOutCirc":return e/=i,e--,n*Math.sqrt(1-e*e)+t;case"easeOutSine":return n*Math.sin(e/i*(Math.PI/2))+t;case"easeOutExpo":return n*(-Math.pow(2,-10*e/i)+1)+t;case"mcsEaseOut":var r=(e/=i)*e,a=r*e;return t+n*(.499999999999997*a*r+-2.5*r*r+5.5*a+-6.5*r+4*e);case"draggerRailEase":return e/=i/2,1>e?n/2*e*e*e+t:(e-=2,n/2*(e*e*e+2)+t)}}var h,r=r||{},p=r.onStart||function(){},f=r.onUpdate||function(){},m=r.onComplete||function(){},g=a(),v=0,_=e.offsetTop,y=e.style;"left"===t&&(_=e.offsetLeft);var b=n-_;u(),c()},mTweenAxisStop:function(e){null!=e._id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._id):clearTimeout(e._id),e._id=null)},rafPolyfill:function(){for(var e=["ms","moz","webkit","o"],t=e.length;--t>-1&&!window.requestAnimationFrame;)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"]}};n.rafPolyfill.call(),e.support.touch=!!("ontouchstart"in window),e.support.pointer=window.navigator.pointerEnabled,e.support.msPointer=window.navigator.msPointerEnabled;var i="https:"==document.location.protocol?"https:":"http:";e.event.special.mousewheel||document.write('<script src="'+i+'//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.0.6/jquery.mousewheel.min.js"></script>'),e.fn.mCustomScrollbar=function(n){return t[n]?t[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?void e.error("Method "+n+" does not exist"):t.init.apply(this,arguments)}}(jQuery),define("scrollbar",["jquery"],function(e){return function(){var t;return t||e.scrollbar}}(this)),define("plugins/main",["jquery","plugins/validation","plugins/datepicker","plugins/citySelector","plugins/miscs","plugins/message","plugins/helper","plugins/dateFormat","plugins/ajaxlogin","plugins/cometd","config","scrollbar"],function(e,t,n,i,s,r,a,o,l,c){return{init:function(){c.comet.join(),s.minheight(),t.init(),n.init(),i.init(),s.autoIframeHeight(),s.uploadify(),s.hoverDelay(),s.mCustomScrollbar(),s.choosenModify(),r.init(),l.init()}}}),define("plugins",["plugins/main"],function(e){return e}),define("hbs!modules/template/intended",["handlebars"],function(e){return e.template(function(e,t,n,i,s){function r(){var e="";return e}function a(){return'checked="checked"'}function o(){return"\r\n        "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var l,c,u,d="",h=this,p=n.helperMissing,f="function",m=n.blockHelperMissing,g=this.escapeExpression;return d+='<p class="item-hd">\r\n    <span class="fr">\r\n        创建时间:<em class="ft12 ftgrey">',c=n.dateFormat||t&&t.dateFormat,u={hash:{},inverse:h.noop,fn:h.program(1,r,s),data:s},l=c?c.call(t,t&&t.createTime,"datehm",u):p.call(t,"dateFormat",t&&t.createTime,"datehm",u),(l||0===l)&&(d+=l),d+='</em>\r\n    </span>\r\n    <input type="checkbox" ',u={hash:{},inverse:h.noop,fn:h.program(3,a,s),data:s},(c=n.selected)?l=c.call(t,u):(c=t&&t.selected,l=typeof c===f?c.call(t,u):c),n.selected||(l=m.call(t,l,{hash:{},inverse:h.noop,fn:h.program(3,a,s),data:s})),(l||0===l)&&(d+=l),d+=' name="ck-scid" class="ck-vt">\r\n    <strong class="carid ftblue ftbold">',(c=n.truckLicenseNo)?l=c.call(t,{hash:{},data:s}):(c=t&&t.truckLicenseNo,l=typeof c===f?c.call(t,{hash:{},data:s}):c),d+=g(l)+'</strong>\r\n    <span class="starlevel">\r\n        ',c=n.ranking||t&&t.ranking,u={hash:{},inverse:h.noop,fn:h.program(5,o,s),data:s},l=c?c.call(t,t&&t.sincerityLevel,u):p.call(t,"ranking",t&&t.sincerityLevel,u),(l||0===l)&&(d+=l),d+='\r\n    </span>\r\n    <i class="icon i13-21 ico-map"></i>\r\n    <span class="distance">约<strong class="ftorange">3.5</strong>公里</span>\r\n</p>\r\n<div class="tab-bd">\r\n    <ul>\r\n        <li class="col co1">\r\n            <span class="cartype ftgrey">',(c=n.truckModelName)?l=c.call(t,{hash:{},data:s}):(c=t&&t.truckModelName,l=typeof c===f?c.call(t,{hash:{},data:s}):c),d+=g(l)+"&nbsp;",(c=n.regTonnage)?l=c.call(t,{hash:{},data:s}):(c=t&&t.regTonnage,l=typeof c===f?c.call(t,{hash:{},data:s}):c),d+=g(l)+'吨</span>\r\n            <span class="carowner ftgrey">',(c=n.userName)?l=c.call(t,{hash:{},data:s}):(c=t&&t.userName,l=typeof c===f?c.call(t,{hash:{},data:s}):c),d+=g(l)+'</span>\r\n        </li>\r\n        <li class="col co2">\r\n            <span class="uniprice ftorange"><em class="ftarial ft20">',(c=n.quotePrice)?l=c.call(t,{hash:{},data:s}):(c=t&&t.quotePrice,l=typeof c===f?c.call(t,{hash:{},data:s}):c),d+=g(l)+'</em>元/吨</span>\r\n        </li>\r\n        <li class="col co3">\r\n            <span class="btn-a-blue"><a href="javascript:void(0);" class="br3 book-btn">确认订车<i class="icon i15-12\r\n            ico-btnarw"></i></a></span>\r\n        </li>\r\n    </ul>\r\n</div>\r\n'})}),define("hbs!modules/template/booked",["handlebars"],function(e){return e.template(function(e,t,n,i,s){function r(){var e="";return e}function a(){return'checked="checked"'}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),s=s||{};var o,l,c,u="",d=this,h=n.helperMissing,p="function",f=n.blockHelperMissing,m=this.escapeExpression;return u+='<p class="item-hd">\r\n    <span class="fr">\r\n        <em class="ft12 ftgrey">',l=n.dateFormat||t&&t.dateFormat,c={hash:{},inverse:d.noop,fn:d.program(1,r,s),data:s},o=l?l.call(t,t&&t.createTime,"datehm",c):h.call(t,"dateFormat",t&&t.createTime,"datehm",c),(o||0===o)&&(u+=o),u+='</em>\r\n    </span>\r\n    <input type="checkbox" ',c={hash:{},inverse:d.noop,fn:d.program(3,a,s),data:s},(l=n.selected)?o=l.call(t,c):(l=t&&t.selected,o=typeof l===p?l.call(t,c):l),n.selected||(o=f.call(t,o,{hash:{},inverse:d.noop,fn:d.program(3,a,s),data:s})),(o||0===o)&&(u+=o),u+=' name="ck-booked" id="ck-scid" class="ck-vt">\r\n    <strong class="carid ftblue ftbold">',(l=n.truckLicenseNo)?o=l.call(t,{hash:{},data:s}):(l=t&&t.truckLicenseNo,o=typeof l===p?l.call(t,{hash:{},data:s}):l),u+=m(o)+'</strong>\r\n    <i class="icon i13-21 ico-map"></i>\r\n</p>\r\n<div class="tab-bd">\r\n    <ul>\r\n        <li class="col co1">\r\n            <span class="carowner ftgrey">',(l=n.userName)?o=l.call(t,{hash:{},data:s}):(l=t&&t.userName,o=typeof l===p?l.call(t,{hash:{},data:s}):l),u+=m(o)+",",(l=n.phone)?o=l.call(t,{hash:{},data:s}):(l=t&&t.phone,o=typeof l===p?l.call(t,{hash:{},data:s}):l),u+=m(o)+' <i class="icon i31-20\r\n            ico-idcerti"></i></span>\r\n        </li>\r\n        <li class="col co2">\r\n            <span class="cancelbook"><a href="javascript:void(0);">取消订车</a></span>\r\n        </li>\r\n    </ul>\r\n</div>\r\n'})}),define("modules/freight/bookingconfirm",["jquery","jQvalidation","jQmessage","jQvalidationRule","config","plugins/miscs","backbone","_","plugins/models","hbs!modules/template/intended","hbs!modules/template/booked","plugins/cometd","json3"],function(e,t,n,i,s,r,a,o,l,c,u,d,h){var p=a.View.extend({msgMaxLength:210,el:"#wait_booking_confirm",events:{"keydown #booking_truck_confirm_msg,keyup  #booking_truck_confirm_msg":"updateCount","click .cancel a":"close","click .confirm a":"confirm"},initialize:function(e){this.intendedList=e.intendedList,this.model.on("selectEnd",o.bind(this.show,this))},updateCount:function(){var e=this.$el.find("#booking_truck_confirm_msg");e&&e.val()&&this.$el.find("#booking_truck_confirm_msg_len").text(e.val().trim().length+"/"+this.msgMaxLength)},show:function(){if(0!=this.model.models.length){var t="";t=this.model.models.length>1?"******":this.model.models[0].get("truckLicenseNo"),e("#stay_trucklicenseNo").text(t),e("#booking_truck_confirm_error_msg").val(null),this.updateCount(),e(this.el).popup()}},close:function(){this.$el.find(".close").trigger("click")},confirm:function(){var t=this.$el.find("#booking_truck_confirm_msg").val(),n=[],i=[];o.each(this.model.models,function(e){var t=e.toJSON();n.push(t.frId),i.push(t.phone)});var r=this;e.ajax({type:"POST",url:s.ctx+"/bookingTruck/"+L.freightId+"/stayConfirm",data:{ids:n,phones:i,msg:t},dataType:"json",success:function(){r.$el.find("#title_msg_popup").text("订车确认"),r.$el.find("#result_msg_popup1").text("恭喜您，信息发送成功!"),r.$el.find("#result_msg_popup2").text("您已成功预订所选车辆!"),r.intendedList.remove(r.model.models),U.add(r.model.models),r.model.reset([]),r.close(),r=null},error:function(){r.$el.find("#booking_truck_confirm_error_msg").text("系统忙,稍后再试..."),r=null}})}}),f=a.View.extend({msgMaxLength:210,el:"#bookingtruck_cancel",events:{"click .cancel a":"close","click .confirm a":"confirm"},initialize:function(e){this.bookedList=e.bookedList,this.model.on("selectAlreadyEnd",o.bind(this.show,this))},show:function(){0!=this.model.models.length&&(e.ajax({type:"GET",url:s.ctx+"/bookingTruck/frIdToOrder",data:{freightResponseId:this.model.models[0].get("frId")},dataType:"json",success:function(t){t&&(e("#order_popup_cancel_orderNo").text(t.orderNo),e("#order_popup_cancel_shipperAddrName").text(t.shipperAddrName),e("#order_popup_cancel_consigneeAddrName").text(t.consigneeAddrName),e("#order_popup_cancel_truckLicenseNo").text(t.truckLicenseNo),e("#order_popup_cancel_truckModel").text(t.truckModel),e("#order_popup_cancel_driverName").text(t.driverName))}}),e(this.el).popup())},close:function(){this.$el.find(".close").trigger("click")},confirm:function(){var t=this,n=t.model.models[0].get("frId"),i=e("[name='cancel_reason']:checked").val(),r=e("[name=cancel_description]").val();e.ajax({type:"POST",url:s.ctx+"/bookingTruck/cancel",data:{freightresponseId:n,description:r,reason:i},dataType:"json",success:function(n){n?(e("#cancel_error_info").addClass("hide"),U.remove(t.model.models),t.model.reset([]),t.close(),t=null):e("#cancel_error").removeClass("hide")}})}}),m=a.View.extend({msgMaxLength:140,el:"#sendnotice",events:{"click .cancel a":"close","click .confirm a":"confirm"},initialize:function(e){this.bookedList=e.bookedList,this.model.on("selectEnd",o.bind(this.show,this))},show:function(){0!=this.model.models.length&&(e("[name=sendnotice]").val(""),e(this.el).popup())},close:function(){this.$el.find(".close").trigger("click")},confirm:function(){var t=this,n=[],i=[];o.each(this.model.models,function(e){var t=e.toJSON();n.push(t.driverId),i.push(t.frId)});var r=e("[name=sendnotice]").val(),a={driverids:n,content:r,freightResponseIds:i};e.ajax({type:"POST",url:s.ctx+"/bookingTruck/batchNotice",data:a,dataType:"json",success:function(n){n.success?(e("#sendnotice_error").hasClass("hide")||e("#sendnotice_error").addClass("hide"),t.close(),e("#sendnotice_info").popup()):e("#sendnotice_error").removeClass("hide")},error:function(){e("#already_booking_truck_confirm_error_msg").text("系统忙,稍后再试...")}})}}),g=a.Model.extend({defaults:{count:-1},addSelf:function(){this.set("count",this.get("count")+1)},setCount:function(e){void 0!=e&&this.set("count",parseInt(e))},getCount:function(){return void 0==this.get("count")?0:this.get("count")}}),v=a.View.extend({initialize:function(){this.model.on("change",o.bind(this.render,this))},render:function(){return this.$el.html(this.model.get("count")),this}}),_=l.MultipleSelectItem.extend({idAttribute:"truckId"}),y=l.MultipleSelectList.extend({model:_,url:function(){return s.ctx+"/bookingTruck/"+this.freightId+"/alreadyTruckList"},initialize:function(e){this.already=e.already,this.on("add",o.bind(this.updateAlreadyCount,this)),this.on("remove",o.bind(this.updateAlreadyCount,this)),this.on("reset",o.bind(this.updateAlreadyCount,this))},updateAlreadyCount:function(){this.already.setCount(this.models.length)}}),b=a.View.extend({className:"uc-item br3",template:u,events:{"click .cancelbook a":"cancelBook","click [name=ck-booked]":"choose"},initialize:function(e){this.alreadyList=e.alreadyList,this.model.on("remove",o.bind(this.removeFromList,this))},render:function(){this.$el.hide(),this.$el.html(this.template(this.model.toJSON())),this.$el.show("slide")},choose:function(t){t.stopPropagation();var n=e(t.target);n.is(":checked")?this.model.select():this.model.deselect()},removeFromList:function(){var e=this;this.$el.fadeOut(500,function(){e.remove(),e=null})},cancelBook:function(t){return e("input[name='freightResponseId_cancel']").val(this.model.toJSON().frId),t.preventDefault(),t.stopPropagation(),this.alreadyList.reset([this.model]),this.alreadyList.trigger("selectAlreadyEnd"),!1}}),w=a.View.extend({initialize:function(e){this.alreadyList=e.alreadyList,this.model.on("add",o.bind(this.addOne,this)),this.model.on("reset",o.bind(this.render,this))},addOne:function(e){var t=new b({model:e,alreadyList:M});this.$el.append(t.$el),t.render()},render:function(){return o.each(this.model.models,this.addOne),this}}),x=l.MultipleSelectItem.extend({idAttribute:"truckId",initialize:function(e){this.freightResponseId=e.freightResponseId},url:function(){return s.ctx+"/bookingTruck/waitTruck/"+this.freightResponseId}}),k=l.MultipleSelectList.extend({model:x,initialize:function(e){this.wait=e.wait,this.comparator=this.defaultComparator,this.on("remove",o.bind(this.triggerItemRemove,this)),this.on("add",o.bind(this.updateWaitCount,this)),this.on("reset",o.bind(this.updateWaitCount,this))},updateWaitCount:function(){this.wait.setCount(this.models.length)},url:function(){return s.ctx+"/bookingTruck/"+this.freightId+"/waitTruckList"},triggerItemRemove:function(e){this.wait.setCount(this.models.length),e.trigger("remove")},defaultComparator:function(e,t){return t.attributes.createTime-e.attributes.createTime},sortByDefault:function(){this.comparator=this.defaultComparator,this.sort()},sortByQuotePrice:function(e){this.comparator=function(t,n){return(t.attributes.quotePrice-n.attributes.quotePrice)*(e?1:-1)},this.sort()},sortBySincerityLevel:function(e){this.comparator=function(t,n){return(t.get("userCarrierInfo").sincerityLevel-n.get("userCarrierInfo").sincerityLevel)*(e?1:-1)},this.sort()},sortByDistance:function(){this.comparator=function(){return 0},this.sort()}}),S=a.View.extend({className:"uc-item",template:c,events:{"click .book-btn":"book","click [name=ck-scid]":"choose"},initialize:function(e){this.toBookList=e.toBookList,this.model.on("remove",o.bind(this.removeFromList,this)),this.model.on("change:selected",o.bind(this.updateSelected,this))
},updateSelected:function(){this.model.isSelected()?this.$el.find(".ck-vt").prop("checked","checked"):this.$el.find(".ck-vt").prop("checked",!1),this.lineUpdateClass()},book:function(e){return e.stopPropagation(),e.preventDefault(),this.toBookList.reset([this.model]),this.toBookList.trigger("selectEnd"),!1},choose:function(t){t.stopPropagation();var n=e(t.target);n.is(":checked")?this.model.select():this.model.deselect()},render:function(){this.$el.hide(),this.$el.html(this.template(this.model.toJSON())),this.$el.show("slide"),this.lineUpdateClass()},removeFromList:function(){var e=this;this.$el.fadeOut(500,function(){e.remove(),e.lineUpdateClass(),e=null})},lineUpdateClass:function(){e(".intensioncar .uc-item-list > div:even",".bookingconfirm_view").removeClass("bgwhite"),e(".intensioncar .uc-item-list > div:odd",".bookingconfirm_view").addClass("bgwhite")}}),C=a.View.extend({initialize:function(e){this.toBookList=e.toBookList,o.bindAll(this,"addOne","render"),this.model.on("add",this.addOne),this.model.on("reset",this.render),this.model.on("sort",this.render)},addOne:function(e){var t=new S({model:e,toBookList:O});this.$el.append(t.el),t.render()},render:function(){return this.$el.empty(),o.each(this.model.models,o.bind(this.addOne,this)),e(".intensioncar .uc-item-list > div:even",".bookingconfirm_view").removeClass("bgwhite"),e(".intensioncar .uc-item-list > div:odd",".bookingconfirm_view").addClass("bgwhite"),this}}),T=a.View.extend({events:{"click .batch-book":"batchBook","click #stay_truck_all_ck":"checkAll","click .int-tablist ul li a":"sort"},sort:function(t){t.preventDefault(),t.stopPropagation();var n=e(t.target),i=n.data("sortBy"),s=null==n.data("curAsc")?n.data("asc"):!n.data("curAsc");switch(i){case"default":this.model.sortByDefault();break;case"sincerityLevel":this.model.sortBySincerityLevel(s);break;case"quotePrice":this.model.sortByQuotePrice(s);break;case"distance":this.model.sortByDistance(s);break;default:this.model.sortByDefault()}return n.data("curAsc",s),this.$el.find(".int-tablist ul li.crt").removeClass("crt"),n.parent("li").addClass("crt"),s?n.find("a").removeClass(".ico-ordertop").addClass(".ico-taborder"):n.find("a").removeClass(".ico-taborder").addClass(".ico-ordertop"),!1},initialize:function(e){this.toBookList=e.toBookList},batchBook:function(){this.toBookList.reset([]),this.toBookList.add(this.model.currentSelected()),this.toBookList.trigger("selectEnd")},checkAll:function(t){t.stopPropagation();var n=e(t.target);n.is(":checked")?this.model.selectAll():this.model.clearSelected()}}),D=a.View.extend({events:{"click #already_truck_all_ck":"checkAll","click #batch_notice":"batchNotice","click #batch_assign_truck":"assignTruck","click #export_truck":"exportBtn"},sort:function(t){t.preventDefault(),t.stopPropagation();var n=e(t.target),i=n.data("sortBy"),s=null==n.data("curAsc")?n.data("asc"):!n.data("curAsc");switch(i){case"default":this.model.sortByDefault();break;case"sincerityLevel":this.model.sortBySincerityLevel(s);break;case"quotePrice":this.model.sortByQuotePrice(s);break;case"distance":this.model.sortByDistance(s);break;default:this.model.sortByDefault()}return n.data("curAsc",s),this.$el.find(".int-tablist ul li.crt").removeClass("crt"),n.parent("li").addClass("crt"),s?n.find("a").removeClass(".ico-ordertop").addClass(".ico-taborder"):n.find("a").removeClass(".ico-taborder").addClass(".ico-ordertop"),!1},initialize:function(e){this.sendNoticeList=e.sendNoticeList},batchNotice:function(){this.sendNoticeList.reset([]),this.sendNoticeList.add(this.model.currentSelected()),this.sendNoticeList.trigger("selectEnd")},exportBtn:function(){var t=this.model.currentSelected();if(t.length){var n=[],i=[],r=[],a=[],l=e("[name=freightName]").val();o.each(t,function(e){var t=e.toJSON();n.push(t.truckLicenseNo),i.push(t.truckModelName),r.push(t.userName),a.push(t.phone)});var c=e("#exportform");e("#exportform").length&&c.remove();var u='<form id="exportform" action="'+s.ctx+'/bookingTruck/export" method="POST">';e.each(n,function(e){u+='<input type="hidden" name="truckLicenses['+e+']" value="'+n[e]+'" />',u+='<input type="hidden" name="truckModels['+e+']" value="'+i[e]+'" />',u+='<input type="hidden" name="driverNames['+e+']" value="'+r[e]+'" />',u+='<input type="hidden" name="phones['+e+']" value="'+a[e]+'" />'}),u+='<input type="hidden" name="freightName" value="'+l+'" />',u+="</form>",e("body").append(u),e("#exportform").submit()}},checkAll:function(t){t.stopPropagation();var n=e(t.target);n.is(":checked")?this.model.selectAll():this.model.clearSelected()}}),E=a.View.extend({el:".svgpercent",initialize:function(e){this.bookedList=e.bookedList,this.totalTransport=e.totalTransport,this.bookedList.on("add",o.bind(this.updateCount,this)),this.bookedList.on("reset",o.bind(this.updateCount,this)),this.bookedList.on("remove",o.bind(this.updateCount,this))},updateCount:function(){var e=o.reduce(this.bookedList.models,function(e,t){return e+parseInt(t.attributes.regTonnage)||0},0);this.svgrun(e,this.totalTransport)},svgrun:function(e,t){if(null!=e&&null!=t&&0!==t){var n=t>=e?Math.ceil(100*e/t):100;this.$el.find(".ftpercent").html(n+"<em>%</em>"),this.$el.find(".fttons").html(e+"<em class='tons'>吨</em>"),(0!=e||0!=t)&&this.$el.find(".svgblue").animate({top:115*(100-n)/100+12.5},4600*(n/100),"linear")}}}),F=new g,I=new g,N=new g,A=new g,L=new k({wait:I,intendedNum:N}),U=new y({already:A}),O=new l.MultipleSelectList,M=new l.MultipleSelectList,j=new l.MultipleSelectList,R=function(e){var t=h.parse(e.data);"FREIGHT_FEED_BACK"==t.messageType&&t.messageBody.freight.id==F.freightId&&F.addSelf()},P=function(e){var t=e.data;if("FREIGHT_RESPONSE"==t.messageType&&t.messageBody.freightResponse.freight_id==L.freightId){var n=new x({freightResponseId:t.messageBody.freightResponse.id});n.fetch({success:function(){N.setCount(N.getCount()+1),L.add(n)}})}},q=function(e,t){e.next().text(e.val().length+"/"+t)},B=function(t){t.preventDefault(),t.stopPropagation();var n=e("[name=id]").val();return document.location=s.ctx+"/bookingTruck/winauto/"+n+"/view",!1},H=function(t){t.preventDefault(),t.stopPropagation(),e("#confirm_closefreight").popup()},$=function(){var t=e("input[name=freightId]").val(),n=e("#already_exist_truck_trucklicenseNo").val();e.ajax({type:"GET",url:s.ctx+"/bookingTruck/licenseToTruck",data:{trucklicenseNo:n,freightId:t},dataType:"json",success:function(t){if(!t.length)return e("input[name=trueName]").val(null),window.bookedUser=[],e(".list_disabled").val(null).removeAttr("disabled"),e(".plusdrop").css({display:"none"}),e("[name=truckmodelId]").trigger("chosen:updated"),e("[name=truckmodelId]").chosen(),void e(".plusdrop ul").html("");var n;if(0!=t.length&&(n=t[0]),!n||2==n.bookingStatus||5!=n.orderStatus&&6==n.orderStatus)window.bookedUser=[],e("input[name=trueName]").val(null),e(".list_disabled").val(null).removeAttr("disabled"),e(".plusdrop").css({display:"none"});else{if(n.truckmodelId&&(e("[name=truckmodelId]").val(n.truckmodelId),e("[name=truckmodelId]").attr("disabled","disabled"),e("[name=truckmodelId]").trigger("chosen:updated"),e("[name=truckmodelId]").chosen()),e("[name=regTonnage]").val(n.regTonnage),n.trueName&&n.userId){if(window.bookedUser=[],t.length>1){for(var i="",s=0;s<t.length;s++)i+='<li data-truename="'+t[s].trueName+'" data-user-id="'+t[s].userId+'" data-phone="'+t[s].phone+'">'+t[s].trueName+"</li>",window.bookedUser.push({trueName:t[s].trueName,userId:t[s].userId,phone:t[s].phone});e(".plusdrop ul").html(i),e(".plusdrop").css({display:"block"})}else e(".plusdrop").css({display:"none"});window.bookedUser.push({trueName:n.trueName,userId:n.userId,phone:n.phone}),e("[name=trueName]").val(n.trueName),e("[name=userId]").val(n.userId),e("[name=phone]").val(n.phone)}e("[name=bookingStatus]").val(n.bookingStatus?2!=n.bookingStatus||5!=n.orderStatus&&6==n.orderStatus?1==n.bookingStatus?n.bookingStatus:"":n.bookingStatus:""),n.freightResponseId&&e("[name=bookedFreightResponseId]").val(n.freightResponseId),e("[name=quotePrice]").attr("disabled")||"1"!=n.bookingStatus||(e("[name=quotePrice]").val(n.quotePrice),e("[name=quotePrice]").attr("disabled","disabled")),n.truckId&&e("input[name=truckId]").val(n.truckId),e(".list_disabled").attr("disabled","disabled"),e(".list_disabled").blur(),e("[name=phone]").attr("disabled",null)}}})},z=function(){e("input[name=trueName]").val(null),window.bookedUser=[],e(".list_disabled").val(null).removeAttr("disabled"),e(".plusdrop").css({display:"none"}),e("[name=truckmodelId]").trigger("chosen:updated"),e("[name=truckmodelId]").chosen(),e(".plusdrop ul").html("")},W=function(t){t.preventDefault(),t.stopPropagation();var n=e("input[name=freightId]").val(),i=e("#already_exist_truck_trucklicenseNo").val();i?e.ajax({type:"GET",url:s.ctx+"/bookingTruck/licenseToTruck",data:{trucklicenseNo:i,freightId:n},dataType:"json",success:function(t){if(!t.length)return void z();var n=t[0];if(!n||2==n.bookingStatus||5!=n.orderStatus&&6==n.orderStatus)z();else{if(n.truckmodelId&&(e("[name=truckmodelId]").val(n.truckmodelId),e("[name=truckmodelId]").attr("disabled","disabled"),e("[name=truckmodelId]").trigger("chosen:updated"),e("[name=truckmodelId]").chosen()),e("[name=regTonnage]").val(n.regTonnage),n.trueName&&n.userId){if(window.bookedUser=[],t.length>1){for(var i="",s=0;s<t.length;s++)i+='<li data-truename="'+t[s].trueName+'" data-user-id="'+t[s].userId+'" data-phone="'+t[s].phone+'">'+t[s].trueName+"</li>",window.bookedUser.push({trueName:t[s].trueName,userId:t[s].userId,phone:t[s].phone});e(".plusdrop ul").html(i),e(".plusdrop").css({display:"block"})}else e(".plusdrop").css({display:"none"});window.bookedUser.push({trueName:n.trueName,userId:n.userId,phone:n.phone}),e("[name=trueName]").val(n.trueName),e("[name=userId]").val(n.userId),e("[name=phone]").val(n.phone)}e("[name=bookingStatus]").val(n.bookingStatus?2!=n.bookingStatus||5!=n.orderStatus&&6==n.orderStatus?1==n.bookingStatus?n.bookingStatus:"":n.bookingStatus:""),n.freightResponseId&&e("[name=bookedFreightResponseId]").val(n.freightResponseId),e("[name=quotePrice]").attr("disabled")||"1"!=n.bookingStatus||(e("[name=quotePrice]").val(n.quotePrice),e("[name=quotePrice]").attr("disabled","disabled")),n.truckId&&e("input[name=truckId]").val(n.truckId),e(".list_disabled").attr("disabled","disabled"),e("[name=phone]").attr("disabled",null)}}}):z()},V=function(){e("#already_exist_truck").popup()},Q=function(){e("#addTruckForm").valid()&&(e("#already_exist_truck").popup("close"),e("#already_exist_truck_push").popup())},J=function(){e("#already_exist_truck_push").popup("close"),e("#already_exist_truck").popup()},Y=function(){e("#already_booking_truck_confirm_error_msg").text("");var t=e("[name=truckmodelId]").val(),n=e("[name=regTonnage]").val(),i=e("[name=trueName]").val(),r=e("[name=phone]").val(),a=e("input[name=freightId]").val(),o=e("#already_exist_truck_trucklicenseNo").val(),l=e("[name=remark]").val(),c=e("[name=bookingStatus]").val(),u=e("[name=quotePrice]").val(),d=e("#add_already_booking_truck_msg").val(),h=e("[name=bookedFreightResponseId]").val(),p=e("[name=truckId]").val(),f=e("[name=userId]").val();e("#add_success_truck").text(o);var m={truckId:p,userId:f,truckmodelId:t,freightResponseId:h,regTonnage:n,userName:i,phone:r,bookingStatus:c,freightId:a,trucklicenseNo:o,quotePrice:u,remark:l,msg:d};e.ajax({type:"POST",url:s.ctx+"/bookingTruck/saveAlreadyBookingTruck",data:m,dataType:"json",success:function(t){t.success?(m.orderId=t.orderId,m.driverId=t.userId,m.createTime=t.createTime,m.truckLicenseNo=o,m.frId=t.freightResponseId,U.add(new _(m)),e("#already_trucklicenseNo").text(e("#already_exist_truck_trucklicenseNo").val()),e("#already_exist_truck_push").popup("close"),e("#already_exist_truck_success").popup()):e("#already_booking_truck_confirm_error_msg").text("系统忙,稍后再试...")},error:function(){e("#already_booking_truck_confirm_error_msg").text("系统忙,稍后再试...")}})},X=function(){var t=e(this),n=t.data("freightId"),i=e(t).val(),r=e("#already_exist_truck_trucklicenseNo_list");r.css({display:"none"}),e.ajax({type:"GET",url:s.ctx+"/bookingTruck/query/trucklicenseNo",data:{trucklicenseNo:i,freightId:n},dataType:"json",async:!1,success:function(t){r.html(""),t.length&&(r.css({display:"block"}),e.each(t,function(e,t){var n="";n+=2==t.status?'<li class="readOnly_list licenseno"  style="cursor: default;"><span class="key-name">':'<li class="licenseno" data-licenseno="'+t.truckLicense_No+'"><span class="key-name">',t.truckLicense_No&&(n+='<span class="key-name">'+t.truckLicense_No+"</span>"),t.status&&(n+='<span class="key-car fr">'+t.statusName+"</span>"),n+="</li>",r.append(n)}))},error:function(){}})},G=function(t){{var n=e("#already_exist_truck_trucklicenseNo_list"),i=e(t.target),s="";e(".plusdrop")}return"trueName"==i.attr("name")?e(".plusdrop").toggleClass("hide"):i.parents(".plusdrop").length||i.hasClass("plusdrop")?"LI"==i[0].tagName&&(e("[name=trueName]").val(i.data("truename")),e("[name=userId]").val(i.data("userId")),e("[name=phone]").val(i.data("phone")),e(".plusdrop").addClass("hide")):e(".plusdrop").addClass("hide"),i.hasClass("readOnly_list")||i.parents("li").hasClass("readOnly_list")?!1:(i.hasClass("licenseno")&&(s=i.data("licenseno")),i.parents("li").hasClass("licenseno")&&(s=i.parents("li").data("licenseno")),s&&(e("#already_exist_truck_trucklicenseNo").val(s),$()),void("already_exist_truck_trucklicenseNo"!=i.attr("id")?n.hasClass("hide")||n.addClass("hide"):""!=t.target.value&&n.toggleClass("hide")))};return{init:function(){var t=e("[name='id']").val();if(t){L.freightId=t,U.freightId=t,F.freightId=t,I.freightId=t,N.freightId=t,A.freightId=t;{new C({el:".intensioncar .uc-item-list",model:L,toBookList:O}),new w({el:".bookedcar .uc-item-list",model:U,alreadyList:M}),new v({el:".booktotal .push .btnum",model:F}),new v({el:".booktotal .wait .btnum",model:N}),new v({el:".booktotal .already .btnum",model:A}),new v({el:".waitListNum",model:I}),new v({el:".alreadyListNum",model:A}),new p({model:O,intendedList:L}),new f({model:M,bookedList:U}),new m({model:j,bookedList:U}),new T({el:".intensioncar",model:L,toBookList:O}),new D({el:".bookedcar",model:U,sendNoticeList:j}),new E({el:".svgpercent",totalTransport:window.totalTransport,bookedList:U})}L.fetch(),U.fetch(),F.setCount(e(".booktotal .push .btnum").text()||0),N.setCount(e(".booktotal .wait .btnum").text()||0),d.comet.addDownstreamListener(R),d.comet.addDownstreamListener(P)}e("[name=id]",".bookingconfirm_view").on("change",B),e("#close_freight_btn",".bookingconfirm_view").on("click",H),e("#already_exist_truck_btn",".bookingconfirm_view").on("click",V),e("#already_exist_truck_trucklicenseNo",".bookingconfirm_view").on("keyup",X),e("#already_exist_truck_trucklicenseNo",".bookingconfirm_view").on("click",X),e("#already_exist_truck_trucklicenseNo",".bookingconfirm_view").on("blur",W),e("#back_already_exist_truck",".bookingconfirm_view").on("click",J),e("#already_exist_truck_push_btn",".bookingconfirm_view").on("click",Q),e("#already_exist_truck_push_btn1",".bookingconfirm_view").on("click",Y),e("input[name=trueName]",".bookingconfirm_view").on("blur",function(t){var n=e(t.target),i=!0;e.each(window.bookedUser,function(t,s){return s.trueName==n.val()?(i=!1,e("[name=trueName]").val(s.trueName),e("[name=userId]").val(s.userId),e("[name=phone]").val(s.phone),void e("[name=phone]").blur()):void 0}),i&&(e("[name=userId]").val(null),e("[name=phone]").val(null))}),e("#already_exist_truck_success_close_btn",".bookingconfirm_view").on("click",function(){z(),e("[name=remark]").val(null),e("#already_exist_truck_trucklicenseNo").val(null),e("#already_exist_truck_success").popup("close")}),e("#continue_already_exist_truck",".bookingconfirm_view").on("click",function(){e("#already_exist_truck_success").popup("close"),V()}),e(document).click(G),e(".car-keyword li").last().css("border-bottom","none"),e(".car-keyword").on("mouseover","li",function(){e(this).addClass("cur").siblings().removeClass("cur")}),e(".car-search").keyup(function(t){38!=t.which&&40!=t.which&&13!=t.which&&e(".car-keyword").removeClass("hide")}),e(".msgLengthArea",".bookingconfirm_view").on("keydown",function(t){var n=e(t.target);q(n,n.attr("maxLength"))}).on("keyup",function(t){var n=e(t.target);q(n,n.attr("maxLength"))}),e("[name=bookingtruck_cancel_list]").click(function(){var t=e(this).data("orderNo"),n=e(this).data("orderId"),i=e(this).data("freightresponseId"),s=e(this).data("truckLicenseNo"),r=e(this).data("truckmodelName"),a=e(this).data("truename");e("#cancel_orderno").text(t),e("#cancel_truckLicenseno").text(s),e("#cancel_truckmodelname").text(r),e("#cancel_truename").text(a),e("[name=cancel_freightResponse]").val(i),e("[name=cancel_orderId]").val(n),e("#bookingtruck_cancel").popup("close")}),e("[name=id]",".bookingconfirm_view").next().css({width:"300px"}),e("#already_truck_all_ck",".bookingconfirm_view").on("click",function(t){e("[name=ck-booked]").prop("checked",e(t.target).prop("checked"))}),e(".popup_cancel",".bookingconfirm_view").on("click",function(){e("#confirm_closefreight").popup("close")}),e("#sendnotice_info_close",".bookingconfirm_view").on("click",function(){e("#sendnotice_info").popup("close")}),e(".closefreight_confirm",".bookingconfirm_view").on("click",function(){var t=e("[name=freightId]").val();document.location=s.ctx+"/freight/"+t+"/close"});var n={rules:{truckmodelId:{required:!0},regTonnage:{required:!0,number:!0},trueName:{required:!0},phone:{required:!0,mobileNumber:!0}}};e("#addTruckForm",".bookingconfirm_view").validate(n),e("[name=truckmodelId]",".bookingconfirm_view").next().css({width:"153px"})}}}),define("modules/freight/bookrun",[],function(){function e(){var r=parseInt($(".mqprogress").css("width"));return r>8*i?(i+=1,$(".mprun").css("margin-left",8*i),void(n=setTimeout(e,50))):(s=-1,void t())}function t(){var r=parseInt($(".mqprogress-right").css("width"));return r>8*s?(s+=1,$(".mprun-right").css("margin-left",8*s),void(n=setTimeout(t,50))):(i=-1,void e())}var n,i=0,s=0;return{init:function(){$(window).resize(function(){n&&window.clearTimeout(n),e()}),e()}}}),define("modules/freight/scheight",[],function(){function e(){var e;e="undefined"!=typeof document.documentElement&&0!=document.documentElement.clientWidth?document.documentElement.clientHeight:document.getElementsByTagName("body")[0].clientHeight,$(".uc-item-list").css("height",e-320),$(".leftinfo").css("height",e-160)}return{init:function(){e(),$(window).resize(e)}}}),define("modules/freight/timer",[],function(){var e=function(){var e=$("input[name=freight_createTime]").val(),t=(new Date).getTime(),n=Math.abs(t-e),i=Math.floor(n/864e5),s=n%864e5,r=Math.floor(s/36e5),a=n%36e5,o=Math.floor(a/6e4),l=n%6e4,c=Math.floor(l/1e3);10>i&&(i="0"+i),10>r&&(r="0"+r),10>o&&(o="0"+o),10>c&&(c="0"+c),$(".timer > .day").text(i),$(".timer > .hour").text(r),$(".timer > .minute").text(o),$(".timer > .second").text(c)};return{init:function(){setInterval(e,1e3);e()}}}),define("modules/freight/push",["jquery","jQvalidation","jQmessage","jQvalidationRule","datepicker","plugins/miscs","config","_"],function(e,t,n,i,s,r,a){var o=function(t,n,i,s){var r=!0,o=!0,c=e("[name='"+t+"']").val(),u=e("#"+n).val(),d=e("[name='"+i+"']").val(),h=e("#"+s).val();return u&&c?(r&&o&&e.ajax({type:"GET",url:a.ctx+"/freight/isExistAddr",data:{address:u,id:c},async:!1,dataType:"json",success:function(t){r=t.result,l(t.result,n),r&&e.ajax({type:"GET",url:a.ctx+"/freight/isExistAddr",data:{address:h,id:d},async:!1,dataType:"json",success:function(e){o=e.result,l(e.result,s)}})},error:function(){}}),r&&o):(l(!1,n),r=!1,h&&d||(l(!1,s),o=!1),!1)},l=function(t,n){setTimeout(function(){var i=e("#"+n).nextAll("strong").eq(0);t?i.hasClass("hide")||(i.text(""),i.addClass("hide")):(i.text("选择的地址不合法"),i.is(":hidden")&&i.removeClass("hide"))},50)},c=function(t){var n=!1,i=!0;if(t&&(e("[name=truckck]:checked").each(function(){n=!0,e("submit_ck").addClass("hide")}),!n))return e("#submit_ck").removeClass("hide"),n;if(i||!t){var i=o("commEntitys[0].countyCode","citySelectId","commEntitys[1].countyCode","citySelectId2");if(!e("#push").valid()||!i)return!1;e.ajax({type:"GET",url:a.ctx+"/freight/mobileVerify",data:"",async:!1,success:function(n){if(!t)return n?n:(e("#showdialog").popup("close"),e("#mobileverify_info").popup(),i=n);if(!n)return e("#showdialog").popup("close"),e("#mobileverify_info").popup(),i=!1,!1;var s=e("[name='freightEntity.goodsDesc']"),r=e(".chosen-container span").text();s.length>0?s.val(r):e("#push").append('<input type="hidden" name="freightEntity.goodsDesc" value="'+r+'"/>'),e("#push").submit()}})}return i};return{init:function(){e.validator.addMethod("decimalOne",function(e,t,n){if(e.length<1)return!1;var i=new RegExp("^[0-9]+(.[0-9]{1,"+n+"})?$");return e.match(i)?!0:!1},"最多输入一位小数");var t={rules:{"freightEntity.totalTransport":{required:!0,number:!0,decimalOne:1},"freightEntity.unitPrice":{number:!0,decimalOne:4},"freightEntity.goodsId":{required:!0},"freightEntity.loadingDate":{required:!0}},messages:{"freightEntity.unitPrice":{decimalOne:"最多输入四位小数"}},errorPlacement:function(t,n){var i=t[0],s=e(n);s.nextAll("strong:eq(0)").removeClass("hide"),s.nextAll("strong:eq(0)").text(i.innerHTML)},unhighlight:function(t){var n=e(t);n.nextAll("strong:eq(0)").addClass("hide")}};e("#push",".freight_push_page").validate(t),e("#truckModel_text",".freight_push_page").on("click",function(){e("#truckModel_detail").toggleClass("hide")}),e.ajax({type:"GET",url:a.ctx+"/freight/trucklist",data:"",success:function(t){e.each(t,function(t,n){e("#truckModel_detail > ul",".freight_push_page").append('<li><input type="checkbox" name="truckModels" value="'+n.id+'" id="ckb'+t+'" class="ck-vt"><label for="ckb'+t+'" class="cklb">'+n.truckModelName+"</label></li>")})}}),e("#truckModel_detail > ul ",".freight_push_page").on("click","li > input[type='checkbox']",function(){if(e(this).prop("checked")){if(e("#truckModel_detail_form > input").length>4)return e("#truckModel_error").addClass("ftorange"),e("#truckModel_error").text("最多只能选择5种车型。"),!1;e("#truckModel_error").removeClass("ftorange"),e("#truckModel_error").text("可同时选择多个车型要求。")}else e("#truckModel_error").removeClass("ftorange"),e("#truckModel_error").text("可同时选择多个车型要求。");var t=e(this),n=e("#truckModel_detail_form"),i=e("#truckModel_text");if(n.html(""),e(this).prop("checked"))i.append(","+e(this).next("label").text());else{var s=i.text().split(",");e.each(s,function(e,n){t.next("label").text()==n&&s.splice(e,1)}),i.text(s.join(","))}var r=0;if(e("[name=truckModels]:checked").each(function(){n.append('<input type="text" name="truckmodelEntitys['+r++ +'].truckModelId" value="'+e(this).val()+'"/>')}),i.text(i.text().trim()),""!=i.text()){var a=i.text();0==a.indexOf(",")&&i.text(a.substring(1,a.length));var o=i.text();o.lastIndexOf(",")==o.length-1&&i.text(o.substring(0,o.length-1))}}),e("#popup",".freight_push_page").on("click",function(){var t=c();t&&(e("#ck-agree").prop("checked")?(e("#ckinfo").addClass("hide"),e("#showdialog").popup()):e("#ckinfo").removeClass("hide"))}),e("#winClose",".freight_push_page").on("click",function(){e("#showdialog").popup("close")}),e(".sd-bd",".freight_push_page").on("click","li",function(t){t.stopPropagation(),e("#submit_ck").addClass("hide"),"156Truck"==this.id?e(this).hasClass("crt")?(e(this).removeClass("crt"),e("#ck-fw1").prop("checked",!1)):(e(this).addClass("crt"),e("#ck-fw1").prop("checked",!0)):e(this).hasClass("crt")?(e(this).removeClass("crt"),e("#ck-fw2").prop("checked",!1)):(e(this).addClass("crt"),e("#ck-fw2").prop("checked",!0)),e("#truck_ckecked").html(""),e("[name=truckck]:checkbox").each(function(t,n){e(this).prop("checked")&&e("#truck_ckecked").append('<input type="hidden" name="'+e(n).val()+'" value="true"/>')})}),e("[name='freightEntity.loadingDate']").datepicker("setStartDate",a.dateFormat(new Date,"yyyy-MM-dd")),e("[name='freightEntity.loadingDate']").datepicker("setEndDate",a.dateFormat(new Date((new Date).getTime()+5184e5),"yyyy-MM-dd")),e("#submitForm",".freight_push_page").on("click",function(){c(!0)}),e(document).click(function(t){"truckModel_detail"==t.target.id||e(t.target).parents("div").is("#truckModel_detail")||"truckModel_text"==t.target.id||e("#truckModel_detail").is(":hidden")||e("#truckModel_detail").addClass("hide")}),e(".mobileverify_info_cancel",".freight_push_page").on("click",function(){e("#mobileverify_info").popup("close")}),e("#mobileVerify_go",".freight_push_page").on("click",function(){e("#mobileverify_info").popup("close")}),e("[name='freightEntity.goodsId']",".freight_push_page").next().css({width:"153px"})}}}),define("modules/freight/list",["jquery","datepicker","config"],function(e,t,n){var i=function(){document.location=n.ctx+"/freight/1/stayList"},s=function(t){var i=window.location.href;if(-1!=i.indexOf("stayList"))document.location=n.ctx+"/freight/"+t+"/stayList";else{var s=e("#pageNumber");s.length>0?e("input[name=pageNumber]").val(t):e(".page_submit").append('<input name="pageNumber" value="'+t+'" type="hidden" />'),e(".page_submit").submit()}};return{init:function(){e("#search_collapse",".freight_list_page").on("click",function(){var t=e("input[name=isCollapsed]"),n=e(this).parent("div");"true"==t.val()?(t.val("false"),e(".formlist li:gt(1)").addClass("hide")):(t.val("true"),e(".formlist li:gt(1)").removeClass("hide")),n.toggleClass("basic-search"),n.toggleClass("full-search")}),e("#stayList",".freight_list_page").on("click",function(){i()}),e("#search_btn",".freight_list_page").on("click",function(){var t=e("#countyCode1").val(),n=e("#countyCode2").val();e("input[name=countyCode1_addr]").val(t),e("input[name=countyCode2_addr]").val(n),e("#search_form").submit()}),e(".page_a",".freight_list_page").on("click",function(t){var n=e(t.target).data("pageNumber");s(n)}),e("[name=freight_status]",".freight_list_page").on("change",function(){e("[name=status]").val(e(this).val()),e("#search_form").submit()}),"true"==e("input[name=isCollapsed]",".freight_list_page").val()&&(e("input[name=isCollapsed]").val("false"),e("#search_collapse").click(),e(".formlist li:gt(1)").removeClass("hide")),e("#freight_all_ck",".freight_list_page").on("click",function(t){e("input[name=all_ids_ck]").prop("checked",t.target.checked)}),e(".related_order",".freight_list_page").on("click",function(t){var i=e(t.target).data("freightId");location.href=n.ctx+"/order/list?isCollapsed=&freightId="+i+"&truckLicenseNo=&goodsId=&countyCode1=&countyCode2=&status="}),e("[name=id]",".freight_list_page").next().css({width:"238px"}),e("[name=freight_status]",".freight_list_page").next().css({width:"100px"})}}}),define("modules/freight/detail",["jquery","plugins/miscs","config"],function(e,t,n){var i=function(){e("#t_info").toggleClass("crt"),e("#t_truck").toggleClass("crt"),e("#freight_info").toggleClass("hide"),e("#freight_truck").toggleClass("hide")},s=function(t){var i=e("[name=freightId]").val(),s=e("[name=bookingStatus]").val();document.location=n.ctx+"/freight/Window/"+i+"/detail?bookingStatus="+s+"&isTruckView=1&pageNumber="+t};return{init:function(){e(".info_truck",".freight_detail_page").on("click",function(){e(this).hasClass("crt")||i()}),e("#closeFreight",".freight_detail_page").on("click",function(){e("#confirm_closefreight").popup()}),e(".closefreight_confirm",".freight_detail_page").on("click",function(){e("#confirm_closefreight").popup("close");var t=e("[name=freightId]").val();document.location=n.ctx+"/freight/"+t+"/close"}),e(".popup_cancel",".freight_detail_page").on("click",function(){e("#confirm_closefreight").popup("close")}),"1"==e("[name=isCollTruckView]",".freight_detail_page").val()&&i(),e(".page_a",".freight_detail_page").on("click",function(t){var n=e(t.target);s(n.data("pageNumber"))}),e("[name=bookingStatus]",".freight_detail_page").on("change",function(){s(1)}),e("#freight_detail",".freight_detail_page").on("click",function(){e("[name=ck-scid]").prop("checked",e("#freight_detail").prop("checked"))}),e("[name=bookingStatus]",".freight_detail_page").next().css({width:"120px"})}}}),define("modules/freight/main",["jquery","modules/freight/bookingconfirm","modules/freight/bookrun","modules/freight/scheight","modules/freight/timer","modules/freight/push","modules/freight/list","modules/freight/detail"],function(e,t,n,i,s,r,a,o){return{init:function(){e(".bookingconfirm_view").length>0&&(t.init(),n.init(),i.init(),s.init()),e(".freight_push_page").length>0&&r.init(),e(".freight_list_page").length>0&&a.init(),e(".freight_detail_page").length>0&&o.init()}}}),define("jquery_passwordStrength",function(){});var hexcase=0,b64pad="",chrsz=8;define("md5",function(){}),define("modules/register",["jquery","jQvalidation","jQmessage","jQvalidationRule","jquery_passwordStrength","config","md5","plugins/miscs"],function(e,t,n,i,s,r,a,o){return{init:function(){function t(n){window.setTimeout(function(){n--,0==n?(e(".btnCode").text("重新获取验证码").removeClass("hide"),e("#btnCount").css({display:"none"}),e(".num-count").text("60")):(e(".num-count").text(n),t(n))},1e3)}var n={rules:{username:{required:!0,minlength:6,maxlength:20,remote:{url:r.ctx+"/user/registration/checkUserName"}},password:{required:!0,minlength:6,maxlength:20},password2:{required:!0,equalTo:"#password"}},messages:{username:{remote:"用户名已经存在"}},errorPlacement:function(e,t){o.validation_errorHandle(e,t)},unhighlight:function(e){o.validation_unhighlight(e)},submitHandler:function(t){var n=e("#password").val(),i=hex_md5(n);e("#password").val(i),t.submit()}},i=e("#register-step1");i.validate(n);var s={rules:{usermobile:{required:!0,mobileNumber:!0,remote:{url:r.ctx+"/user/registration/checkPhone"}},valicode:{required:!0,remote:{url:r.ctx+"/user/registration/validCode",data:{usermobile:function(){return e("#usermobile").val()},validcode:function(){return e("#valicode").val()}}}}},messages:{usermobile:{remote:"该手机已经注册"},valicode:{remote:"验证码错误"}},errorPlacement:function(e,t){o.validation_errorHandle(e,t)},unhighlight:function(e){o.validation_unhighlight(e)},submitHandler:function(t){var n=e("#username").val(),i=e("#password").val();e("#username_hid").val(n),e("#password_hid").val(i),t.submit()}},a=e("#register-step2"),l=a.validate(s);e(".btnCode").on("click",function(){if(l.element("#usermobile")){e(this).addClass("hide"),e("#btnCount").css({display:"inline-block"});var n=e("#usermobile").val();t(60);var i=r.ctx+"/user/registration/generalCode",s=encodeURI(i);e.ajax({type:"post",url:s,dataType:"json",data:{usermobile:n},success:function(){e(this).text("验证码已发送")},error:function(){alert("服务器未知错误!")}})}}),e(".ftblue").on("click","a",function(){e("#step1").removeClass("hide"),e("#step2").addClass("hide")}),e("#password").on("keyup",function(){var t=getPasswordStrength(this.value);e("#passwordStrengthDiv").removeAttr("class");var n;for(n=0;t>=n;n++)e("#passwordStrengthDiv").addClass("is"+n)})}}}),define("modules/order/list",["jquery","plugins/miscs","config"],function(e,t,n){var i=function(t,n){var i=t.data("orderId"),s=t.data("orderNo"),r=t.data("shipperAddrName"),a=t.data("consigneeAddrName"),o=t.data("trucklicenseNo"),l=t.data("truckModel"),c=t.data("driverName");e("input[name=order_popup_"+n+"_orderId]").val(i),e("#order_popup_"+n+"_orderNo").text(s),e("#order_popup_"+n+"_shipperAddrName").text(r),e("#order_popup_"+n+"_consigneeAddrName").text(a),e("#order_popup_"+n+"_truckModel").text(l),e("#order_popup_"+n+"_trucklicenseNo").text(o),e("#order_popup_"+n+"_driverName").text(c),"feedback"==n?(e("input[name=order_popup_dirverId]").val(t.data("driverId")),e("#order_popup_feedback").popup(),e(".feedback_level").mouseleave()):"complaint"==n?(e("input[name=order_popup_dirverId]").val(t.data("driverId")),e("#order_popup_complaint").popup()):"cancel"==n&&e("#bookingtruck_cancel").popup()},s=function(){var t=e("input[name=receivegoods_orderId]").val(),i=t.split(",");e.ajax({type:"POST",url:n.ctx+"/order/receiveGoods",data:{ids:i},dataType:"json",success:function(t){if(t){e("#order_total_count").text(t.totalOrder?t.totalOrder:0),e("#order_receiveGoods").text(t.stayReceiveGoods?t.stayReceiveGoods:0),e("#order_feedback").text(t.stayFeedback?t.stayFeedback:0);
for(var i=0;i<t.orders.length;i++){var s=t.orders[i].id;e("#order_ck"+s).attr("data-order-status",2),e("#detail_index3"+s).html('<span class="scstatus ftgreen">运单完成</span><span class="scdetail"><a target="_blank" href="'+n.ctx+"/order/"+s+'/detail">运单详情</a></span></li>'),e("#detail_index4"+s).html('<span class="scbtn btn-a-white"><a href="javascript:void(0);" class="br3 popup_feedback" data-driver-id="'+t.orders[i].truckOwnerId+'" data-order-id="'+s+'" data-order-no="'+t.orders[i].orderNo+'" data-open-id="order_popup_feedback" data-shipper-addr-name="'+t.orders[i].shipperAddrName+'" data-consignee-addr-name="'+t.orders[i].consigneeAddrName+'" data-trucklicense-no="'+t.orders[i].truckLicenseNo+'" data-truck-model="'+t.orders[i].truckModel+'" data-driver-name="'+t.orders[i].driverName+'" title="评价车主">评价车主</a></span>'),e("#detail_index5"+s).html('<span class="complaint"><a href="javascript:void(0);" data-driver-id="'+t.orders[i].truckOwnerId+'" data-order-id="'+s+'" data-order-no="'+t.orders[i].orderNo+'" data-open-id="order_popup_feedback" data-shipper-addr-name="'+t.orders[i].shipperAddrName+'" data-consignee-addr-name="'+t.orders[i].consigneeAddrName+'" data-trucklicense-no="'+t.orders[i].truckLicenseNo+'" data-truck-model="'+t.orders[i].truckModel+'" data-driver-name="'+t.orders[i].driverName+'" title="投诉车主" class="popup_complaint"  data-open-id="order_popup_complaint" >投诉车主</a></span>')}e("#confirm_receivegoods").popup("close")}else e("#confirm_receivegoods_error_msg").text("系统忙,稍后再试...")}})},r=function(t){var i=window.location.href;if(-1!=i.indexOf("stayList")){var s=i.indexOf("/stayList"),r=i.substr(s-3,1);document.location=n.ctx+"/order/"+r+"/"+t+"/stayList"}else{var a=e("#pageNumber");a.length>0?e("input[name=pageNumber]").val(t):e(".page_submit").append('<input name="pageNumber" value="'+t+'" type="hidden" />'),e(".page_submit").submit()}};return{init:function(){e("#search_collapse",".order_list_page").on("click",function(){var t=e("input[name=isCollapsed]"),n=e(this).parent("div");"true"==t.val()?(t.val("false"),e(".formlist li:gt(1)").addClass("hide")):(t.val("true"),e(".formlist li:gt(1)").removeClass("hide")),n.toggleClass("basic-search"),n.toggleClass("full-search")}),e("#search_btn",".order_list_page").on("click",function(){e("#search_form").submit()}),e("[name='order_status']",".order_list_page").on("change",function(){e("[name=status]").val(e(this).val()),e("#search_form").submit()}),"true"==e("input[name=isCollapsed]",".order_list_page").val()&&(e("input[name=isCollapsed]").val("false"),e("#search_collapse").click(),e(".formlist li:gt(1)").removeClass("hide")),e(".stayList",".order_list_page").on("click",function(t){var i=e(t.target).data("stayStatus");document.location=n.ctx+"/order/"+i+"/1/stayList"}),e(".page_a",".order_list_page").on("click",function(t){var n=e(t.target).data("pageNumber");r(n)}),e(".popup_receivegoods",".order_list_page").on("click",e(".order_list_page"),function(t){e("input[name=receivegoods_orderId]").val(e(t.target).data("orderId")),e("#"+e(t.target).data("openId")).popup()}),e(".popup_cancel",".order_list_page").on("click",function(t){e("#"+e(t.target).data("openId")).popup("close")}),e(".receivegoods_confirm",".order_list_page").on("click",function(){s()}),e("div.uc-item").on("click",".popup_feedback",function(t){var n=e(t.target);e(".feedback_level",".order_list_page").each(function(t,n){e(n).data("level","1")}),i(n,"feedback")}),e(".popup_complaint",".order_list_page").on("click",function(t){var n=e(t.target);i(n,"complaint")}),e(".popup_bookingtruck_cancel",".order_list_page").on("click",function(t){var n=e(t.target);i(n,"cancel")}),e(".submit_bookingtruck_cancel",".order_list_page").on("click",function(){var t=e("input[name=order_popup_cancel_orderId]").val(),i=e("[name=cancel-reason]:checked").val(),s=e("[name=cancel_description]").val();e.ajax({type:"POST",url:n.ctx+"/order/cancel",data:{orderId:t,description:s,cancelReasonId:i},dataType:"json",success:function(i){i?(e("#order_ck"+t).attr("data-order-status",5),e("#order_total_count").text(i.totalOrder?i.totalOrder:0),e("#order_receiveGoods").text(i.stayReceiveGoods?i.stayReceiveGoods:0),e("#order_feedback").text(i.stayFeedback?i.stayFeedback:0),e("#detail_index3"+t).html('<span class="scstatus ftgrey">运单取消</span><span class="scdetail"><a target="_blank" href="'+n.ctx+"/order/"+t+'/detail">运单详情</a></span></li>'),e("#detail_index4"+t).html(""),e("#detail_index5"+t).html(""),e("#bookingtruck_cancel").popup("close")):e("#confirm_receivegoods_error_msg").text("系统忙,稍后再试...")}})}),e("#order_all_ck",".order_list_page").on("click",function(t){e("input[name=all_ids_ck]").prop("checked",t.target.checked)}),e("#batch_receivegoods",".order_list_page").on("click",function(){var t=[],n=!1;e("input[name=all_ids_ck]").each(function(i,s){s.checked&&1==e(s).data("orderStatus")&&(t.push(e(s).data("orderId")),n=!0)}),n?(e("input[name=receivegoods_orderId]").val(t.join(",")),e("#confirm_receivegoods").popup()):alert("请选择需要待确认收货的条数")}),e(".notice").on("click",function(t){{var n=e(t.target);n.data("driverId"),n.data("frId")}}),e("#order_all_ck").on("click",function(){}),e("#order_popup_feedback_submit",".order_list_page").on("click",function(){var t=e("input[name=order_popup_feedback_orderId]").val(),i=e("input[name=order_popup_dirverId]").val(),s=e("#description").val(),r=[];e(".feedback_level").each(function(t,n){r.push(e(n).data("level"))}),e.ajax({type:"POST",url:n.ctx+"/feedback/edit",data:{orderId:t,driverId:i,description:s,feedbacks:r},dataType:"json",success:function(i){if(i){e("#order_ck"+t).attr("data-feedback-status",i.fstatus),e("#order_feedback").text(i.stayFeedback?i.stayFeedback:0),e("#detail_index4"+t).html(""),e("#detail_index5"+t).html("");var s="";2==i.fstatus?s="我已评价":4==i.fstatus&&(s="双方已评"),e(".feedback_status_str"+t).html('<span class="scmap ftgrey"><a href="'+n.ctx+"/feedback/Window/"+t+'/detail" target="_blank">'+s+"</a></span>"),e("#order_popup_feedback").popup("close")}else e("#confirm_feedback_error_msg").text("系统忙,稍后再试...")}})}),e("#batch_evaluation",".order_list_page").on("click",function(){var t=[],n=!1;e("input[name=all_ids_ck]").each(function(i,s){if(s.checked){var r=e(s).data("orderStatus"),a=e(s).data("feedbackStatus");2!=r&&3!=r&&4!=r||1!=a&&3!=a||(t.push(e(s).data("orderId")),n=!0)}}),n?(e("input[name=batchIds]").val(t.join(",")),e("#batch_evaluation_form").submit()):alert("请选择需要待评价的运单")}),e("#order_popup_complaint_submit",".order_list_page").on("click",function(){var t=e("input[name=order_popup_complaint_orderId]").val(),i=e("input[name=order_popup_dirverId]").val(),s=e("#complaint_des").val(),r=e("[name=complaint-reason]:checked").val();e.ajax({type:"POST",url:n.ctx+"/feedback/complaint",data:{control:2,orderId:t,driverId:i,description:s,complainId:r},dataType:"json",success:function(t){t?e("#order_popup_complaint").popup("close"):e("#confirm_feedback_error_msg").text("系统忙,稍后再试...")}})});var t=["非常不满","不满意","一般","满意","非常满意"];e(".feedback_level > i",".order_list_page").mouseover(function(){var n=e(this);n.prevAll().andSelf().removeClass("ico-stargrey"),n.prevAll().andSelf().addClass("ico-starblue"),n.parent().next().find("span").text(e(this).index()+1),n.parent().next().next().text(t[e(this).index()]),n.nextAll().removeClass("ico-starblue"),n.nextAll().addClass("ico-stargrey"),e(this).parent().data("templevel",e(this).index()+1)}),e(".feedback_level",".order_list_page").mouseleave(function(){var n=e(this),i=n.data("level");i||(i=1,n.parent().data("level",1),n.parent().data("templevel",1)),n.data("templevel",i),n.next().find("span").text(i),n.next().next().text(t[i-1]),n.children().each(function(t,n){t>=i?(e(n).removeClass("ico-starblue"),e(n).addClass("ico-stargrey")):(e(n).addClass("ico-starblue"),e(n).removeClass("ico-stargrey"))})}),e(".feedback_level > i",".order_list_page").click(function(){e(this).parent().data("level",e(this).parent().data("templevel"))}),e("[name='order_status']",".order_list_page").next().css({width:"100px"}),e("[name=freightId]",".order_list_page").next().css({width:"230px"}),e("[name=goodsId]",".order_list_page").next().css({width:"230px"}),e("[name=status]",".order_list_page").next().css({width:"230px"})}}}),define("modules/order/detail",["jquery","plugins/miscs","config"],function(e){return{init:function(){e("#uc-tab-item",".order_detail_page").on("click","li",function(t){e("li","#uc-tab-item").removeClass("crt"),e(this).addClass("crt");var n=e(t.target).data("clickId");e("#tab-"+n).removeClass("hide");for(var i=1;5>i;i++)i!=n&&e("#tab-"+i).addClass("hide")})}}}),define("modules/order/main",["jquery","modules/order/list","modules/order/detail"],function(e,t,n){return{init:function(){e(".order_list_page").length>0&&t.init(),e(".order_detail_page").length>0&&n.init()}}}),define("modules/companyageCert/cert",["jquery","jQvalidation","jQmessage","plugins/validation","config","plugins/miscs","popup"],function(e,t,n,i,s,r){return{init:function(){var t=!0;e("#orgName").blur(function(){if(null!=e("input[name='orgName']").val()){var n=e("#orgName").val();e.ajax({type:"GET",url:s.ctx+"/companyManage/queryOrgByName",data:{orgName:n},dateType:"json",success:function(){""==e("input[name='orgName']").val()?(e("#messageId2").removeClass("hide"),t=!1):(e("#messageId1").addClass("hide"),e("#messageId2").addClass("hide"))},error:function(){e("#messageId1").removeClass("hide"),t=!1}})}}),e("#bt1").bind("click",function(){e("#bizLicenceFileErrorId").addClass("hide"),e("#orgCodeFileErrorId").addClass("hide"),e("#taxRegFileErrorId").addClass("hide"),e("#identityPath1ErrorId").addClass("hide");var n=!0,i=!0,s=!0,r=!0;e("input[name='bizLicenceFileId']").length<1&&3!=e("input[name='hiddenValue1']").val()&&(e("#bizLicenceFileErrorId").removeClass("hide"),n=!1),e("input[name='orgCodeFileId']").length<1&&3!=e("input[name='hiddenValue2']").val()&&(e("#orgCodeFileErrorId").removeClass("hide"),i=!1),e("input[name='taxRegFileId']").length<1&&3!=e("input[name='hiddenValue3']").val()&&(e("#taxRegFileErrorId").removeClass("hide"),s=!1),e("input[name='identityPath1Id']").length<1&&3!=e("input[name='hiddenValue4']").val()&&(e("#identityPath1ErrorId").removeClass("hide"),r=!1),t&&n&&i&&s&&r&&e("#form1").submit()}),e("#uploadIdCard").bind("click",function(){e("#idCard1").popup()}),e("#goOnId").bind("click",function(){e("#idCard1").popup("close"),e("#idCard2").popup()}),e("#updateInfoId").one("click",function(){e("#viewInfoId").addClass("hide"),e("#editInfoId").removeClass("hide")}),e("#deletebizLicenceFileId").one("click",function(t){t.preventDefault(),e.ajax({type:"POST",url:s.ctx+"/companyManage/deleteFile",data:{bizLicenceFileId:1},dataType:"json",success:function(){e("#resText1").empty();var t='<span class="fmtit"><i class="icon i24 ico-cerstatus"></i>未认证</span><span class="fmcont">营业执照</span><span class="fr"><input id="repeatload1" type="file"	name="bizLicenceFileId"	class="fileUpload invisible"	data-uploader="${ctx}/companyManage/uploadLicense"	data-height="22" data-width="73" data-button-text="重新上传证件"	style="width: 48px;"></span>';e("#resText1").html(t),r.initSingleUploadify("#repeatload1")}})}),e("#deleteorgCodeFileId").one("click",function(t){t.preventDefault(),e.ajax({type:"POST",url:s.ctx+"/companyManage/deleteFile",data:{orgCodeFileId:1},dataType:"json",success:function(){e("#resText2").empty();var t='<span class="fmtit"><i class="icon i24 ico-cerstatus"></i>未认证</span><span class="fmcont">组织机构代码证</span><span class="fr"><input id="repeatload2" type="file"	name="orgCodeFileId"	class="fileUpload invisible"	data-uploader="${ctx}/companyManage/uploadLicense"	data-height="22" data-width="73" data-button-text="重新上传证件"	style="width: 48px;"></span>';e("#resText2").html(t),r.initSingleUploadify("#repeatload2")}})}),e("#deletetaxRegFileId").one("click",function(t){t.preventDefault(),e.ajax({type:"POST",url:s.ctx+"/companyManage/deleteFile",data:{taxRegFileId:1},dataType:"json",success:function(){e("#resText3").empty();var t='<span class="fmtit"><i class="icon i24 ico-cerstatus"></i>未认证</span><span class="fmcont">税务登记证</span><span class="fr"><input id="repeatload3" type="file"	name="taxRegFileId"	class="fileUpload invisible"	data-uploader="${ctx}/companyManage/uploadLicense"	data-height="22" data-width="73" data-button-text="重新上传证件"	style="width: 48px;"></span>';e("#resText3").html(t),r.initSingleUploadify("#repeatload3")}})}),e("#deleteIdentityId").one("click",function(t){t.preventDefault(),e.ajax({type:"POST",url:s.ctx+"/companyManage/deleteFile",data:{identityPath1Id:1},dataType:"json",success:function(){e("#resText4").empty();var t='<span class="fmtit"><i class="icon i24 ico-cerstatus"></i>未认证</span><span class="fmcont">申请人身份证</span><div class="fmright unpassed"><span class="fr"><input id="repeatload4" type="file"	name="identityPath1Id"	class="fileUpload invisible"	data-uploader="${ctx}/companyManage/uploadLicense"	data-height="22" data-width="73" data-button-text="重新上传证件"	style="width: 48px;"></span></div>';e("#resText4").html(t),r.initSingleUploadify("#repeatload4")}})}),e("#updateCompanageId").one("click",function(){e("#baseInfoComangeId").removeClass("hide"),e("#updateBaseInfoComangeId").addClass("hide")}),e("#form2").validate({rules:{address:{required:!1},telephone:{required:!1,number:!0},yearBusinessMoney:{required:!1,number:!0}}})}}}),define("modules/truck/truck",["jquery","config","plugins/validation","plugins/miscs","jQvalidation","popup"],function(e,t){var n=function(t){var n=e("#pageNumber");n.length>0?e("input[name=pageNumber]").val(t):e(".page_submit").append('<input name="pageNumber" value="'+t+'" type="hidden" />'),e(".page_submit").submit()},i=function(){var n=e("#group-id").val(),i=e("#groupname").val(),s=e("#groupdescs").val();e.ajax({type:"POST",url:t.ctx+"/truckGroup/"+n+"/edit",data:{groupId:n,groupName:i,groupDesc:s},dataType:"json",success:function(e){e&&alert(e)}})};return{init:function(){e(".page_a",".mycarlist").on("click",function(t){var i=e(t.target).data("pageNumber");n(i)}),e("a.bygroup",".mycarlist").on("click",function(t){var n=e(t.target).data("groupId");e("#group-id",".mycarlist").val(n),e(".page_submit").submit()}),e("#plustruck",".mycarlist").on("click",function(){e("#uc-addcar",".mycarlist").popup()}),e("#cancel-plustruck-button",".mycarlist").on("click",function(){e("#uc-addcar",".mycarlist").popup("close")}),e("#uc-addcar-next",".mycarlist").on("click",function(){e("#uc-addcar",".mycarlist").popup("close"),e("#addcar-success",".mycarlist").popup()}),e("#addcar-success-close",".mycarlist").on("click",function(){e("#addcar-success",".mycarlist").popup("close")}),e("#plusGroup",".mycarlist").on("click",function(){e("#uc-plusgroup",".mycarlist").popup()}),e("#cancel-plus-group-button",".mycarlist").on("click",function(){e("#uc-plusgroup",".mycarlist").popup("close")}),e("#uc-carlist",".mycarlist").on("mouseover","dl",function(){e(this).find(".del").removeClass("hide")}),e("#uc-carlist",".mycarlist").on("mouseout","dl",function(){e(this).find(".del").addClass("hide")}),e("#uc-carlist",".mycarlist").on("click","dl",function(){var t=e(this).find(".check-img"),n=t.attr("class");n&&(n.indexOf("ico-check3")>0?t.removeClass("ico-check3").addClass("ico-check1"):t.removeClass("ico-check1").addClass("ico-check3"))}),e(".all-check-img",".mycarlist").on("click",function(){var t=e(this),n=t.attr("class");n&&(n.indexOf("ico-check3")>0?(t.removeClass("ico-check3").addClass("ico-check1"),e(".check-img",".mycarlist").removeClass("ico-check3").addClass("ico-check1")):(t.removeClass("ico-check1").addClass("ico-check3"),e(".check-img",".mycarlist").removeClass("ico-check1").addClass("ico-check3")))}),e(".filter-search input[name='shipbox']",".mycarlist").on("focus",function(){e(this).val("")}),e("#my-truck-edit-group",".mycarlist").on("click",function(){e("#group-tab-hd",".mycarlist").addClass("hide"),e("#group-tab-hd-edit",".mycarlist").removeClass("hide")}),e("#edit-group-cancel",".mycarlist").on("click",function(){e("#group-tab-hd",".mycarlist").removeClass("hide"),e("#group-tab-hd-edit",".mycarlist").addClass("hide")}),e("#groupCollapsed",".mycarlist").on("click",function(){var t=e(this).text();t.indexOf("展开分组")>=0?(e("#isCollapsed",".mycarlist").val(1),e("#all-item-group-info").addClass("all-item"),e(this).html("收起分组<i class='icon i9-4 ico-arwtop'></i>")):(e("#isCollapsed",".mycarlist").val(0),e("#all-item-group-info").removeClass("all-item"),e(this).html("展开分组<i class='icon i9-4 ico-arwbtm'></i>"))}),e("#default-order",".mycarlist").on("click",function(){e("#orderColumn",".mycarlist").val(0),e(".page_submit").submit()}),e("#by-truckmodel-order",".mycarlist").on("click",function(){e("#orderColumn",".mycarlist").val(1),e(".page_submit").submit()}),e("#uc-carlist dl dt").on("click","a",function(t){t.preventDefault(),e("#delete-car").popup()});var t=e("#group-add-form"),s={rules:{groupName:{required:!0,maxlength:12,minlength:1},groupDesc:{required:!0,maxlength:200,minlength:1}}};t.validate(s),e("#edit-group-save",".mycarlist").on("click",function(){i()})}}}),define("modules/truck/main",["jquery","modules/truck/truck"],function(e,t){return{init:function(){e(".mycarlist").length>0&&t.init()}}}),function(e){e.Jcrop=function(t,n){function i(e){return Math.round(e)+"px"}function s(e){return O.baseClass+"-"+e}function r(){return e.fx.step.hasOwnProperty("backgroundColor")}function a(t){var n=e(t).offset();return[n.left,n.top]}function o(e){return[e.pageX-U[0],e.pageY-U[1]]}function l(t){"object"!=typeof t&&(t={}),O=e.extend(O,t),e.each(["onChange","onSelect","onRelease","onDblClick"],function(e,t){"function"!=typeof O[t]&&(O[t]=function(){})})}function c(e,t,n){if(U=a($),ft.setCursor("move"===e?e:e+"-resize"),"move"===e)return ft.activateHandlers(d(t),g,n);var i=dt.getFixed(),s=h(e),r=dt.getCorner(h(s));dt.setPressed(dt.getCorner(s)),dt.setCurrent(r),ft.activateHandlers(u(e,i),g,n)}function u(e,t){return function(n){if(O.aspectRatio)switch(e){case"e":n[1]=t.y+1;break;case"w":n[1]=t.y+1;break;case"n":n[0]=t.x+1;break;case"s":n[0]=t.x+1}else switch(e){case"e":n[1]=t.y2;break;case"w":n[1]=t.y2;break;case"n":n[0]=t.x2;break;case"s":n[0]=t.x2}dt.setCurrent(n),pt.update()}}function d(e){var t=e;return mt.watchKeys(),function(e){dt.moveOffset([e[0]-t[0],e[1]-t[1]]),t=e,pt.update()}}function h(e){switch(e){case"n":return"sw";case"s":return"nw";case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function p(e){return function(t){return O.disabled?!1:"move"!==e||O.allowMove?(U=a($),it=!0,c(e,o(t)),t.stopPropagation(),t.preventDefault(),!1):!1}}function f(e,t,n){var i=e.width(),s=e.height();i>t&&t>0&&(i=t,s=t/e.width()*e.height()),s>n&&n>0&&(s=n,i=n/e.height()*e.width()),tt=e.width()/i,nt=e.height()/s,e.width(i).height(s)}function m(e){return{x:e.x*tt,y:e.y*nt,x2:e.x2*tt,y2:e.y2*nt,w:e.w*tt,h:e.h*nt}}function g(){var e=dt.getFixed();e.w>O.minSelect[0]&&e.h>O.minSelect[1]?(pt.enableHandles(),pt.done()):pt.release(),ft.setCursor(O.allowSelect?"crosshair":"default")}function v(e){if(O.disabled)return!1;if(!O.allowSelect)return!1;it=!0,U=a($),pt.disableHandles(),ft.setCursor("crosshair");var t=o(e);return dt.setPressed(t),pt.update(),ft.activateHandlers(_,g,"touch"===e.type.substring(0,5)),mt.watchKeys(),e.stopPropagation(),e.preventDefault(),!1}function _(e){dt.setCurrent(e),pt.update()}function y(){var t=e("<div></div>").addClass(s("tracker"));return j&&t.css({opacity:0,backgroundColor:"white"}),t}function b(e){V.removeClass().addClass(s("holder")).addClass(e)}function w(e,t){function n(){window.setTimeout(_,d)}var i=e[0]/tt,s=e[1]/nt,r=e[2]/tt,a=e[3]/nt;if(!st){var o=dt.flipCoords(i,s,r,a),l=dt.getFixed(),c=[l.x,l.y,l.x2,l.y2],u=c,d=O.animationDelay,h=o[0]-c[0],p=o[1]-c[1],f=o[2]-c[2],m=o[3]-c[3],g=0,v=O.swingSpeed;i=u[0],s=u[1],r=u[2],a=u[3],pt.animMode(!0);var _=function(){return function(){g+=(100-g)/v,u[0]=Math.round(i+g/100*h),u[1]=Math.round(s+g/100*p),u[2]=Math.round(r+g/100*f),u[3]=Math.round(a+g/100*m),g>=99.8&&(g=100),100>g?(k(u),n()):(pt.done(),pt.animMode(!1),"function"==typeof t&&t.call(gt))}}();n()}}function x(e){k([e[0]/tt,e[1]/nt,e[2]/tt,e[3]/nt]),O.onSelect.call(gt,m(dt.getFixed())),pt.enableHandles()}function k(e){dt.setPressed([e[0],e[1]]),dt.setCurrent([e[2],e[3]]),pt.update()}function S(){return m(dt.getFixed())}function C(){return dt.getFixed()}function T(e){l(e),L()}function D(){O.disabled=!0,pt.disableHandles(),pt.setCursor("default"),ft.setCursor("default")}function E(){O.disabled=!1,L()}function F(){pt.done(),ft.activateHandlers(null,null)}function I(){V.remove(),q.show(),q.css("visibility","visible"),e(t).removeData("Jcrop")}function N(e,t){pt.release(),D();var n=new Image;n.onload=function(){var i=n.width,s=n.height,r=O.boxWidth,a=O.boxHeight;$.width(i).height(s),$.attr("src",e),Q.attr("src",e),f($,r,a),z=$.width(),W=$.height(),Q.width(z).height(W),ot.width(z+2*at).height(W+2*at),V.width(z).height(W),ht.resize(z,W),E(),"function"==typeof t&&t.call(gt)},n.src=e}function A(e,t,n){var i=t||O.bgColor;O.bgFade&&r()&&O.fadeTime&&!n?e.animate({backgroundColor:i},{queue:!1,duration:O.fadeTime}):e.css("backgroundColor",i)}function L(e){O.allowResize?e?pt.enableOnly():pt.enableHandles():pt.disableHandles(),ft.setCursor(O.allowSelect?"crosshair":"default"),pt.setCursor(O.allowMove?"move":"default"),O.hasOwnProperty("trueSize")&&(tt=O.trueSize[0]/z,nt=O.trueSize[1]/W),O.hasOwnProperty("setSelect")&&(x(O.setSelect),pt.done(),delete O.setSelect),ht.refresh(),O.bgColor!=lt&&(A(O.shade?ht.getShades():V,O.shade?O.shadeColor||O.bgColor:O.bgColor),lt=O.bgColor),ct!=O.bgOpacity&&(ct=O.bgOpacity,O.shade?ht.refresh():pt.setBgOpacity(ct)),G=O.maxSize[0]||0,K=O.maxSize[1]||0,Z=O.minSize[0]||0,et=O.minSize[1]||0,O.hasOwnProperty("outerImage")&&($.attr("src",O.outerImage),delete O.outerImage),pt.refresh()}var U,O=e.extend({},e.Jcrop.defaults),M=navigator.userAgent.toLowerCase(),j=/msie/.test(M),R=/msie [1-6]\./.test(M);"object"!=typeof t&&(t=e(t)[0]),"object"!=typeof n&&(n={}),l(n);var P={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0},q=e(t),B=!0;if("IMG"==t.tagName){if(0!=q[0].width&&0!=q[0].height)q.width(q[0].width),q.height(q[0].height);else{var H=new Image;H.src=q[0].src,q.width(H.width),q.height(H.height)}var $=q.clone().removeAttr("id").css(P).show();$.width(q.width()),$.height(q.height()),q.after($).hide()}else $=q.css(P).show(),B=!1,null===O.shade&&(O.shade=!0);f($,O.boxWidth,O.boxHeight);var z=$.width(),W=$.height(),V=e("<div />").width(z).height(W).addClass(s("holder")).css({position:"relative",backgroundColor:O.bgColor}).insertAfter(q).append($);O.addClass&&V.addClass(O.addClass);var Q=e("<div />"),J=e("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),Y=e("<div />").width("100%").height("100%").css("zIndex",320),X=e("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var e=dt.getFixed();O.onDblClick.call(gt,e)}).insertBefore($).append(J,Y);B&&(Q=e("<img />").attr("src",$.attr("src")).css(P).width(z).height(W),J.append(Q)),R&&X.css({overflowY:"hidden"});var G,K,Z,et,tt,nt,it,st,rt,at=O.boundary,ot=y().width(z+2*at).height(W+2*at).css({position:"absolute",top:i(-at),left:i(-at),zIndex:290}).mousedown(v),lt=O.bgColor,ct=O.bgOpacity;U=a($);var ut=function(){function e(){var e,t={},n=["touchstart","touchmove","touchend"],i=document.createElement("div");try{for(e=0;e<n.length;e++){var s=n[e];s="on"+s;var r=s in i;r||(i.setAttribute(s,"return;"),r="function"==typeof i[s]),t[n[e]]=r}return t.touchstart&&t.touchend&&t.touchmove}catch(a){return!1}}function t(){return O.touchSupport===!0||O.touchSupport===!1?O.touchSupport:e()}return{createDragger:function(e){return function(t){return O.disabled?!1:"move"!==e||O.allowMove?(U=a($),it=!0,c(e,o(ut.cfilter(t)),!0),t.stopPropagation(),t.preventDefault(),!1):!1}},newSelection:function(e){return v(ut.cfilter(e))},cfilter:function(e){return e.pageX=e.originalEvent.changedTouches[0].pageX,e.pageY=e.originalEvent.changedTouches[0].pageY,e},isSupported:e,support:t()}}(),dt=function(){function e(e){e=a(e),f=h=e[0],m=p=e[1]}function t(e){e=a(e),u=e[0]-f,d=e[1]-m,f=e[0],m=e[1]}function n(){return[u,d]}function i(e){var t=e[0],n=e[1];0>h+t&&(t-=t+h),0>p+n&&(n-=n+p),m+n>W&&(n+=W-(m+n)),f+t>z&&(t+=z-(f+t)),h+=t,f+=t,p+=n,m+=n}function s(e){var t=r();switch(e){case"ne":return[t.x2,t.y];case"nw":return[t.x,t.y];case"se":return[t.x2,t.y2];case"sw":return[t.x,t.y2]}}function r(){if(!O.aspectRatio)return l();var e,t,n,i,s=O.aspectRatio,r=O.minSize[0]/tt,a=O.maxSize[0]/tt,u=O.maxSize[1]/nt,d=f-h,g=m-p,v=Math.abs(d),_=Math.abs(g),y=v/_;return 0===a&&(a=10*z),0===u&&(u=10*W),s>y?(t=m,n=_*s,e=0>d?h-n:n+h,0>e?(e=0,i=Math.abs((e-h)/s),t=0>g?p-i:i+p):e>z&&(e=z,i=Math.abs((e-h)/s),t=0>g?p-i:i+p)):(e=f,i=v/s,t=0>g?p-i:p+i,0>t?(t=0,n=Math.abs((t-p)*s),e=0>d?h-n:n+h):t>W&&(t=W,n=Math.abs(t-p)*s,e=0>d?h-n:n+h)),e>h?(r>e-h?e=h+r:e-h>a&&(e=h+a),t=t>p?p+(e-h)/s:p-(e-h)/s):h>e&&(r>h-e?e=h-r:h-e>a&&(e=h-a),t=t>p?p+(h-e)/s:p-(h-e)/s),0>e?(h-=e,e=0):e>z&&(h-=e-z,e=z),0>t?(p-=t,t=0):t>W&&(p-=t-W,t=W),c(o(h,p,e,t))}function a(e){return e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),e[0]>z&&(e[0]=z),e[1]>W&&(e[1]=W),[Math.round(e[0]),Math.round(e[1])]}function o(e,t,n,i){var s=e,r=n,a=t,o=i;return e>n&&(s=n,r=e),t>i&&(a=i,o=t),[s,a,r,o]}function l(){var e,t=f-h,n=m-p;return G&&Math.abs(t)>G&&(f=t>0?h+G:h-G),K&&Math.abs(n)>K&&(m=n>0?p+K:p-K),et/nt&&Math.abs(n)<et/nt&&(m=n>0?p+et/nt:p-et/nt),Z/tt&&Math.abs(t)<Z/tt&&(f=t>0?h+Z/tt:h-Z/tt),0>h&&(f-=h,h-=h),0>p&&(m-=p,p-=p),0>f&&(h-=f,f-=f),0>m&&(p-=m,m-=m),f>z&&(e=f-z,h-=e,f-=e),m>W&&(e=m-W,p-=e,m-=e),h>z&&(e=h-W,m-=e,p-=e),p>W&&(e=p-W,m-=e,p-=e),c(o(h,p,f,m))}function c(e){return{x:e[0],y:e[1],x2:e[2],y2:e[3],w:e[2]-e[0],h:e[3]-e[1]}}var u,d,h=0,p=0,f=0,m=0;return{flipCoords:o,setPressed:e,setCurrent:t,getOffset:n,moveOffset:i,getCorner:s,getFixed:r}}(),ht=function(){function t(e,t){f.left.css({height:i(t)}),f.right.css({height:i(t)})}function n(){return s(dt.getFixed())}function s(e){f.top.css({left:i(e.x),width:i(e.w),height:i(e.y)}),f.bottom.css({top:i(e.y2),left:i(e.x),width:i(e.w),height:i(W-e.y2)}),f.right.css({left:i(e.x2),width:i(z-e.x2)}),f.left.css({width:i(e.x)})}function r(){return e("<div />").css({position:"absolute",backgroundColor:O.shadeColor||O.bgColor}).appendTo(p)}function a(){h||(h=!0,p.insertBefore($),n(),pt.setBgOpacity(1,0,1),Q.hide(),o(O.shadeColor||O.bgColor,1),pt.isAwake()?c(O.bgOpacity,1):c(1,1))}function o(e,t){A(d(),e,t)}function l(){h&&(p.remove(),Q.show(),h=!1,pt.isAwake()?pt.setBgOpacity(O.bgOpacity,1,1):(pt.setBgOpacity(1,1,1),pt.disableHandles()),A(V,0,1))}function c(e,t){h&&(O.bgFade&&!t?p.animate({opacity:1-e},{queue:!1,duration:O.fadeTime}):p.css({opacity:1-e}))}function u(){O.shade?a():l(),pt.isAwake()&&c(O.bgOpacity)}function d(){return p.children()}var h=!1,p=e("<div />").css({position:"absolute",zIndex:240,opacity:0}),f={top:r(),left:r().height(W),right:r().height(W),bottom:r()};return{update:n,updateRaw:s,getShades:d,setBgColor:o,enable:a,disable:l,resize:t,refresh:u,opacity:c}}(),pt=function(){function t(t){var n=e("<div />").css({position:"absolute",opacity:O.borderOpacity}).addClass(s(t));return J.append(n),n}function n(t,n){var i=e("<div />").mousedown(p(t)).css({cursor:t+"-resize",position:"absolute",zIndex:n}).addClass("ord-"+t);return ut.support&&i.bind("touchstart.jcrop",ut.createDragger(t)),Y.append(i),i}function r(e){var t=O.handleSize,i=n(e,D++).css({opacity:O.handleOpacity}).addClass(s("handle"));return t&&i.width(t).height(t),i}function a(e){return n(e,D++).addClass("jcrop-dragbar")}function o(e){var t;for(t=0;t<e.length;t++)I[e[t]]=a(e[t])}function l(e){var n,i;for(i=0;i<e.length;i++){switch(e[i]){case"n":n="hline";break;case"s":n="hline bottom";break;case"e":n="vline right";break;case"w":n="vline"}E[e[i]]=t(n)}}function c(e){var t;for(t=0;t<e.length;t++)F[e[t]]=r(e[t])}function u(e,t){O.shade||Q.css({top:i(-t),left:i(-e)}),X.css({top:i(t),left:i(e)})}function d(e,t){X.width(Math.round(e)).height(Math.round(t))}function h(){var e=dt.getFixed();dt.setPressed([e.x,e.y]),dt.setCurrent([e.x2,e.y2]),f()}function f(e){return T?g(e):void 0}function g(e){var t=dt.getFixed();d(t.w,t.h),u(t.x,t.y),O.shade&&ht.updateRaw(t),T||_(),e?O.onSelect.call(gt,m(t)):O.onChange.call(gt,m(t))}function v(e,t,n){(T||t)&&(O.bgFade&&!n?$.animate({opacity:e},{queue:!1,duration:O.fadeTime}):$.css("opacity",e))}function _(){X.show(),O.shade?ht.opacity(ct):v(ct,!0),T=!0}function b(){k(),X.hide(),O.shade?ht.opacity(1):v(1),T=!1,O.onRelease.call(gt)}function w(){N&&Y.show()}function x(){return N=!0,O.allowResize?(Y.show(),!0):void 0}function k(){N=!1,Y.hide()}function S(e){e?(st=!0,k()):(st=!1,x())}function C(){S(!1),h()}var T,D=370,E={},F={},I={},N=!1;O.dragEdges&&e.isArray(O.createDragbars)&&o(O.createDragbars),e.isArray(O.createHandles)&&c(O.createHandles),O.drawBorders&&e.isArray(O.createBorders)&&l(O.createBorders),e(document).bind("touchstart.jcrop-ios",function(t){e(t.currentTarget).hasClass("jcrop-tracker")&&t.stopPropagation()});var A=y().mousedown(p("move")).css({cursor:"move",position:"absolute",zIndex:360});return ut.support&&A.bind("touchstart.jcrop",ut.createDragger("move")),J.append(A),k(),{updateVisible:f,update:g,release:b,refresh:h,isAwake:function(){return T},setCursor:function(e){A.css("cursor",e)},enableHandles:x,enableOnly:function(){N=!0},showHandles:w,disableHandles:k,animMode:S,setBgOpacity:v,done:C}}(),ft=function(){function t(t){ot.css({zIndex:450}),t?e(document).bind("touchmove.jcrop",a).bind("touchend.jcrop",l):h&&e(document).bind("mousemove.jcrop",i).bind("mouseup.jcrop",s)}function n(){ot.css({zIndex:290}),e(document).unbind(".jcrop")}function i(e){return u(o(e)),!1}function s(e){return e.preventDefault(),e.stopPropagation(),it&&(it=!1,d(o(e)),pt.isAwake()&&O.onSelect.call(gt,m(dt.getFixed())),n(),u=function(){},d=function(){}),!1}function r(e,n,i){return it=!0,u=e,d=n,t(i),!1}function a(e){return u(o(ut.cfilter(e))),!1}function l(e){return s(ut.cfilter(e))}function c(e){ot.css("cursor",e)}var u=function(){},d=function(){},h=O.trackDocument;return h||ot.mousemove(i).mouseup(s).mouseout(s),$.before(ot),{activateHandlers:r,setCursor:c}}(),mt=function(){function t(){O.keySupport&&(r.show(),r.focus())}function n(){r.hide()}function i(e,t,n){O.allowMove&&(dt.moveOffset([t,n]),pt.updateVisible(!0)),e.preventDefault(),e.stopPropagation()}function s(e){if(e.ctrlKey||e.metaKey)return!0;rt=e.shiftKey?!0:!1;var t=rt?10:1;switch(e.keyCode){case 37:i(e,-t,0);break;case 39:i(e,t,0);break;case 38:i(e,0,-t);break;case 40:i(e,0,t);break;case 27:O.allowSelect&&pt.release();break;case 9:return!0}return!1}var r=e('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),a=e("<div />").css({position:"absolute",overflow:"hidden"}).append(r);return O.keySupport&&(r.keydown(s).blur(n),R||!O.fixedSupport?(r.css({position:"absolute",left:"-20px"}),a.append(r).insertBefore($)):r.insertBefore($)),{watchKeys:t}}();ut.support&&ot.bind("touchstart.jcrop",ut.newSelection),Y.hide(),L(!0);var gt={setImage:N,animateTo:w,setSelect:x,setOptions:T,tellSelect:S,tellScaled:C,setClass:b,disable:D,enable:E,cancel:F,release:pt.release,destroy:I,focus:mt.watchKeys,getBounds:function(){return[z*tt,W*nt]},getWidgetSize:function(){return[z,W]},getScaleFactor:function(){return[tt,nt]},getOptions:function(){return O},ui:{holder:V,selection:X}};return j&&V.bind("selectstart",function(){return!1}),q.data("Jcrop",gt),gt},e.fn.Jcrop=function(t,n){var i;return this.each(function(){if(e(this).data("Jcrop")){if("api"===t)return e(this).data("Jcrop");e(this).data("Jcrop").setOptions(t)}else"IMG"==this.tagName?e.Jcrop.Loader(this,function(){e(this).css({display:"block",visibility:"hidden"}),i=e.Jcrop(this,t),e.isFunction(n)&&n.call(i)}):(e(this).css({display:"block",visibility:"hidden"}),i=e.Jcrop(this,t),e.isFunction(n)&&n.call(i))}),this},e.Jcrop.Loader=function(t,n,i){function s(){a.complete?(r.unbind(".jcloader"),e.isFunction(n)&&n.call(a)):window.setTimeout(s,50)
}var r=e(t),a=r[0];r.bind("load.jcloader",s).bind("error.jcloader",function(){r.unbind(".jcloader"),e.isFunction(i)&&i.call(a)}),a.complete&&e.isFunction(n)&&(r.unbind(".jcloader"),n.call(a))},e.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:!1,borderOpacity:.4,handleOpacity:.5,handleSize:null,aspectRatio:0,keySupport:!0,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}}(jQuery),define("jcrop",["jquery"],function(e){return function(){var t;return t||e.jcrop}}(this)),define("modules/userManager/userinfo",["jquery","popup","config","md5","jQvalidation","jQmessage","jQvalidationRule","jcrop"],function(e,t,n){return{init:function(){function t(n){window.setTimeout(function(){if(n--,0==n){var i=e("#send-valid-code");i.removeClass("hide"),e("#text-message-record").addClass("hide"),i.text("重新获取验证码"),e("#show_num_count").text("60")}else e("#show_num_count").text(n),t(n)},1e3)}function i(t){if(parseInt(t.w)>0){e("input[name='x']").val(t.x),e("input[name='y']").val(t.y),e("input[name='w']").val(t.w),e("input[name='h']").val(t.h);var n=e("#img_preview").width()/t.w,i=e("#img_preview").height()/t.h;e("#imgJscropPreview").css({width:Math.round(n*e("#imgJscrop").width())+"px",height:Math.round(n*e("#imgJscrop").height())+"px",marginLeft:"-"+Math.round(n*t.x)+"px",marginTop:"-"+Math.round(i*t.y)+"px"})}}e("#updatePwdId").click(function(t){t.preventDefault(),e("#dialog_updatepwdId").popup_temp()}),e("#cancel_update_pwd").click(function(t){t.preventDefault(),e("#dialog_updatepwdId").popup_temp("close")});var s={rules:{initPwd:{required:!0,remote:{url:n.ctx+"/userInfo/checkUserPwd",data:{initPwd:function(){var t=e("#initPwd").val(),n=hex_md5(t);return n}}}},newPwd:{required:!0,minlength:6,maxlength:20},confirmPwd:{required:!0,minlength:6,maxlength:20,equalTo:"#newPwd"}},messages:{initPwd:{remote:"原始密码不正确"}},submitHandler:function(t){var n=e("#newPwd"),i=n.val(),s=hex_md5(i);n.val(s),t.submit()}};e("#update-pwd-form").validate(s);var r={rules:{mobile_phone:{required:!0,mobileNumber:!0,remote:{url:n.ctx+"/userInfo/checkPhone"}},phone_valid_code:{required:!0,remote:{url:n.ctx+"/userInfo/validCode",data:{usermobile:function(){return e("#mobile_phone").val()},validcode:function(){return e(this).val()}}}}},messages:{mobile_phone:{remote:"该手机已经验证"},phone_valid_code:{remote:"验证码不匹配"}}},a=e("#account_center_phone_verify").validate(r);e("#phoneValidateId").click(function(t){t.preventDefault(),e("#validateMobId").popup_temp()}),e("#phonelModifyId").click(function(t){t.preventDefault(),e("#validateMobId").popup_temp()}),e("#send-valid-code").click(function(i){if(i.preventDefault(),a.element("#mobile_phone")){var s=e("#mobile_phone").val();e(this).addClass("hide"),e("#text-message-record").removeClass("hide"),t(60);var r=n.ctx+"/userInfo/generateCode";e.ajax({url:r,data:{usermobile:s},success:function(){},error:function(){alert("服务器未知错误!")}})}}),e("#cancel_verify_phone").click(function(t){t.preventDefault(),e("#validateMobId").popup_temp("close")}),e("#emailValidateId").click(function(t){t.preventDefault(),e("#validateEmailId").popup_temp()}),e("#show_user_base_info .fr").on("click","a",function(t){t.preventDefault(),e("#show_user_base_info").addClass("hide"),e("#edit_user_base_info").removeClass("hide")});var o={rules:{identityNumber:{required:!0,number:!0}},messages:{countyCode:{remote:"输入地址不合法"}}};e("#edit_user_base_info_form").validate(o),e("#uploadifyBtn").click(function(t){t.preventDefault(),e("#uploadfiy_window").popup_temp(),e("#imgJscrop").Jcrop({onSelect:i,onChange:i,aspectRatio:1})}),e("#cancel-uploady-photo").click(function(t){t.preventDefault(),e("#uploadfiy_window").popup("close")}),e("#uploadify_window_cancel").click(function(t){t.preventDefault(),e("#uploadfiy_window").popup_temp("close")}),e("#file_uploadify_btn").on("change",function(t){t.preventDefault();var n=t.target;alert(n.result),e("#img_crop").attr("src",n.value)}),e("#save-cut-photo").click(function(t){t.preventDefault(),e("input[name='filePath']").val(e("#imgJscropPreview").attr("src")),e("#cut-form").submit()})}}}),define("modules/companyageCert/person",["jquery","popup","jQvalidation","jQmessage","plugins/validation","config","plugins/miscs"],function(e){return{init:function(){e(".uc-tab>ul>li ").on("click",function(t){e("li","#toolbar").removeClass("crt"),e(this).addClass("crt");var n=e(t.target).data("clickId");3==n?e(".uc-pages").removeClass("hide"):e(".uc-pages").addClass("hide"),e("#panel-"+n).removeClass("hide");for(var i=1;6>i;i++)i!=n&&e("#panel-"+i).addClass("hide")}),e("#editId").click(function(){var t=e("#editId").data("idNo");e.ajax({type:"POST",url:"",data:{id:t},dataType:"json"}),e("#winFormId").popup()})}}}),define("modules/feedback/list",["jquery","plugins/miscs","config"],function(e,t,n){var i=function(t){var n=e("#pageNumber");n.length>0?e("input[name=pageNumber]").val(t):e(".page_submit").append('<input name="pageNumber" value="'+t+'" type="hidden" />'),e(".page_submit").submit()};return{init:function(){e(".evaluation_submit",".batch-evaluation-list").on("click",function(t){var i=e(this),s=e(t.target).data("orderId"),r=e(t.target).data("driverId"),a=e("#description"+s).val(),o=[];e(".feedback_level","#fb-dl"+s).each(function(t,n){o.push(e(n).data("level"))}),e.ajax({type:"POST",url:n.ctx+"/feedback/edit",data:{orderId:s,driverId:r,description:a,feedbacks:o},async:!1,dataType:"json",success:function(e){var t=e.fstatus;(2==t||4==t)&&(i.parents(".uncomment").removeClass("uncomment"),i.parents(".eval-item").find(".evalform").slideUp(250,"linear",function(){i.parents(".eval-item").nextAll(".uncomment:eq(0)").find(".evalform").delay(100).slideDown(250,"linear"),i.parents(".eval-item").nextAll(".uncomment:eq(0)").addClass("eon").siblings(".eval-item").removeClass("eon"),i.parents(".eval-item").nextAll().hasClass("uncomment")||(i.parents(".eval-item").prevAll(".uncomment").last().find(".evalform").slideDown(250,"linear"),i.parents(".eval-item").prevAll(".uncomment").last().addClass("eon").siblings(".eval-item").removeClass("eon"))}),i.parents(".eval-item").find(".scstatus").removeClass("ftorange").addClass("ftgreen").html("已评价"),i.parents(".eval-item").find(".btn-a-white").removeClass("btn-a-white").html('<a href="'+n.ctx+"/feedback/Window/"+s+'/detail" title="查看评价" target="_blank">查看评价</a>'))}})}),e(".evaluation_wait",".batch-evaluation-list").on("click",function(){var t=e(this);t.parents(".eval-item").siblings(".eval-item").find(".evalform").slideUp(250,"linear",function(){t.parents(".eval-item").find(".evalform").delay(350).slideDown(250,"linear"),t.parents(".eval-item").addClass("eon").siblings(".eval-item").removeClass("eon")})}),e(".page_a",".batch-evaluation-list").on("click",function(t){var n=e(t.target).data("pageNumber");i(n)});var t=["非常不满","不满意","一般","满意","非常满意"];e(".feedback_level > i",".batch-evaluation-list").mouseover(function(){var n=e(this);n.prevAll().andSelf().removeClass("ico-stargrey"),n.prevAll().andSelf().addClass("ico-starblue"),n.parent().next().find("span").text(e(this).index()+1),n.parent().next().next().text(t[e(this).index()]),n.nextAll().removeClass("ico-starblue"),n.nextAll().addClass("ico-stargrey"),e(this).parent().data("templevel",e(this).index()+1)}),e(".feedback_level",".batch-evaluation-list").mouseleave(function(){var n=e(this),i=n.data("level");i||(i=1,n.parent().data("level",1),n.parent().data("templevel",1)),n.data("templevel",i),n.next().find("span").text(i),n.next().next().text(t[i-1]),n.children().each(function(t,n){t>=i?(e(n).removeClass("ico-starblue"),e(n).addClass("ico-stargrey")):(e(n).addClass("ico-starblue"),e(n).removeClass("ico-stargrey"))})}),e(".feedback_level > i",".batch-evaluation-list").click(function(){e(this).parent().data("level",e(this).parent().data("templevel"))})}}}),define("modules/feedback/main",["jquery","modules/feedback/list"],function(e,t){return{init:function(){e(".batch-evaluation-list").length>0&&t.init()}}}),define("modules/main",["modules/freight/main","modules/register","modules/order/main","modules/companyageCert/cert","modules/truck/main","modules/userManager/userinfo","modules/companyageCert/person","modules/feedback/main"],function(e,t,n,i,s,r,a,o){return{init:function(){e.init(),t.init(),n.init(),i.init(),s.init(),r.init(),a.init(),o.init()}}}),define("modules",["modules/main"],function(e){return e}),requirejs.config(window.requirejs_cfg),require(["jquery","plugins","modules"],function(e,t,n){e(document).ready(function(){t.init(),n.init()})}),define("main",function(){});
//# sourceMappingURL=main.min.js.map